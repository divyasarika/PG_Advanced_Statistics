wac_wO.prototype.r6a=wac_b(500,function(){if(!this.Tg){var a=this;wac_sO(this.Rs).CWo(function(){wac_sO(a.Rs).sc().r6a()},11)}});wac_HC.prototype.Emc=wac_b(238,function(){});wac_mO.prototype.Emc=wac_b(237,function(a){this.wa.fd("OR",a)});wac_HC.prototype.hkc=wac_b(236,function(){});wac_mO.prototype.hkc=wac_b(235,function(a){this.wa.ob("OR",a)});wac_XVa.prototype.$Yb=wac_b(202,function(){});
wac_1O.prototype.$Yb=wac_b(201,function(a){var b=this.xa.ac("PresenceRenderIpSlowDurationMilliseconds",3E3);if(!this.Vic.hb(a)){this.Vic.Z(a,!1);var c=this;this.Va.nc(new wac_B(3,1,b,function(){var d,e;e=c.Vic.Tb(a,d={val:d},!1);d=d.val;e;d||(wac_5d().recordQosError("PresenceRenderFailed",["PresenceExperienceDegraded"],!0,!0,!0,!1,null),wac_(51683551,302,15,"Presence didn't render for the selected person from people well. Veto Set At:{0}",b));c.Vic.zb(a)},0,null,!1,0))}});
function wac_DRb(a,b,c){if(!b)return null;if(!a.G6)return wac_(50870151,304,10,"Tried to acquire a lock for wet change before the coauthManager is ready. This will fail."),null;var d=b.pa(Number,wac_oq,0),e=null;b=b.pa(Number,wac_qt,0);var f=a.VHa.hb(d)?a.VHa.B(d):0;b&&(e=wac_ay(a,b));!e&&f&&(e=wac_ay(a,f));if(e)return a.VHa.Z(d,e.LockId),e;e=new wac_BTa;e.LockId=wac_CKb(a);e.ParagraphIds=[d];e.Type=4;if(!c)return wac_(17866973,304,10,"An attempt to acquire a Lock was made  with an empty clientId. The lockOwner cannot be empty."),
null;(f=wac_2Da(a.G6.zx,c))?f.Name===CommonUIStrings.l_AnonymousUserName&&wac_(592229833,304,15,"The looked up author has no name"):(f=new wac_cc,f.Id=c,f.Name=CommonUIStrings.l_AnonymousUserName,a.FQa.hb(c)||a.FQa.U(c,new (wac_h.$$(Number))(null)),a.FQa.B(c).U(e.LockId));if(!f)return wac_(7440404,304,10,"Unable to get a wetchange lock on node {0} as client {1} is not in editorstable",b,c),null;e.LockOwner=f;wac_DKb(a,e,e.LockId);a.VHa.Z(d,e.LockId);return e}
function wac_ERb(a,b){if(wac_PO.isInstanceOfType(b)){var c=b.Ia(Number,wac_oq);if(a.VHa.hb(c)){var d=a.VHa.B(c);if(d){var e=wac_ay(a,d);e&&4!==e.Type||(delete a.J5[d.toString()],a.VHa.zb(c),b.ma(wac_qt,0),a.wa.Za("WLR",new wac_zKb(d),a))}}}else wac_(18227549,304,10,"An attempt to remove a Wet Change lock on a node that is not a paragraph node was made.")}
function wac_FRb(a,b,c,d,e){var f=wac_Q6a(a,b,c,!1,0);if(f&&d){var g=b.fa;d=wac_lB(g.va,b.ya);d||(wac_zD(a,wac_U(g,b.ya+1)),wac_zD(a,wac_U(g,b.ya)),d=wac_lB(g.va,b.ya));d.fb||wac_tD(d,new wac_CD(d,wac_w(),null));1===c.length?((c=wac_lB(g.va,b.ya+1))?c.fb||wac_tD(c,new wac_CD(c,wac_w(),null)):wac_zD(a,wac_U(g,b.ya+1)),c=new wac_mF(d,null,22,"",!1),wac_BD(d,c)):2===c.length&&""!==e&&a.H9.XX(d.fb,e)}f&&wac_R6a(a,b.fa,!1)}
function wac_fR(a){if(!a.aj.la()){a.a$d||(wac_fa(42316242,302,50,"No users available at PeopleInfoProvider.GetAllUsers call"),a.a$d=!0);if(a.xj){var b=a.xj.I2a();wac_ZDa(a,b)}if(a.c2)for(var b=wac__Da(a.c2),c=b.length,d=0;d<c;++d){var e=b[d];e.Id&&(e=wac_0Da(a,e.Id),wac_1Da(a,new wac_wo(0),e))}}b=[];for(a=a.aj.GetEnumerator();a.$$mn();)c=a.$$cu(),Array.add(b,c.qa());return b}function wac_GRb(a,b){var c;a=a.aj.Tb(b,c={val:c},null);c=c.val;a;return c}
var wac_HRb=null,wac_IRb=null,wac_JRb=null,wac_KRb=null;
function wac_LRb(a){var b,c,d;a=(d=wac_zRb(a,c={val:b}),b=c.val,d);if(!a)return!1;switch(b){case 0:case 1:return"number"!==typeof a.CP||null!=a.FB&&"number"!==typeof a.FB||null!=a.FE&&"number"!==typeof a.FE||null!=a.HB&&"number"!==typeof a.HB||null!=a.HE&&"number"!==typeof a.HE||null!=a.CB&&"number"!==typeof a.CB||null!=a.CE&&"number"!==typeof a.CE||null!=a.R&&"number"!==typeof a.R||null!=a.E&&"number"!==typeof a.E||null!=a.TW&&"number"!==typeof a.TW||null!=a.PB&&"number"!==typeof a.PB||null!=a.SYM&&
"number"!==typeof a.SYM||null!=a.IE&&"number"!==typeof a.IE||null!=a.OO&&"number"!==typeof a.OO||null!=a.AX&&"number"!==typeof a.AX||null!=a.CCI&&"number"!==typeof a.CCI||null!=a.DD&&"number"!==typeof a.DD?!1:!0;default:return!1}}
function wac_MRb(a){if("number"!==typeof a.RK||"number"!==typeof a.DK)return!1;var b,c=!1,d=!1,e=!1;switch(a.RK){case 0:d=b=!0;break;case 1:e=c=d=b=!0;break;case 2:if(null!=a.PE&&"number"!==typeof a.PE)return!1;b=!0;break;case 4:b=!0;break;case 3:d=b=!0;break;case 5:c=b=!0;break;default:return!1}return b&&("number"!==typeof a.PS||"number"!==typeof a.TS)||d&&("object"!==typeof a.OS||!a.OS||!wac_LRb(a.OS))||c&&("number"!==typeof a.PE||"number"!==typeof a.TE)||e&&("object"!==typeof a.OE||!a.OE||!wac_LRb(a.OE))?
!1:!0}function wac_NRb(a){return wac_Q8a(a)}function wac_ORb(a){return a&&a.style?wac_ll(a,"transform")?a.style.transform:wac_ll(a,"msTransform")?a.style.msTransform:wac_ll(a,"MozTransform")?a.style.MozTransform:wac_ll(a,"webkitTransform")?a.style.webkitTransform:null:null}
function wac_PRb(a){for(var b=new (wac_e.$$(Number)),c=a.$$lge();c.$$mn();)if(a=c.$$cu())a=window.parseFloat(a),!window.isNaN(a)&&window.isFinite(a)&&b.U(a);c={};c.C=b.la();if(0<b.la()){for(var d=0,e=b.$$lge();e.$$mn();)a=e.$$cu(),d+=a;d/=b.la();c.M=d.toFixed(2);for(var e=0,f=b.$$lge();f.$$mn();)a=f.$$cu(),e+=(a-d)*(a-d);e/=b.la();b=Math.sqrt(e);c.SD=b.toFixed(2)}return wac_wi(c)}
function wac_QRb(a){var b=0;for(a=a.$$lge();a.$$mn();){var c=a.$$cu();c&&(c=window.parseInt(c),!window.isNaN(c)&&window.isFinite(c)&&(b+=c))}return wac_wi(b)}Type.registerNamespace("Common.App.CoauthTelemetry");wac_g=window.Common||{};wac_g.Ba=wac_g.Ba||{};wac_g.Ba.Ylb=wac_g.Ba.Ylb||{};function wac_RRb(a){this.Cre=Function.createDelegate(this,this.k4e);this.Dma=Function.createDelegate(this,this.RBa);this.J6b={};this.wec={};this.sVa=a}
wac_RRb.prototype={gH:null,sVa:null,IAb:null,SWb:function(a){var b=new (wac_ab.$$(Number)),c=this;this.wb().CW(function(){a in c.J6b?wac_bb(b,c.J6b[a]):c.wec[a]=b});return b.Xc},wb:function(){if(this.IAb)return this.IAb.Xc;this.IAb=new (wac_ab.$$(Object));var a=this;this.sVa.CW(function(){a.gH=a.sVa.sc();a.gH.wa.ob("UU",a.Dma);wac_SRb(a);a.IAb.ig(null)});return this.IAb.Xc},RBa:function(){wac_SRb(this)},k4e:function(a,b){return a.R9>b.R9?1:a.R9<b.R9?-1:0}};
function wac_SRb(a){var b=wac_fR(a.gH);b.sort(a.Cre);a.J6b={};for(var c=0;c<b.length&&b[c]&&b[c].R9;c++){var d=a,e=b[c].Th(),f=c;a.J6b[e]=f;e in d.wec&&(wac_bb(d.wec[e],f),delete d.wec[e])}}
function wac_TRb(a,b,c,d,e,f,g,h,k){this.Goc=Function.createDelegate(this,this.$Jc);this.mqd=Function.createDelegate(this,this.Juf);this.rE=a;this.edb=new (wac_ab.$$(wac_g.pUb));this.xa=c;this.M6b=b;this.Su=d;this.Vg=e;this.yec=f;this.sVa=g;this.BUd=h;this.D1c=this.C1c=!1;this.BIb=0;this.GWc=1;this.xia=k;this.geb=this.xa.ga("PeoplesWellExtraButtonInfoIsEnabled")}
wac_TRb.prototype={rE:null,edb:null,M6b:null,xa:null,Su:null,Vg:null,yec:null,sVa:null,BUd:null,geb:!1,gH:null,PWd:null,xbe:null,GWc:0,D1c:!1,C1c:!1,BIb:0,xia:null,wb:function(){var a=this;wac_Xa.WAA.call(null,this.sVa,this.M6b,this.yec).CW(function(){a.gH=a.sVa.sc();a.PWd=a.M6b.sc();a.xbe=a.yec.sc();wac_Xa.WAA.call(null,a.M6b.sc().IWa.Xc,a.yec.sc().Bic.Xc).CW(function(){a.GWc=a.PWd.IWa.Xc.sc();a.BIb=a.xbe.Bic.Xc.sc();a.gH.wa.ob("UU",a.mqd);wac_fR(a.gH).length&&a.RBa()})})},Juf:function(){this.RBa()},
RBa:function(){this.BUd(wac_fR(this.gH))?(this.gH.wa.fd("UU",this.mqd),wac_URb(this,this.C1c)):wac_bb(this.edb,1);this.C1c=!0},$Jc:function(){var a=wac_7d(this.Vg,"AppInitStatus_"+wac_g.Ba.Dza.toString(4));wac_c(42259235,325,!!this.BIb,null);var b=this.BIb-a,c={};c.InteractiveTime=a;c.ReactRenderComplete=this.BIb;c.HadTabSwitch=this.xia();c.IsModernGallery=this.geb;wac_(594883104,325,50,wac_lm(c));this.geb?(wac_(42062997,325,15,b.toString()),a=this.edb,c=this.xa.ac("CoauthorGalleryTimeToRenderDurationMs",
1E4),c=b>c,this.xia()?(wac_(50455714,325,50,c.toString()),b=!1):(c&&(wac_(42062998,325,15,b.toString()),wac_5d().recordQosError("CoauthorGalleryTimeToRenderDurationIsTooLong",["CoauthGalleryExperienceDegraded"],!1,!0,!0,!1,null)),b=c),wac_bb(a,b?3:2)):wac_(594883103,325,15,b.toString())}};function wac_VRb(a,b){b?a.Su.pk(4,a.Goc,3):wac_bb(a.edb,1)}
function wac_URb(a,b){a.D1c?a.edb.Xc.CW(function(){wac_(42062996,325,15,"We already attempted to log a render of coauthor gallery: {0}",wac_g.pUb.toString(a.edb.Xc.sc()))}):(a.D1c=!0,wac_VRb(a,!a.GWc&&!b))}function wac_WRb(a,b){this.Dma=Function.createDelegate(this,this.RBa);this.B9c=a;this.Ibe=b}function wac_XRb(a){for(var b,c=null,d=a.length,e=0;e<d;++e)if(b=a[e])if(b=b.uw||!b.tw?b.Th():b.tw.toUpperCase(),!c)c=b;else if(c!==b)return!0;return!1}
wac_WRb.prototype={b3:null,Ibe:null,B9c:null,wb:function(){var a=this;this.B9c.CW(function(){a.b3=a.B9c.sc();a.b3.wa.ob("UU",a.Dma)})},RBa:function(){wac_XRb(wac_fR(this.b3))&&(this.b3.wa.fd("UU",this.Dma),this.Ibe.IsRealCoauthSession=!0)},qSf:function(){return this.b3?wac_XRb(wac_fR(this.b3)):!1}};function wac_YRb(){}
wac_YRb.prototype={Yb:function(){return"Common.App.CoauthTelemetry"},Zb:function(a){wac_n(wac_o(wac_p(a.oa(wac_WRb,null),wac_4wa)),function(){return new wac_WRb(wac_Fb(wac_qc,wac_m(a,wac_qc)),wac_q.Fm)});wac_n(wac_o(wac_p(a.oa(wac_TRb,null),wac_lca)),function(){return new wac_TRb(wac_x(),wac_Fb(wac_6b,wac_m(a,wac_6b)),wac_q.W,window.Common.App.AppLifecycleManager.get_instance(),wac__d(),wac_Fb(wac_rc,wac_m(a,wac_rc)),wac_Fb(wac_qc,wac_m(a,wac_qc)),wac_XRb,function(){return wac_ZRb()})});wac_n(wac_o(wac_p(a.oa(wac__Rb,
null),wac_1m)),function(){return new wac__Rb(wac_Fb(wac_6b,wac_m(a,wac_6b)),window.Common.App.AppLifecycleManager.get_instance(),a.J(wac_3wa,null),wac__d(),function(){return wac_ZRb()},wac_q.W,null,wac_5d())});wac_n(wac_o(wac_p(a.oa(wac_RRb,null),wac_3wa)),function(){return new wac_RRb(wac_Fb(wac_qc,wac_m(a,wac_qc)))})},wb:function(){wac_9h(wac_q.W,function(){wac_k().J(wac_WRb,null).wb();wac_q.W.ga("CoauthorGalleryTelemetryIsEnabled")&&wac_k().J(wac_lca,null).wb();wac_q.W.ga("CashTelemetryIsEnabled")&&
(wac_k().J(wac_1m,null),wac_k().J(wac_3wa,null))})},na:function(){}};function wac_ZRb(){return wac_0d()&&wac_6d(wac__d(),"UserActions")?0<wac_7d(wac__d(),"UserActions").VisiToggled:!1}
function wac__Rb(a,b,c,d,e,f,g,h){this.lce={};this.ieb=new (wac_d.$$(Number))(function(){return f.w0("PresenceBootLatencyThreshold",1E4)});this.m8a=new (wac_d.$$(Number))(function(){return f.w0("PresenceBootLatencyCutoffThreshold",6E4)});this.Su=b;this.Jbe=c;this.HWc=a;this.Vg=d;this.wDb=g;this.xia=e;this.Vf=h;this.wb()}
wac__Rb.prototype={HWc:null,wDb:null,JAb:null,Su:null,Jbe:null,Wvb:null,Vg:null,bhe:0,che:0,ieb:null,m8a:null,xia:null,Vf:null,inb:function(a,b,c,d){c&&(wac_c(42274970,302,!this.wDb||this.wDb===c,"_myClientId is already set and you are trying to update it to something different"),this.wDb=c);var e=new (wac_ab.$$(Boolean)),f=this;this.wb().CW(function(){var c=b?b.getTime():(new Date).getTime();if(a in f.lce)e.p1();else{var h;new (wac_ab.$$(Number));h=1===f.bhe?wac_0a(Number,f.che):wac_0Rb(f);c=new wac_1Rb(a,
h,c,f.SWb(f.wDb||"{"+wac_q.eg+"}"),f.SWb(a),f.ieb,f.m8a,d,f.xia);f.lce[a]=c;wac_2Rb(c,e)}});return e.Xc},wb:function(){if(this.JAb)return this.JAb.Xc;this.JAb=new (wac_ab.$$(Object));this.xia()&&wac_(50951700,302,15,"TabSwitched Session");var a=this;this.HWc.CW(function(){var b=a.HWc.sc(),c=b.IWa.Xc,d=b.ehe.Xc;d.CW(function(){c.CW(function(){a.Vf&&a.Vf.addQosPillar(window.Common.QosPillarName.toString(6));a.cRc(c.sc(),d.sc());a.JAb.ig(null)})})});return this.JAb.Xc},cRc:function(a,b){this.bhe=a;this.che=
b?b:(new Date).getTime()},SWb:function(a){return this.Jbe.SWb(a)}};function wac_0Rb(a){if(a.Wvb)return a.Wvb.Xc;a.Wvb=new (wac_ab.$$(Number));a.Su.pk(4,function(){var b=wac_7d(a.Vg,"AppInitStatus_"+wac_g.Ba.Dza.toString(4));wac_bb(a.Wvb,b)},3);return a.Wvb.Xc}function wac_1Rb(a,b,c,d,e,f,g,h,k){this._id=a;this.Ucd=b;this.Fr=c;this.Ycc=d;this.uic=e;this.ieb=f;this.m8a=g;this.zwb=h;this.xia=k}wac_1Rb.prototype={sh:0,Ucd:null,ieb:null,m8a:null,sfe:!1,Fr:0,Ycc:null,uic:null,zwb:0,_id:null,xia:null};
function wac_3Rb(a){switch(a){case 2:return"NonWac";case 0:return"Unknown";case 1:return"Wac";default:return"Unknown"}}
function wac_2Rb(a,b){wac_Xa.WAA(a.Ucd,a.Ycc,a.uic).CW(function(){if(a.Ycc.sc()<=a.uic.sc())wac_bb(b,!1);else{a.sh=a.Ucd.sc();var c=a.Fr-a.sh,d=new window.Common.App.CoauthTelemetry.PL;d.id=a._id;d.et=a.Fr;d.st=a.sh;d.d=a.Fr-a.sh;d.mp=a.Ycc.sc();d.tp=a.uic.sc();d.ct=wac_3Rb(a.zwb);d.vc=a.xia();var e=wac_wi(d);wac_(42078597,302,15,e);if(c>a.ieb.qa()&&!a.sfe&&!d.vc&&c<a.m8a.qa()){a.sfe=!0;wac_bb(b,!0);var f,d=(f=new wac_Bm,f.extendedProperties=new window.Map,f);d.extendedProperties.set("data",e);wac_5d().recordQosError("PresenceRenderDurationIsTooLong",
["PresenceExperienceDegraded"],!1,!0,!1,!1,d);wac_(42078598,302,15,"{d:"+c+",vt:"+a.ieb.qa()+",ct:"+a.m8a.qa()+"}")}b.Xc.Sk()||wac_bb(b,!1)}})}window.Common.App.CoauthTelemetry.PL=wac_g.Ba.Ylb.tvf=function(){};wac_g.Ba.Ylb.tvf.prototype={id:null,et:0,st:0,mp:0,tp:0,d:0,ct:null,vc:!1};wac_RRb.registerClass("Common.App.CoauthTelemetry.CoauthorPositionFinder",null,wac_3wa);wac_TRb.registerClass("Common.App.CoauthTelemetry.CoauthorGalleryTelemetry",null,wac_lca);
wac_WRb.registerClass("Common.App.CoauthTelemetry.CoauthTelemetry",null,wac_4wa);wac_YRb.registerClass("Common.App.CoauthTelemetry.CoauthTelemetryPackage",null,wac_H,wac_j);wac__Rb.registerClass("Common.App.CoauthTelemetry.PresenceBootTelemetry",null,wac_1m);wac_1Rb.registerClass("Common.App.CoauthTelemetry.PresenceLatencyActivityLogger");window.Common.App.CoauthTelemetry.PL.registerClass("Common.App.CoauthTelemetry.PL");wac_I(wac_C(),new wac_YRb,0,!1);Type.registerNamespace("Common.App.CollabControls");
wac_g=window.Common||{};wac_g.Ba=wac_g.Ba||{};wac_g.Ba.Qza=wac_g.Ba.Qza||{};function wac_4Rb(){}wac_4Rb.registerInterface("Common.App.CollabControls.IPresenceTooltipControl");function wac_5Rb(){}wac_5Rb.registerInterface("Common.App.CollabControls.IPresenceTooltipFactory");wac_g.Ba.Qza.d5a=function(){};
wac_g.Ba.Qza.d5a.prototype={multipleBrowsersImageClassName:0,peopleImageClassName:1,peopleImageClusterPath:4,multipleBrowserImageClusterPath:5,imageDimension:6,rtl:8,pointerInputManager:9,clickInputManager:10,vertical:11,zIndex:12,contextMenuInputManager:13,imageDomElement:14,useIdleTooltip:15,viewportBoundsCallback:16,flipHorizontalDirection:17,fixRemoveFadeOutElementCrash:18};wac_g.Ba.Qza.d5a.registerEnum("Common.App.CollabControls.PresenceTooltipSettingKeys",!1);
function wac_gR(a){this.wW=Function.createDelegate(this,this.lGf);this.dispose=this.na;wac_gR.initializeBase(this);this._element=a}
wac_gR.prototype={_element:null,Rp:function(){return"visible"===this._element.style.visibility},nr:function(a){this._element.style.visibility=a?"visible":"hidden";return a},na:function(){this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element);this._element=null;wac_Xd.prototype.na.call(this)},Cj:function(a){return this._element.ownerDocument.createElement(a)},lGf:function(){return!0}};function wac_hR(a,b){a._element.style.zIndex=b}
function wac_6Rb(a,b){a._element.dir=b?"rtl":"ltr"}function wac_iR(a,b){wac_iR.initializeBase(this);this.yc=a;this.hsc=b}wac_iR.prototype={yc:0,hsc:null};
function wac_jR(a,b,c){this.fJa=Function.createDelegate(this,this.L4a);this.kZa=Function.createDelegate(this,this.aqf);this.aj=[];this.dispose=this.na;wac_jR.initializeBase(this,[a]);this.U9a={};this.ad=c;this.Dh=c.rl(Boolean,8,!1);this.M1c=c.rl(Boolean,15,!1);this.lfa=c.rl(Number,12,0);this.Qma=c.rl(Number,6,0);this.wHb=b;this.Jfd=c.rl(Function,16,null);this.nzb=c.rl(Boolean,17,!1);this.jCb=0;this.Kbe=new wac_7Rb(this.Dh,this.nzb);this.L6a=this.Dh?3:4;this.wGa=!1;this.vQa=[];this.X9a=[];this._element.id=
String.format("{0}-{1}","presencetooltip",wac_8Rb++);this._element.className="prControl"+(this.Dh?"Rtl":"");this.lfa&&wac_hR(this,this.lfa);wac_6Rb(this,this.Dh);this.JPc(b);this.tJ=this.Cj("div");this.tJ.className="prFlyoutContainer";this._element.appendChild(this.tJ);this.GH=[];this.Jta=new wac_9Rb(this.GH,this._element,this.Qma,4,6,32,this.Dh);this.Xj=c.rl(wac_5c,9,null);this.Xj.Ra("msospPointerDown",this.Jta.Ie,this.kZa);this.Xj.Ra("msospPointerOver",this.Jta.Ie,this.kZa);this.Xj.Ra("msospPointerOut",
this.Jta.Ie,this.kZa)}
wac_jR.prototype={Dh:!1,QEa:!1,V2d:!1,ika:!1,wHb:0,jCb:0,fcb:!1,M1c:!1,nzb:!1,wGa:!1,U9a:null,tJ:null,Jta:null,vQa:null,X9a:null,Kbe:null,L6a:0,Xj:null,ad:null,Jfd:null,xlc:function(){return wac_Je(this.aj)},GH:null,lfa:0,Qma:0,Hb:function(){return this._element},na:function(){if(3!==wac_kR(this)||this.QEa){if(this.GH)for(var a=this.GH,b=a.length,c=0;c<b;++c){var d=a[c];d.Cmc(this.fJa);wac_Zb(d)}this.GH=null;this.Xj.Lb("msospPointerDown",this.Jta.Ie,this.kZa);this.Xj.Lb("msospPointerOver",this.Jta.Ie,
this.kZa);this.Xj.Lb("msospPointerOut",this.Jta.Ie,this.kZa);wac_gR.prototype.na.call(this)}else this.wGa=!0},DPa:function(){wac_lR(this,!1);this.nr(!0)},Z2b:function(){this.nr(!0);wac_$Rb(this);this.QEa=!0},$d:function(){wac_aSb(this,5);this.Kpa();this.Jta.Sn(wac_kR(this),this.fcb)},bX:function(a){var b=wac_kR(this),c=this.QEa;a.ml||(a.ml=(wac_8Rb++).toString());var d;if(a.ml in this.U9a&&(d=this.FMa(a.ml),0<=d)){d=this.aj[d];if(d.Bs===a.Bs&&d.Yp===a.Yp)return;this.Sqa(a.ml)}this.$d();d=new wac_bSb(this.Cj("div"),
this.ad);d.VJb(this.fJa);this.tJ.insertBefore(d._element,this.tJ.firstChild);this.U9a[a.ml]=d;Array.add(this.aj,a);Array.add(this.GH,d);wac_cSb(this,b,c);this.nr(!0)},Sqa:function(a){if(3!==wac_kR(this)||this.QEa){var b=wac_kR(this),c=this.QEa;this.$d();this.ssb(a);wac_cSb(this,b,c)}else Array.add(this.X9a,a)},RBc:function(a){a=a.mb.rawEvent.relatedTarget;if(this.tJ!==a&&wac_wd(this.tJ,a))return!0;for(var b=this.GH,c=b.length,d=0;d<c;++d)if(wac_wd(b[d]._element,a))return!0;return!1},Kpa:function(){var a=
0,b=0;this.fcb&&(a=this.L6a,b=-6);for(var c=0;c<wac_mR(this);c++)this.GH[c].$d(this.aj[c],b,a);wac_hR(this,this.lfa);this.QEa=!1;this.nr(!1);this.wGa&&this.na()},L4a:function(a,b){a=wac_kR(this);if(2===b.yc||4===b.yc&&3!==a)this.ika&&(this.ika=!1),3!==a&&(wac_$Rb(this),3===b.hsc.Pe&&wac_dSb(this,2E3));else if(4===b.yc&&3===a)this.ika&&(this.ika=!1),wac_dSb(this,0);else if(3===b.yc&&3===a&&!this.QEa)if(1<wac_mR(this)){this.ika=!0;var c=this;wac_Za(250).CW(function(){wac_lR(c,!0);c.ika=!1})}else wac_dSb(this,
0);this.Za("InteractivityChanged",b,null)},aqf:function(a){3===a.Pe?this.L4a(this,new wac_iR(4,a)):"msospPointerOver"===a.fo?this.L4a(this,new wac_iR(2,a)):"msospPointerOut"===a.fo&&this.L4a(this,new wac_iR(3,a));return!1},JPc:function(a){this._element.style.width=a+"px";this._element.style.height=this.Qma+"px"},ssb:function(a){if(-1===this.FMa(a))wac_(41706452,302,50,"Cannot remove active editor because client id is invalid");else if(Array.contains(this.vQa,a)){Array.remove(this.vQa,a);if(this.aj[0].ml===
a&&0<this.vQa.length){var b=this.vQa[this.vQa.length-1];if(b in this.U9a){var c=this.FMa(b);if(c){var d=this.aj[c],b=this.U9a[b];Array.removeAt(this.aj,c);Array.insert(this.aj,0,d);Array.removeAt(this.GH,c);Array.insert(this.GH,0,b);this.tJ.removeChild(b._element);this.tJ.appendChild(b._element);wac_lR(this,!1)}}}this.aj[0].ml===a&&1===wac_kR(this)&&wac_lR(this,!1)}a=this.FMa(a);0>a||(c=this.aj[a],Array.removeAt(this.aj,a),delete this.U9a[c.ml],c=this.GH[a],this.tJ.removeChild(c._element),this.ad.rl(Boolean,
18,!1)&&c.Cmc(this.fJa),Array.removeAt(this.GH,a),c.na())},FMa:function(a){for(var b=0;b<this.aj.length;b++)if(this.aj[b].ml===a)return b;return-1},UOc:function(a){for(var b=0;b<wac_mR(this);b++)this.GH[b].UOc(a)}};function wac_eSb(a,b){b?Sys.UI.DomElement.addCssClass(a.tJ,"prBackgroundSelection"):Sys.UI.DomElement.removeCssClass(a.tJ,"prBackgroundSelection")}
function wac_aSb(a,b){if(a.X9a.length){a.Rp()&&a.Kpa();for(var c=0;c<a.X9a.length;c++)a.ssb(a.X9a[c]);Array.clear(a.X9a);0>=a.aj.length||5===b?a.$d():b||a.DPa()}}function wac_dSb(a,b){b?(a.ika=!0,wac_Za(b).CW(function(){a.M1c?a.ika&&a.$d():wac_lR(a,!0);a.ika=!1})):a.M1c?a.$d():wac_lR(a,!1)}
function wac_$Rb(a){a.V2d&&wac_eSb(a,!1);wac_hR(a,a.lfa+1);var b,c,d,e=c={val:c},f=b={val:b},g=d={val:d};e.val=0;f.val=0;g.val=a.L6a;if(a.Jfd){var h=a.Jfd(a);if(h){var k=4===wac_kR(a),l;l=a.Kbe;var m=wac_mR(a),n=k?6:a.Qma,p=a.Qma,q=a._element,r=h.y,t=h.height,u=wac_mk(q).y,v=u+n,w=m*p+2*(m-1),p=null;1===m||u+w<=r+t?m=new wac_nR(0,0,2,4):(m=l.uCc(v,w,r,t),m.D4a-=u);l.nzb?p=new wac_nR(0,0,2,l.Dh?4:3):(q=l.Dh?h.width-wac_aua(q):wac_mk(q).x,u=Math.max(0,h.x),h=h.width,n=q+n,q+150<=u+h?p=new wac_nR(0,
0,2,l.Dh?3:4):150<=n-u&&(p=new wac_nR(0,0,2,l.Dh?4:3)),p||(h-n>=q-u?l=4:(n=q,l=3),p=new wac_nR(0,n,2,l)));l=new wac_nR(m.D4a,p.mLd,m.VSc,p.gFc);f.val=l.D4a;1===l.VSc?f=wac_mR(a)-1:(f=Math.abs(l.D4a),f=0<f?f/(a.Qma+2):0);a.jCb=f;g.val=l.gFc;g.val!==a.L6a&&(a.UOc(g.val),a._element.dir=3===g.val?"rtl":"ltr",a.L6a=g.val);g.val!==(a.Dh?3:4)?(e.val=k?-6:-a.Qma,a.fcb=!0):a.fcb=!1}}c=c.val;b=b.val;d=d.val;for(e=0;e<wac_mR(a);e++)a.GH[e].Ch(a.aj[e],c,b+(a.Qma+2)*e+20,3,e!==a.jCb,d)}
function wac_lR(a,b){if(!b||a.ika){a.V2d&&wac_eSb(a,!0);var c=Math.min(3,wac_mR(a))-1;b=0;var d=1,e=0;a.fcb&&(b=a.L6a,d=-1,e=-a.Qma);for(var f=wac_mR(a)-1;f>c;f--)a.GH[f].Ch(a.aj[f],-4*c*d+e,20,2,!0,b);for(f=c;0<=f;f--)c=Array.contains(a.vQa,a.aj[f].ml),a.GH[f].Ch(a.aj[f],-4*f*d+e,20,0<f?2:c?1:0,f!==a.jCb,b);a.jCb=0;a.Jta.Sn(0,a.fcb);wac_hR(a,a.lfa);a.QEa=!1;wac_aSb(a,0);a.wGa&&a.na()}}function wac_cSb(a,b,c){0>=a.aj.length?a.$d():3===b&&c?a.Z2b():a.DPa()}
function wac_kR(a){return 0<wac_mR(a)?a.GH[0].Pi:5}function wac_mR(a){return a.GH?a.GH.length:0}function wac_fSb(a){var b=wac_gSb/a,c=2*b,d=wac_hSb/2;a=(a-12-8)*b/2;var e=document.createElementNS(wac_iSb,"g");e.setAttribute("class",wac_jSb);for(var f=1;3>=f;f++)e.appendChild(wac_kSb(f,c,a+(6*f-2)*b,d));return e}
function wac_kSb(a,b,c,d){var e=document.createElementNS(wac_iSb,"circle");e.setAttribute("class",String.format("{0}-{1}",wac_lSb,a));e.setAttribute("cx",String.format("{0}",c));e.setAttribute("cy",String.format("{0}",d));e.setAttribute("r",String.format("{0}",b));return e}function wac_mSb(a){this.ad=a;wac_oR(this.ad,10,wac_Ig());wac_oR(this.ad,9,wac_Kg());wac_oR(this.ad,6,20);wac_oR(this.ad,13,wac_Tg());wac_oR(this.ad,17,!1)}
wac_mSb.prototype={ad:null,Mzc:function(a,b){wac_oR(this.ad,15,b);return new wac_jR(a,20,this.ad)}};
function wac_bSb(a,b){this.dfa=Function.createDelegate(this,this.zOa);this.kK=Function.createDelegate(this,this.aba);this.jK=Function.createDelegate(this,this.$M);this.Al=Function.createDelegate(this,this.Vq);wac_bSb.initializeBase(this,[a]);this.n3=b.rl(Boolean,8,!1);this.hja=b.rl(Number,6,0);this.Tje=b.rl(Boolean,15,!1);this.ad=b;this.q_c=0;this._element=a;this._element.className=wac_nSb;this.hx=document.createElement("span");this._element.appendChild(this.hx);a=b.rl(Number,6,0);var c=document.createElementNS(wac_iSb,
"svg");c.setAttribute("viewBox",String.format(wac_oSb,wac_gSb,wac_hSb));c.appendChild(wac_fSb(a));this.HZd=c;this.iE(b);this.Pi=5}
wac_bSb.prototype={md:null,Xj:null,Ny:null,ad:null,hx:null,Rta:null,HZd:null,hja:0,n3:!1,Tje:!1,uWc:null,q_c:0,GEa:null,VJb:function(a){this.ob("InteractivityChanged",a)},Cmc:function(a){this.fd("InteractivityChanged",a)},qf:null,Pi:0,na:function(){this._element&&(this.md.Lb("click",this._element,this.Al),this.md.Lb("dblclick",this._element,this.wW),this.Xj.Lb("msospPointerDown",this._element,this.jK),this.Xj.Lb("msospPointerOut",this._element,this.kK),this.Xj.Lb("msospPointerOver",this._element,
this.dfa),this.Ny.Lb(this._element,this.wW));wac_gR.prototype.na.call(this)},iE:function(a){this.md=a.rl(wac_3c,10,null);this.md.Ra("click",this._element,this.Al);this.md.Ra("dblclick",this._element,this.wW);this.Xj=a.rl(wac_5c,9,null);this.Xj.Ra("msospPointerOver",this._element,this.dfa);this.Xj.Ra("msospPointerOut",this._element,this.kK);this.Xj.Ra("msospPointerDown",this._element,this.jK);this.Ny=a.rl(wac_Rj,13,null);this.Ny.Ra(this._element,this.wW)},$d:function(a,b,c){this.Tje&&a?this.Ch(a,b,
15,4,!1,c):(3===this.Pi&&wac_pSb(this),this.nr(!1),this.Pi=5)},Ch:function(a,b,c,d,e,f){var g;if((g=a)&&!(g=d!==this.Pi)){g=wac_nl(this._element.style.left);var h=wac_nl(this._element.style.top);g=!(g===b&&h===c)}if(g){if(!wac_qSb(this.Pi)||!wac_qSb(d))switch(Sys.UI.DomElement.removeCssClass(this._element,this.uWc),this.Pi){case 4:3===d?this.ioa(wac_rSb,wac_sSb):wac_qSb(d)&&this.ioa(wac_tSb,wac_sSb);break;case 3:4===d?this.ioa(wac_uSb,wac_vSb):wac_qSb(d)&&(e&&wac_pSb(this),this.ioa(wac_tSb,wac_vSb,
e?wac_wSb:""));break;case 0:case 1:case 2:4===d?this.ioa(wac_uSb,wac_xSb):3===d&&(e&&wac_ySb(this),this.ioa(wac_rSb,wac_xSb,e?wac_zSb:"",3===f?wac_ASb:wac_BSb));break;default:4===d?this.ioa(wac_uSb):3===d?this.ioa(wac_rSb):wac_qSb(d)&&this.ioa(wac_tSb)}this.bX(a,d,f);this.Pi=d;4===f||!f&&!this.n3?this._element.style.left=b+"px":this._element.style.right=b+"px";this._element.style.top=c+"px";this.nr(!0)}},bX:function(a,b,c){this.qf=a;wac_vd(this.hx);this.hx.removeAttribute("style");this.hx.id="fly_"+
a.ml;this.hx.style.backgroundColor=a.Bs;4!==b?(this.hx.style.height=this.hja+"px",this.hx.style.lineHeight=this.hja+"px",wac_kl(this.hx,"border-radius",this.hja+"px")):4===c||!c&&!this.n3?this.hx.style.left="0px":this.hx.style.right="0px";if(2!==b)if(4===b)wac_xd(this.hx,"");else if(1===b)this.hx.appendChild(this.HZd);else{this.hx.setAttribute("dir","auto");var d=a.Yp;d?(c=d.replace(wac_IRb||(wac_IRb=/\([^)]*\)|[\0-\u001F\!-/:-@\[-`\{-\u00BF\u0250-\u036F\uD800-\uFFFF]/g),""),c=c.replace(wac_HRb||
(wac_HRb=/\s+/g)," "),d=c.trim(),(wac_JRb||(wac_JRb=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\u3040-\u309F\u30A0-\u30FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[\uD840-\uD869][\uDC00-\uDED6]/)).test(d)||(wac_KRb||(wac_KRb=/^\d+[\d\s]*(:?ext|x|)\s*\d+$/i)).test(d)?c="":(c="",d=d.split(" "),2===d.length?(c+=d[0].charAt(0),c+=d[1].charAt(0)):3===d.length?(c+=d[0].charAt(0),c+=d[2].charAt(0)):0<d.length&&(c+=d[0].charAt(0)),c=c.toUpperCase())):
c="";!a.uw&&c||b?(a=a.Yp,b||(a=c,wac_kl(this.hx,"text-align","center")),wac_xd(this.hx,a)):(this.Rta||(b=document.createElement("img"),b.setAttribute("src",wac_9e("doughperson_white_glyph.svg")),b.setAttribute("Unselectable","on"),b.setAttribute("role","presentation"),this.Rta=wac_Lla(this.hja,this.hja,null,null,wac_CSb,"",!1,"",this._element.ownerDocument,b)),this.hx.appendChild(this.Rta),wac_kl(this.hx,"text-align","start"))}},Vq:function(a){if(!this.Pi)return this.Za("InteractivityChanged",new wac_iR(1,
a),null),!0;3===this.Pi&&wac_(50436114,302,50,"User clicked on presence pill.");return!1},aba:function(a){3===this.Pi&&this.Za("InteractivityChanged",new wac_iR(3,a),null);return!1},zOa:function(a){3!==a.Pe&&this.Za("InteractivityChanged",new wac_iR(2,a),null);return!1},$M:function(a){if(3!==a.Pe)return!0;this.Za("InteractivityChanged",new wac_iR(4,a),null);return!1},ioa:function(){for(var a=[],b=0;b<arguments.length;++b)a[b]=arguments[b];this.uWc=a.join(" ");Sys.UI.DomElement.addCssClass(this._element,
this.uWc)},UOc:function(a){3===a&&wac_ll(this._element,"left")?(a=wac_nl(this._element.style.left),wac_kl(this._element,"left",""),this._element.style.right=-1*a+"px"):4===a&&wac_ll(this._element,"right")&&(a=wac_nl(this._element.style.right),wac_kl(this._element,"right",""),this._element.style.left=-1*a+"px")}};function wac_qSb(a){return!a||1===a||2===a}
function wac_pSb(a){window.clearTimeout(a.q_c);a.GEa&&(Sys.UI.DomElement.removeCssClass(a.GEa,wac_xSb+" "+wac_zSb),Sys.UI.DomElement.addCssClass(a.GEa,wac_DSb),wac_Za(300).CW(function(){a._element&&a._element.parentNode===a.GEa.parentNode&&a._element.parentNode.removeChild(a.GEa)}),wac_kl(a._element,"z-index",""))}
function wac_ySb(a){a.q_c=window.setTimeout(function(){a._element&&(a.GEa=a._element.cloneNode(!0),a._element.parentNode.appendChild(a.GEa),a._element.style.zIndex=2,a.GEa.style.zIndex=1)},300)}function wac_7Rb(a,b){this.Dh=a;this.nzb=b}wac_7Rb.prototype={Dh:!1,nzb:!1,uCc:function(a,b,c,d){var e=1,f=Math.max(c,a-b);b>a-c&&(e=2,f=b<d?d-b:c);return new wac_nR(f,0,e,4)}};function wac_nR(a,b,c,d){this.D4a=a;this.mLd=b;this.VSc=c;this.gFc=d}wac_nR.prototype={D4a:0,mLd:0,VSc:0,gFc:0};
function wac_9Rb(a,b,c,d,e,f,g){this.m2=a;this._parent=b;this.IWc=c;this.SWd=d;this.J2d=e;this.TWa=f;this.n3=g;this.Ie=document.createElement("div");this.Ie.className="prTouchTarget"}
wac_9Rb.prototype={m2:null,_parent:null,n3:!1,IWc:0,SWd:0,J2d:0,TWa:0,Ie:null,Sn:function(a,b){if(3!==a)if(5!==a&&this.m2&&this.m2.length){var c,d;if(4===a)c=this.J2d,d=(this.TWa-c)/2,this.Ie.style.height=this.TWa+"px",this.Ie.style.width=this.TWa+"px",a=wac_nl(this.m2[0]._element.style.top),b=wac_nl(this.n3?this.m2[0]._element.style.right:this.m2[0]._element.style.left);else{c=this.IWc;d=(this.TWa-c)/2;this.Ie.style.height=this.TWa+"px";this.Ie.style.width=(this.m2&&this.m2.length?this.IWc+Math.min(this.m2.length-
1,2)*this.SWd:0)+2*d+"px";a=wac_nl(this.m2[this.m2.length-1]._element.style.top);var e=this.m2[this.m2.length-1]._element,f=c;b=this.n3&&!b?wac_nl(e.style.right):this.n3||b?this.n3&&b?-wac_nl(e.style.left)-f:-wac_nl(e.style.right)-f:wac_nl(e.style.left)}wac_kl(this.Ie,"border-radius",this.TWa+"px");this.Ie.style.top=a-d-c+"px";this.n3?this.Ie.style.right=b-d+"px":this.Ie.style.left=b-d+"px";this.Ie.parentNode||this._parent.insertBefore(this.Ie,this._parent.firstChild)}else this.Ie.parentNode&&this.Ie.parentNode.removeChild(this.Ie)}};
function wac_ESb(a,b,c){this.fJa=Function.createDelegate(this,this.L4a);this.aj=[];this.bA=[];this.dispose=this.na;wac_ESb.initializeBase(this,[a]);this.oAb={};this.ad=c;this.Dh=c.rl(Boolean,8,!1);this.eV=c.rl(Boolean,11,!1);a=c.rl(Number,12,0);this.qfa=c.rl(Number,6,0);this.wHb=b;this._element.id=String.format("{0}-{1}","presencetooltip",wac_FSb++);this._element.className="prControl"+(this.Dh?"Rtl":"");a&&wac_hR(this,a);wac_6Rb(this,this.Dh);this.JPc(b);this.e7=this.Cj("div");this.e7.className=this.eV?
"prContainerV":"prContainerHr";this._element.appendChild(this.e7);this.FM=Array(this.Bka);for(b=0;b<this.Bka;b++)this.FM[b]=new wac_GSb(this.Cj("div"),this.ad),this.FM[b].VJb(this.fJa),this._element.appendChild(this.FM[b]._element)}
wac_ESb.prototype={e7:null,Bka:0,Dh:!1,p9a:!1,eV:!1,uHb:!1,wHb:0,ad:null,oAb:null,xlc:function(){return wac_Je(this.aj)},FM:null,pqc:null,qfa:0,xM:function(){return this.eV?this.qfa+2:this.wHb},Rkc:function(){return this.eV?this.wHb:this.qfa+2},Hb:function(){return this._element},na:function(){if(this.FM)for(var a=this.FM,b=a.length,c=0;c<b;++c){var d=a[c];d.Cmc(this.fJa);wac_Zb(d)}wac_8ba(this.bA);this.bA=this.FM=null;wac_gR.prototype.na.call(this)},DPa:function(){this.Kpa();wac_HSb(this);this.nr(!0);
this.p9a=!1},Z2b:function(){!this.bA||1>this.bA.length||(this.Kpa(),this.nr(!0),wac_HSb(this),wac_ISb(this,this.bA[this.bA.length-1],0),this.p9a=!0)},$d:function(){this.nr(!1);this.Kpa();for(var a=0;a<this.bA.length;a++)this.bA[a].$d();this.p9a=!1},bX:function(a){if(!(0>=this.Bka)){a.ml||(a.ml=(wac_FSb++).toString());if(a.ml in this.oAb){var b=this.FMa(a.ml);if(0<=b){b=this.aj[b];if(b.Bs===a.Bs&&b.Yp===a.Yp)return;this.Sqa(a.ml)}}var b=wac_JSb(this),c,d=0;this.aj.length<this.Bka?(c=new wac_KSb(this.Cj("div"),
this.ad,a),c.VJb(this.fJa),this.Dh&&!this.eV&&0<this.aj.length?this.e7.insertBefore(c._element,this.e7.firstChild):(this.e7.appendChild(c._element),d=this.bA.length),Array.add(this.bA,c)):(this.Dh&&!this.eV?c=this.bA[0]:(d=this.bA.length-1,c=this.bA[d]),c.bX(a));c.Ch();this.oAb[a.ml]=c;Array.add(this.aj,a);this.gia(c,d);b&&wac_LSb(this)}},Sqa:function(a){var b=wac_JSb(this);b&&this.Kpa();this.ssb(a);this.aj.length>=this.Bka&&this.bA.length<this.Bka&&wac_MSb(this);0>=this.aj.length?this.$d():b&&wac_LSb(this)},
ssb:function(a){var b=this.FMa(a);0>b||(a=this.aj[b],Array.removeAt(this.aj,b),b=this.oAb[a.ml],delete this.oAb[a.ml],b.Sqa(a.ml),this.gia(b,0),0>=wac_pR(b)&&(this.e7.removeChild(b._element),Array.remove(this.bA,b),b.na()))},FMa:function(a){for(var b=0;b<this.aj.length;b++)if(this.aj[b].ml===a)return b;return-1},Kpa:function(){for(var a=0;a<this.Bka;a++)this.FM[a].$d();this.uHb=!1},L4a:function(a,b){var c=window.$$as(wac_KSb,a),c=c?wac_NSb(this,c):-1;if(2===b.yc||1===b.yc&&-1!==c&&!this.FM[c].Rp())wac_ISb(this,
a,0);else if(1===b.yc)this.Kpa(),this.p9a=!1;else if(3===b.yc){if(this.RBc(b.hsc))return;this.p9a||this.Kpa()}this.Za("InteractivityChanged",b,null)},RBc:function(a){a=a.mb.rawEvent;a=a.relatedTarget||a.toElement;for(var b=!1,c=this.FM,d=c.length,e=0;e<d;++e)if(wac_wd(c[e]._element,a)){b=!0;break}return this.e7!==a&&wac_wd(this.e7,a)||b},gia:function(a,b){var c;c=wac_NSb(this,a);(c=!!this.pqc&&a===this.pqc&&-1!==c&&this.FM[c].Rp())&&0>=wac_pR(a)?this.FM[b].$d():c?wac_ISb(this,a,0):this.FM[b].$d()},
JPc:function(a){this.Bka=a===this.qfa?1:Math.floor(a/(this.qfa+2));this.eV?(this._element.style.height=a+"px",this._element.style.width=this.qfa+"px"):(this._element.style.width=a+"px",this._element.style.height=this.qfa+"px")}};function wac_NSb(a,b){var c=0;a=a.bA;for(var d=a.length,e=0;e<d;++e){if(b===a[e])return c;c++}return-1}
function wac_ISb(a,b,c){if(b)if(a.pqc=b,a.eV){var d=a.qfa;if(1<b.aj.length)a.FM[c].Ch(b.aj,d,a.Rkc()-a.qfa);else for(var e=a.e7.children.length,f=0;f<a.e7.children.length;f++)b._element===a.e7.children[f]&&a.FM[c].Ch(b.aj,d,a.Rkc()-(e-f)*(a.qfa+2)+2)}else a.FM[c].Ch(b.aj,a.xM(),0)}function wac_HSb(a){for(var b=0;b<a.bA.length;b++)a.bA[b].Ch()}
function wac_MSb(a){var b=a.Dh&&!a.eV?a.bA[0]:a.bA[a.bA.length-1];!b||1>=b.aj.length||(b=Array.clone(a.aj),Array.forEach(b,function(b){a.ssb(b.ml)}),Array.forEach(b,function(b){a.bX(b)}))}function wac_JSb(a){if(!a.uHb)return!1;for(var b=0,c=a.FM,d=c.length,e=0;e<d;++e)c[e].Rp()&&b++;a.uHb=0<b&&(a.aj.length<=a.Bka?b===a.aj.length:b===a.Bka);return a.uHb}
function wac_LSb(a){if(a.bA&&!(1>a.bA.length)){a.nr(!0);wac_HSb(a);for(var b=0,c=a.bA,d=c.length,e=0;e<d;++e)wac_ISb(a,c[e],b++);a.p9a=!1;a.uHb=!0}}function wac_OSb(a){this.ad=a;wac_oR(this.ad,10,wac_Ig());wac_oR(this.ad,9,wac_Kg());wac_oR(this.ad,6,16);wac_oR(this.ad,13,wac_Tg())}wac_OSb.prototype={ad:null,Mzc:function(a){return new wac_ESb(a,16,this.ad)}};
function wac_GSb(a,b){this.kK=Function.createDelegate(this,this.aba);this.Al=Function.createDelegate(this,this.Vq);wac_GSb.initializeBase(this,[a]);this.n3=b.rl(Boolean,8,!1);this.hja=b.rl(Number,6,0);this._element=a;this._element.className=wac_PSb;this.cjc=this.Cj("ul");this._element.appendChild(this.cjc);this.md=b.rl(wac_3c,10,null);this.md.Ra("click",this._element,this.Al);this.Xj=b.rl(wac_5c,9,null);this.Xj.Ra("msospPointerOut",this._element,this.kK);this.Xj.Ra("msospPointerDown",this._element,
this.wW);this.Ny=b.rl(wac_Rj,13,null);this.Ny.Ra(this._element,this.wW)}
wac_GSb.prototype={md:null,Xj:null,Ny:null,cjc:null,hja:0,n3:!1,VJb:function(a){this.ob("InteractivityChanged",a)},Cmc:function(a){this.fd("InteractivityChanged",a)},S_e:null,na:function(){this._element&&(this.md.Lb("click",this._element,this.Al),this.Xj.Lb("msospPointerDown",this._element,this.wW),this.Xj.Lb("msospPointerOut",this._element,this.kK),this.Ny.Lb(this._element,this.wW));wac_gR.prototype.na.call(this)},$d:function(){this.nr(!1)},Ch:function(a,b,c){this.$d();if(a&&!(0>=a.length)){this.n3?
this._element.style.right=b+"px":this._element.style.left=b+"px";this._element.style.top=c+"px";this.S_e=a;wac_vd(this.cjc);for(b=a.length-1;0<=b;b--)this.bX(a[b]);this.nr(!0)}},bX:function(a){var b=document.createElement("li");b.style.backgroundColor=a.Bs;b.style.height=this.hja+"px";b.id="fly_"+a.ml;b.style.lineHeight=this.hja+"px";wac_xd(b,a.Yp);b.setAttribute("dir","auto");this.cjc.appendChild(b)},Vq:function(){this.$d();return!1},aba:function(a){this.Za("InteractivityChanged",new wac_iR(3,a),
null);return!1}};
function wac_KSb(a,b,c){this.Al=Function.createDelegate(this,this.Vq);this.kK=Function.createDelegate(this,this.aba);this.dfa=Function.createDelegate(this,this.zOa);this.aj=[];wac_KSb.initializeBase(this,[a]);this._element.className="prGlyph";this.ad=b;this.tVa=this.ad.rl(wac_5c,9,null);this.wn=this.ad.rl(wac_3c,10,null);this.Ny=this.ad.rl(wac_Rj,13,null);this._element&&(this.tVa.Ra("msospPointerDown",this._element,this.wW),this.tVa.Ra("msospPointerOver",this._element,this.dfa),this.tVa.Ra("msospPointerOut",this._element,
this.kK),this.wn.Ra("dblclick",this._element,this.wW),this.wn.Ra("click",this._element,this.Al),this.Ny.Ra(this._element,this.wW));this.bX(c);this.Gac=!1}
wac_KSb.prototype={Rta:null,ad:null,Gac:!0,wn:null,tVa:null,Ny:null,VJb:function(a){this.ob("InteractivityChanged",a)},na:function(){this._element&&(this.tVa.Lb("msospPointerDown",this._element,this.wW),this.tVa.Lb("msospPointerOver",this._element,this.dfa),this.tVa.Lb("msospPointerOut",this._element,this.kK),this.wn.Lb("dblclick",this._element,this.wW),this.wn.Lb("click",this._element,this.Al),this.Ny.Lb(this._element,this.wW));wac_gR.prototype.na.call(this)},bX:function(a){Array.add(this.aj,a);
2===wac_pR(this)?this.dY(!0):1===wac_pR(this)?this.dY(!1):this.dY(this.Gac)},Sqa:function(a){var b;a:{for(b=0;b<wac_pR(this);b++)if(this.aj[b].ml===a){a=this.aj[b];Array.removeAt(this.aj,b);b=a;break a}b=null}b&&(1<wac_pR(this)&&this.dY(!0),1===wac_pR(this)?this.dY(!1):1>wac_pR(this)&&this.$d())},Ch:function(){this.dY(2<=wac_pR(this));this.nr(!0)},$d:function(){this.nr(!1)},dY:function(a){this.Gac!==a&&(this.Rta&&this._element.removeChild(this.Rta),this.Rta=a?wac_QSb(this,0,5):wac_QSb(this,1,4),this._element.appendChild(this.Rta),
this.Gac=a);this.Rta.childNodes[0].style.backgroundColor=this.aj[this.aj.length-1].Bs},zOa:function(a){3!==a.Pe&&this.Za("InteractivityChanged",new wac_iR(2,a),null);return!1},Vq:function(a){this.Za("InteractivityChanged",new wac_iR(1,a),null);return!0},aba:function(a){3!==a.Pe&&this.Za("InteractivityChanged",new wac_iR(3,a),null);return!1}};
function wac_QSb(a,b,c){var d=a.ad.rl(Number,6,0),e=a.ad.rl(Object,14,null);return wac_Lla(d,d,a.ad.rl(String,b,null),a.ad.rl(String,c,null),"cui-img-cont-float cui-img-16by16","",!1,"",a._element.ownerDocument,e?e.cloneNode(!0):null)}function wac_pR(a){return a.aj.length}function wac_RSb(){this.Cq={}}
wac_RSb.prototype={rl:function(a,b,c){a=wac_g.Ba.Qza.d5a.toString(b);return"number"===typeof c?(c=this.Cq[a])?Number.parseInvariant(c.toString()):0:this.Cq[a]},U:function(a,b,c){this.Cq[wac_g.Ba.Qza.d5a.toString(b)]=c}};function wac_oR(a,b,c){wac_g.Ba.Qza.d5a.toString(b)in a.Cq||(a.Cq[wac_g.Ba.Qza.d5a.toString(b)]=c)}wac_gR.registerClass("Common.App.CollabControls.BasePresenceControl",wac_Xd,Sys.IDisposable);wac_iR.registerClass("Common.App.CollabControls.InteractivityChangedEventArgs",Sys.EventArgs);
wac_jR.registerClass("Common.App.CollabControls.ModernPresenceTooltipControl",wac_gR,wac_4Rb,Sys.IDisposable);(function(){}).registerClass("Common.App.CollabControls.ModernPresenceTooltipDancingDots");wac_mSb.registerClass("Common.App.CollabControls.ModernPresenceTooltipFactory",null,wac_5Rb);wac_bSb.registerClass("Common.App.CollabControls.ModernPresenceTooltipFlyoutControl",wac_gR);wac_7Rb.registerClass("Common.App.CollabControls.ModernPresenceTooltipPositioner");wac_nR.registerClass("Common.App.CollabControls.FlyoutsPositioningInfo");
wac_9Rb.registerClass("Common.App.CollabControls.ModernPresenceTooltipTarget");wac_ESb.registerClass("Common.App.CollabControls.PresenceTooltipControl",wac_gR,wac_4Rb,Sys.IDisposable);wac_OSb.registerClass("Common.App.CollabControls.PresenceTooltipFactory",null,wac_5Rb);wac_GSb.registerClass("Common.App.CollabControls.PresenceTooltipFlyoutControl",wac_gR);wac_KSb.registerClass("Common.App.CollabControls.PresenceTooltipGlyph",wac_gR);wac_RSb.registerClass("Common.App.CollabControls.PresenceTooltipSettings");
var wac_8Rb=0,wac_iSb="http://www.w3.org/2000/svg",wac_jSb="prDancingDots",wac_lSb="prAnimateCircle",wac_oSb="0 0 {0} {1}",wac_hSb=40,wac_gSb=120,wac_nSb="prModernFlyout UIFont",wac_uSb="flyoutIdle",wac_rSb="flyoutExpanded",wac_tSb="flyoutCollapsed",wac_sSb="flyoutFromIdle",wac_vSb="flyoutFromExpanded",wac_xSb="flyoutFromCollapsed",wac_zSb="flyoutStacked",wac_wSb="flyoutFromStacked",wac_DSb="flyoutFadeOut",wac_CSb="cui-img-cont-float cui-img-20by20",wac_BSb="flyoutLtrDir",wac_ASb="flyoutRtlDir",wac_FSb=
0,wac_PSb="prFlyout UIFont";Type.registerNamespace("RealtimePresenceUI");function wac_SSb(){}wac_SSb.registerInterface("RealtimePresenceUI.IUserTracker");
function wac_TSb(a,b,c,d){this.fGe=Function.createDelegate(this,this.Jnf);this.Dma=Function.createDelegate(this,this.RBa);this.Bic=new (wac_ab.$$(Number));this.dispose=this.na;this.Ao=a;this.JOa=b;if(c){var e=this;c.CW(function(){e.gH=c.sc();e.gH.wa.ob("UU",e.Dma);wac_USb(e)})}if(d){var f=this;d.CW(function(){f.cRa=d.sc();f.cRa.p_f(f.Dma);wac_USb(f)})}this.GLf=new wac_El(this.Ao.ml,"Anonymous user","#cccccc",new wac_Fl(7),null,null,null,null,!1,!1,!1,0,null,0);this.yib=this.ibc=!0;this.p$b=this.C9c=
!1;this.s1=wac_VSb(this.Ao.ml,this.Ao.m_a,a.Dud)}function wac_WSb(a,b){return a.yu.v5(1)&&b.yu.v5(1)||!a.yu.v5(1)&&!b.yu.v5(1)?a.Yp.localeCompare(b.Yp)-wac_5f:a.yu.v5(1)?-1:1}
wac_TSb.prototype={GLf:null,ibc:!1,C9c:!1,p$b:!1,Ao:null,s1:null,JOa:null,gH:null,cRa:null,yib:!1,mYb:function(){return 0<this.s1.w6.la()},MSc:function(a){wac_(4482395,325,50,"PeoplesWell: Received user button click");a=a.MenuItemId;if(!a)return!1;var b=this.Ao.FPb(a);if(!wac_XSb(this,a,b,!0))return!1;wac_YSb(this,b);return!0},RBa:function(){if(!this.p$b){var a=this;window.setTimeout(function(){wac_USb(a);a.p$b=!1},3E3);this.p$b=!0}},Jnf:function(a,b,c,d,e){wac_bb(this.Bic,e.RenderTime);return 32},
na:function(){this.gH&&(this.gH.wa.fd("UU",this.Dma),this.gH=null);this.cRa&&(this.cRa.E_f(this.Dma),this.cRa=null)}};
function wac_USb(a){if(!a.C9c&&(wac_bb(a.Bic,(new Date).getTime()),wac_(42567504,325,50,"We are trying to render the coauthor gallery before we are ready to record the render time"),wac_ZSb()))return;var b;if(a.gH){b=[];for(var c=wac_fR(a.gH),d=c.length,e=0;e<d;++e){var f=c[e];f.Yp?b.push(f):wac_(592229832,304,15,"The looked up RTC User has no name")}}else b=[];b=b||[];c=b.length;for(d=0;d<c;++d)e=b[d],e.Th()||(f=wac_3d().toString(),e.ml=f),e.Yp||wac_Xta(e,"Anonymous user"),e.yu||(e.yu=new wac_Fl(0)),
e.$R()||e.Rmc("#cccccc"),e.R9||(e.R9=0);c=a.s1;c.w6=new (wac_La.$$(Array));d=b.length;for(e=0;e<d;++e)if(f=b[e],f.Th()===c.HK){c.zAc=f;break}d=b.length;for(e=0;e<d;++e)f=b[e],f.Th()!==c.HK&&c.QBd(f);a.yib&&1<=a.s1.w6.la()&&(wac_(6092429,325,50,"PeoplesWell: User is no longer forever alone."),a.yib=!1);a.ibc=!0;wac_ZSb()&&a.yib||a.fde(a.Ao.ja())}
function wac__Sb(){var a=wac_0Sb;wac_q.W.ga("CoauthorGalleryTelemetryIsEnabled")&&wac_x().ua(691867605,2147483648,a.fGe);a.ha.ua(a.Ao.ad.Msd,1,a.$Ce);wac_A(a.ha,a.Ao.ad.Qsd,1,a.nQe,96);wac_A(a.ha,a.Ao.ad.Osd,1,a.vre,96);wac_A(a.ha,a.Ao.ad.Nsd,1,a.ure,96);wac_A(a.ha,a.Ao.ad.Psd,1,a.ENe,96);a.ha.ua(a.Ao.ad.mqc,1,a.QXe);wac_A(a.ha,a.Ao.ad.Rsd,1,a.tNe,96);a.C9c=!0;wac_USb(a)}function wac_1Sb(){return wac_q.W&&wac_q.W.ga("ColorPresenceHashIsEnabled")?"Initials":"Menu32"}
function wac_2Sb(){var a;return a=new wac_0f,a.Id="BasicChat",a.Command="2288458806",a.LabelText=CommonUIStrings.l_StartGroupChat,a.LabelCss="display:block; max-width:160px; padding:0px; white-space:normal; word-wrap:break-word",a}
function wac_3Sb(a,b){if(!b.yu.v5(1))return b.Bu?CommonUIStrings.l_PeoplesWellUserStatusIsViewingOffline:CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown;var c=b.Bu,d=a.Ao.m_a(b.Th());b=a.Ao.FPb(b.Th());if(!d)return CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown;switch(d.ld){case 1:var e;if(b){if(c)a=CommonUIStrings.l_PeoplesWellUserStatusIsViewingOnline;else{var f,g;a=((g=wac_4Sb(a,b,f={val:e}),e=f.val,g)&&e.qf&&e.qf.h$&&"0"!==e.qf.h$?String.format(WordEditorIntl.WordEditorStrings.l_PresenceStatusOnPage,
e.qf.h$):CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown)||CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown}e=a}else e=CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown;return e;case 2:return CommonUIStrings.l_PeoplesWellUserStatusIsInactive;default:return CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown}}
function wac_XSb(a,b,c,d){if(!c)return d&&wac_(4482393,325,50,"User does not have any presence data"),!1;if(wac_5Sb(a,c)){var e,f,g;(g=wac_4Sb(a,c,f={val:e}),e=f.val,g)&&a.gWd(e.qm().sF(),e.qm().xK.lf())?c=!0:(wac_(41236613,325,50,"Cannot jump to user location because paragraph has not been loaded yet"),c=!1)}else wac_(41236612,325,50,"Cannot jump to user location because presence is not valid"),c=!1;return c?(a=a.Ao.m_a(b))&&2===a.ld?!1:!0:(d&&wac_(4482394,325,50,"User has presence data but app can't use it"),
!1)}function wac_ZSb(){return wac_q.W?wac_q.W.ga("PeoplesWellExtraButtonInfoIsEnabled"):!1}function wac_6Sb(a,b,c,d,e){this.ad=a;this.ml=b;this.Dud=e;this.FPb=c||function(){return null};this.m_a=d||function(){return null}}function wac_7Sb(a,b,c,d){var e=wac_q.W.ga("WordEditorPresenceDedupeMultipleCoauthorInstances");return new wac_6Sb(a,b,c,d,e)}
wac_6Sb.prototype={ad:null,ja:function(){return this.ad.Bb},Ime:function(){return this.ad.uzd},qid:function(){return this.ad.vzd},kme:function(){return this.ad.uxd},ml:null,FPb:null,m_a:null,Dud:!1};function wac_8Sb(a){this.w6=new (wac_La.$$(Array));this.HK=a}wac_8Sb.prototype={HK:null,zAc:null};function wac_9Sb(a,b,c){b=b.toUpperCase();var d,e,f;(f=a.w6.Tb(b,e={val:d},null),d=e.val,f)||(d=[],a.w6.Z(b,d));Array.add(d,c)}
function wac_$Sb(a){for(var b=[],c=a.w6.wk().$$ge();c.$$mn();){var d=c.$$cu(),d=a.gPd(d);Array.add(b,d)}return b}function wac_VSb(a,b,c){return c?new wac_aTb(a,b):new wac_bTb(a)}function wac_aTb(a,b){wac_aTb.initializeBase(this,[a]);this.n1d=b}
wac_aTb.prototype={n1d:null,QBd:function(a){a.uw||!a.tw?wac_9Sb(this,a.Th(),a):this.zAc&&wac_qa().Ca(this.zAc.tw,a.tw)||wac_9Sb(this,a.tw,a)},gPd:function(a){for(var b=new Date(0),c=0<a.length?a[0]:null,d=a.length,e=0;e<d;++e){var f=a[e],g=this.n1d(f.ml);g&&b.getTime()<g.YNa.getTime()&&(b=g.YNa,c=f)}return c}};function wac_bTb(a){wac_bTb.initializeBase(this,[a])}wac_bTb.prototype={QBd:function(a){wac_9Sb(this,a.Th(),a)},gPd:function(a){return a[0]}};
wac_TSb.registerClass("RealtimePresenceUI.APeoplesWell",null,wac_rc,Sys.IDisposable);wac_6Sb.registerClass("RealtimePresenceUI.PeoplesWellSettings");wac_8Sb.registerClass("RealtimePresenceUI.UserTracker",null,wac_SSb);(function(){}).registerClass("RealtimePresenceUI.UserTrackerFactory");wac_aTb.registerClass("RealtimePresenceUI.UniqueUserTracker",wac_8Sb);wac_bTb.registerClass("RealtimePresenceUI.UserInstanceTracker",wac_8Sb);Type.registerNamespace("AppRealtimeChannel");
wac_Hm=window.AppRealtimeChannel||{};function wac_cTb(){}wac_cTb.registerInterface("AppRealtimeChannel.IConnectedUsageKpiLogger");window.AppRealtimeChannel.ApiType=wac_Hm.elb=function(){};wac_Hm.elb.prototype={SendNotification:0,SendPersistentState:1,FindSession:2,Last:3};window.AppRealtimeChannel.ApiType.registerEnum("AppRealtimeChannel.ApiType",!1);window.AppRealtimeChannel.EventCountType=wac_Hm.dbf=function(){};
wac_Hm.dbf.prototype={AttemptCount:0,SuccessCount:1,DropCount:2,FailedCount:3,LatencyOverThresholdCount:4,LatencyUnderThresholdCount:5,ThrottledCount:6,Last:7};window.AppRealtimeChannel.EventCountType.registerEnum("AppRealtimeChannel.EventCountType",!1);function wac_dTb(){}wac_dTb.registerInterface("AppRealtimeChannel.IAssignRtcMachineStrategy");function wac_eTb(){}wac_eTb.registerInterface("AppRealtimeChannel.IRealtimeChannel");function wac_fTb(){}wac_fTb.registerInterface("AppRealtimeChannel.IRealtimeChannelMetrics");
function wac_gTb(){}wac_gTb.registerInterface("AppRealtimeChannel.IRealtimeChannelClientProxy");function wac_hTb(){}wac_hTb.registerInterface("AppRealtimeChannel.IRealtimeChannelServerProxy");function wac_iTb(){}wac_iTb.registerInterface("AppRealtimeChannel.IRealtimeChannelEventHub");function wac_jTb(){}wac_jTb.registerInterface("AppRealtimeChannel.IRealtimeChannelSettings");function wac_kTb(){}wac_kTb.registerInterface("AppRealtimeChannel.IMessageStatus");function wac_lTb(){}wac_lTb.registerInterface("AppRealtimeChannel.IMessageHandler");
function wac_mTb(){}wac_mTb.registerInterface("AppRealtimeChannel.IThrottle");function wac_nTb(){}wac_nTb.registerInterface("AppRealtimeChannel.IThrottleMaxRate");function wac_oTb(){}wac_oTb.registerInterface("AppRealtimeChannel.IMaxOutstandingThrottler");function wac_pTb(){}wac_pTb.registerInterface("AppRealtimeChannel.IThrottlerFactory");function wac_qTb(){}wac_qTb.registerInterface("AppRealtimeChannel.IThrottlerManager");
function wac_rTb(a){this.nKe=Function.createDelegate(this,this.rsf);this.kMe=Function.createDelegate(this,this.tuf);this.aCe=Function.createDelegate(this,this.ohf);this.gZa=Function.createDelegate(this,this.O0);this.Ht=a;this.Ht.Ola(this.gZa)}wac_rTb.prototype={Ht:null,Adb:null,Qfa:0,f_a:!1,O0:function(a,b){this.Qfa=b.Rt},tuf:function(){wac_(18637070,500,15,"Too many undelivered messages. Restarting RTC connection.");wac_sTb(this.Ht,null)},ohf:function(a){this.Adb.wb(a)}};
function wac_tTb(a){this.ODe=Function.createDelegate(this,this.tkf);this.bLa=wac_uTb;this.AJa=wac_vTb;this.$wd=this.ODe;this.Yo=a}function wac_uTb(a,b){return window.setTimeout(a,b)}function wac_vTb(a){window.clearTimeout(a)}wac_tTb.prototype={o8:!1,aXa:0,YWc:!1,Yo:null,bLa:null,AJa:null,$wd:null,tkf:function(){wac_(4539720,500,50,"Usage statement for the Rtc_ConnectedEver KPI for [{0}]",this.Yo)},d0:function(){this.o8&&this.AJa(this.aXa);this.aXa=0;this.o8=!1}};
function wac_wTb(a){a.d0();a.YWc||(a.YWc=!0,a.$wd())}function wac_xTb(a){a.o8||(a.aXa=a.bLa(function(){a.o8=!1;wac_wTb(a)},8E3),a.o8=!0,a.YWc=!1)}function wac_yTb(){}wac_yTb.prototype={kxd:0,jxd:0,ixd:0,svd:0,tQb:!1,cna:null,rrc:null,Wya:null,BM:null,DM:null};
function wac_zTb(a,b,c,d,e,f,g,h,k,l,m,n){function p(){var c=m?m():wac_q.Wk,c=String.format("{0}={1}","qs",wac_gg(c)),c=String.format("{0}&{1}={2}",c,"ClientId",wac_gg(g)),c=String.format("{0}&{1}={2}",c,"usid",wac_gg(a)),c=String.format("{0}&{1}={2}",c,"UserApp",wac_gg(f.toString())),c=String.format("{0}&{1}={2}",c,"UserType",wac_gg((1).toString())),c=String.format("{0}&{1}={2}",c,"UserVersion",wac_gg(e)),c=String.format("{0}&{1}={2}",c,"clientProtocol",wac_gg("1.0")),d;(d=4===f?String.format("{0}={1}",
"NoAuth","1"):b?wac_Jna():null)&&(c=String.format("{0}&{1}",c,d));return c}this.SQe=Function.createDelegate(this,this.eAf);this.gZa=Function.createDelegate(this,this.O0);this.ZRe=Function.createDelegate(this,this.eBf);this.Y6d=(new Date(0)).getTime();this.lOf="enabled errorMessage url connectionString queryString throttling_globalMaxNumberOfOutstandingMessages throttling_maxNumberOfOutstandingMessages throttling_timeToWaitForResponse throttling_messageDelay".split(" ");this.kOf=["enabled","errorMessage"];
this.pc=d;this.Ed=b;this.jzb=c;this.F_c=p();this.Yo=h;this.Ht=k;this.h9a=n;this.G_c=!1;this.TJa=9E4;if(l){var q=this;l.rb(function(a){a.YJb(function(){wac_(40768456,500,50,"Connection parameters refresh requested for client [{0}]",q.Yo);q.F_c=p()})})}2>=100*Math.random()&&(this.YNc=3E5);wac_qR&&(wac_qR.Sud=this.YNc)}function wac_ATb(a,b,c,d,e,f,g,h,k,l){a=a||wac_3d().toString();a=new wac_zTb(a,b,c,d,e,1,f,g,h,k,null,l);a.wb();return a}
wac_zTb.prototype={F_c:null,jzb:null,Ed:null,M8d:0,tcc:!1,tBb:!1,pc:null,Ht:null,Yo:null,ofe:null,YNc:36E5,c8a:1E3,Wyb:0,h9a:null,G_c:!1,RKa:null,Qfa:0,lud:null,Ojb:null,cxd:null,hLb:function(){return this.cxd},BM:null,TJa:0,wb:function(){this.Ht.wa.ob("RMID",this.ZRe);this.Ht.Ola(this.gZa)},O0:function(a,b){this.Qfa=b.Rt;2===b.Rt&&(this.Wyb=0)},eAf:function(){this.tcc=!1;var a=this,b=this;this.AWb(function(b){var d=a.lud!==b.Wya,e=a.BM!==b.BM,f=a.BM;wac_BTb(a,b);a.Qfa&&(e?(wac_(17956955,500,15,"Recycling RTC connection due to RTC machine id change. old={0}, new={1}",
f||"null",b.BM),wac_sTb(a.Ht,null)):(a.Ht.wa.Za("SPC",new wac_CTb(d,e),null),wac_DTb(a)))},function(){wac_qR&&wac_rR(wac_qR,2,3);wac_DTb(b)},!0)},eBf:function(){this.c8a=1E3},AWb:function(a,b,c){var d=this.F_c;this.Ojb&&""!==this.Ojb&&(d=String.format("{0}&{1}={2}",d,"rr",this.Ojb));var d=this.jzb+"?"+d,e=null;wac_(4317445,500,50,"Getting MachineId from server for [{0}]",this.Yo);var f={};f["X-CorrelationId"]=wac_3d().toString();c&&(f.FSType="polling");var g={};g.IsNetworkOfflineBeforeSendRequest=
!!this.Ed.Wy.qP;g.HasAvailableConnectionsBeforeSendRequest=wac_Ana(this.Ed);g.MaxConnectionsAllowed=this.Ed.Z_a;g.IsRefreshMachineId=c;if(this.h9a&&!this.G_c)wac_ETb(this,wac_FTb(this,null,g,a,b,c),wac_GTb(this,null,g,b,c)),this.G_c=!0;else if(this.pc&&(e=this.pc.Je("WebServiceCall","GetMachineIdFromTheServer")),wac_qR&&wac_rR(wac_qR,2,0),wac_sR(0,0,!1),0>wac_rj(this.Ed,d,1,null,f,["RtcErrorCode","RtcGracefulShutdownInProgress"],1,wac_FTb(this,e,g,a,b,c),wac_GTb(this,e,g,b,c),null,this.TJa,"3",!1,
null,null)){5<this.Wyb&&200>this.Wyb&&wac_(578166985,500,15,"FindSession request not scheduled due to expired token. Manually triggered failure callback {0} times.",this.Wyb);var h=this;window.setTimeout(function(){h.Wyb++;b("-1")},1E3)}}};function wac_HTb(a,b,c){b||(b={});b.ConnectionState=wac_g.RTb.toString(a.Qfa);c||a.Ht.wa.Za("RCF",new wac_ITb(1,b),null)}
function wac_JTb(a,b,c,d){d||(d={});d.IsNetworkOfflineAfterRequestComplete=!!a.Ed.Wy.qP;d.IsRequestSucceeded=c;b&&(d.EnqueueTime=b.j5,d.InvokedTime=b.mC,d.CompletedTime=b.IP,b.oj&&"X-CorrelationId"in b.oj&&(d.CorrelationId=b.oj["X-CorrelationId"]));wac_(38633565,500,c?50:15,wac_tR(d))}
function wac_GTb(a,b,c,d,e){return function(f){wac_sR(0,1,!1);b&&b.Zc();a.tBb=!1;wac_JTb(a,f.Ka,!1,c);var g=null,h="unknown",k="unknown";if(f.Ka){if(h=f.Ka.oj)"RtcErrorCode"in h&&(g=h.RtcErrorCode.toString()),"RtcGracefulShutdownInProgress"in h&&(a.tBb=!0);h=wac_g.Vqa.toString(f.Ka.ld);k=f.Ka.Fg.toString()}c.FindSessionFailureReason="FindSessionRequestFailed";c.HttpErrorCode=k;c.HttpErrorStatus=h;c.RtcErrorCode=g;c.RtcGracefulShutdownInProgress=a.tBb.toString();wac_(4290721,500,15,"Request for MachineId failed with Status='{0}'; HttpStatus='{1}' for [{2}]; RtcErrorCode='{3}', RtcGracefulShutdownInProgress='{4}. Polling: '{5}' '",
h,k,a.Yo,g,a.tBb,e);wac_HTb(a,c,e);d(k)}}
function wac_FTb(a,b,c,d,e,f){return function(g){wac_sR(0,1,!1);b&&b.Zc();wac_JTb(a,g.Ka,!0,c);if(g=wac_KTb(g.Ka.Xd,"FindSession",null,!0)){var h;if(Object.getType(g)!==Object)h=null;else{for(var k in g);b:if("enabled"in g){for(var l=(k=g.enabled)?a.lOf:a.kOf,m=l.length,n=0;n<m;++n)if(!(l[n]in g)){h=null;break b}l=(h=new wac_yTb,h.tQb=g.enabled,h.cna=g.errorMessage,h.DM=wac_3d().toString(),h);k&&(l.rrc=g.url,l.Wya=g.queryString,l.BM=g.connectionString,l.svd=g.throttling_globalMaxNumberOfOutstandingMessages,
l.ixd=g.throttling_maxNumberOfOutstandingMessages,l.jxd=g.throttling_timeToWaitForResponse,l.kxd=g.throttling_messageDelay);h=l}else h=null}if(h){if(h.tQb&&h.Wya&&h.BM){wac_(4317446,500,50,"Successfully retrieved MachineId from server for [{0}]",a.Yo);a.Ojb=null;d(h);return}c.FindSessionFailureReason="FindSessionInvalidResponse";c.IsRtcEnabled=h.tQb;c.IsQueryStringEmpty=!h.Wya;c.IsConnectionStringEmpty=!h.BM;wac_(4290720,500,15,"Response did not contain valid MachineId [ConnectionUrl and/or QueryString] for [{0}]; IsRtcEnabled:{1}; IsQueryStringEmpty:{2}; IsConnectionStringEmpty:{3}",
a.Yo,h.tQb,!h.Wya,!h.BM)}else c.FindSessionFailureReason="FindSessionTranslateServerResponseFailed",wac_(8745097,500,15,"Could not translate server response to findSession response for [{0}]",a.Yo)}else c.FindSessionFailureReason="FindSessionDeserializeServerResponseFailed",wac_(7372827,500,10,"Could not deserialize response data for [{0}]",a.Yo);wac_HTb(a,c,f);e(null)}}
function wac_ETb(a,b,c){wac_(50448152,500,50,"Using FindSessionUtils find session response");a.h9a.A9b.Xc.CW(function(){a.h9a.A9b.Xc.sc()?(wac_(50448153,500,50,"FindSessionUtils find Session resulted in success"),b(a.h9a.zPb)):(wac_(50448154,500,15,"FindSessionUtils find Session resulted in error"),c(a.h9a.zPb))})}function wac_LTb(a){a.tcc&&(window.clearTimeout(a.M8d),a.tcc=!1)}function wac_DTb(a){wac_LTb(a);a.tcc=!0;a.M8d=window.setTimeout(a.SQe,a.YNc)}
function wac_BTb(a,b){try{a.RKa=b,a.cxd=b.rrc+"?"+b.Wya,a.BM=b.BM,a.lud=b.Wya,a.ofe=b.rrc}catch(c){wac_(17956953,500,10,"FindSession response contains invalid fields. Exception {0}, is thrown",c.toString())}}function wac_MTb(a){var b=(new Date).getTime();a=a.Y6d+a.c8a-b;0>a&&(a=0);return a}
function wac_NTb(a,b,c,d,e){wac_(17956952,500,50,"Retrieving Rtc MachineId from server. Getting from last findsession, connectionString is [{0}] OrderlyShutdownInprogress is [{1}]",a.BM,a.tBb);if(a.BM)b();else{var f=wac_MTb(a);window.setTimeout(function(){d(e,"RequestMachineId")&&(a.Y6d=(new Date).getTime(),a.AWb(function(c){wac_BTb(a,c);wac_DTb(a);b()},function(b){a.BM=null;wac_LTb(a);wac_qR&&wac_rR(wac_qR,2,3);c(b)},!1))},f)}}
function wac_OTb(a,b,c,d,e,f){wac_NTb(a,function(){e(f,"GetMachineIdSuccess")&&(wac_(17956951,500,50,"Successfully retrieved Rtc MachineId [{0}] for [{1}]",a.BM,a.Yo),b(a.ofe),d(new wac_PTb(a.RKa.kxd,a.RKa.jxd,a.RKa.ixd,a.RKa.svd)))},function(b){e(f,"GetMachineIdFailure")&&(wac_(4060129,500,15,"Failed to retrieve Rtc MachineId for [{0}]",a.Yo),c(b))},e,f)}function wac_QTb(a,b){b.val=a.RKa.DM;return String.format("{0}&{1}={2}",a.RKa.Wya,"corrid",wac_gg(b.val))}
function wac_RTb(a){this.MDe=Function.createDelegate(this,this.rkf);this.Ed=a;this.Mr=Array(3);for(a=0;3>a;a++){this.Mr[a]=Array(7);for(var b=0;7>b;b++)this.Mr[a][b]=0}this.wPb=this.N_c=this.Pcc=!1;this.Bab=0}
wac_RTb.prototype={wPb:!1,dvd:null,kud:null,Sud:0,Mr:null,Ed:null,Pcc:!1,N_c:!1,c6c:0,J8d:0,Bab:0,rkf:function(){if(this.Pcc){this.Bab++;if((new Date).getTime()-this.c6c<5E3+this.J8d){for(var a={},b=0;3>b;b++)for(var c=0;7>c;c++)if(2!==b||3===c||!c){var d=window.AppRealtimeChannel.ApiType.toString(b)+window.AppRealtimeChannel.EventCountType.toString(c);a[d]=this.Mr[b][c]}a.FSDomain=this.dvd;a.ConnectionDomain=this.kud;a.FSRetryInterval=this.Sud;a.LogNumber=this.Bab;1===this.Bab&&(b=wac_STb().z9b.toString(),
a.FSLatencies=b,b=wac_STb().Swb.toString(),a.ConLatencies=b);a=wac_lm(a);wac_(50644352,500,15,a)}this.c6c=(new Date).getTime();for(a=0;3>a;a++)for(b=0;7>b;b++)this.Mr[a][b]=0;this.Pcc=!1}}};function wac_rR(a,b,c){2!==b&&!a.N_c||a.wPb||!window.navigator.onLine||a.Ed.Wy.qP||(a.Mr[b][c]++,a.Pcc=!0)}function wac_TTb(a,b){a.J8d=b;window.setInterval(a.MDe,b);a.c6c=(new Date).getTime()}
function wac_UTb(a,b,c,d,e,f,g,h,k,l,m,n){this.are=Function.createDelegate(this,this.q3e);this.AVe=Function.createDelegate(this,this.TQd);this.msd=Function.createDelegate(this,this.LSd);this.mHe=Function.createDelegate(this,this.ELd);this.Lre=Function.createDelegate(this,this.u4e);this.lLe=Function.createDelegate(this,this.Gtf);this.kLe=Function.createDelegate(this,this.Ftf);this.qLe=Function.createDelegate(this,this.Mtf);this.bXe=Function.createDelegate(this,this.JIf);this.uMe=Function.createDelegate(this,
this.Euf);this.vMe=Function.createDelegate(this,this.Fuf);this.Swe=Function.createDelegate(this,this.rVb);this.jO=new (wac_La.$$(wac_Ha.$$(wac_Hm.Mrb,wac_VTb)));this.$4c=(new Date(0)).getTime();this._clientId=a;this.TIb=b;this.LQ=0;this.pc=d;this.W6b=h;this.XVa=g;this.uA=k;this.jXd=e;this.sDa=f;this.Yo=c;this.Mr=l;this.ad=m;this.Ed=n;this.tzd=1>100*Math.random()}function wac_WTb(a,b,c,d,e,f,g,h){return wac_XTb(a,b,c,d,e,f,g,h)}
wac_UTb.prototype={_clientId:null,$cd:!1,sY:null,LQ:0,ad:null,hLb:function(){return this.sDa.hLb()},jXd:null,Vwb:1,rY:null,TIb:null,pc:null,Hge:0,W6b:null,sDa:null,XVa:null,Yo:null,Mr:null,Ed:null,uA:null,wb:function(){this.uA.wa.ob("RC",this.Swe);this.uA.wa.ob("UPSR",this.vMe);this.uA.wa.ob("UPSC",this.uMe);wac_hj(this.Ed,this.Mr);var a=this;wac_vh(function(){a.Mr.FNd()});wac_YTb(this);wac_ZTb();this.uA.wa.ob("SPC",this.bXe)},LSd:function(a,b){return a!==this.Vwb?(wac_(4309017,500,15,"ConnectionToken verification failed for {0}",
b),!1):!0},zUb:function(){if(2!==this.LQ&&1!==this.LQ){wac_(4539721,500,50,"Starting a new RTC connection for client [{0}]",this.Yo);wac_xTb(this.W6b);var a=wac_STb();a.b$c=a.xsc();this.O0(1,this.LQ);this.TQd()}},TQd:function(){var a=this.Vwb;this.$cd=!1;this.Mr.xNd();wac_OTb(this.sDa,this.Lre,this.mHe,this.XVa.aCe,this.msd,a)},ELd:function(a){this.Mr.zNd();var b=null;!a||"documentsessiondeleted"!==(b=a.toLowerCase())&&"documentsessionexpired"!==b?this.rVb(null,null):(wac_(41788292,500,15,"In RealtimeChannel method OnFailureToConnect: Disconnect was called for [{0}], due to non-retriable RtcErrorCode:{1}",
this.Yo,a),this.o2a())},rVb:function(a,b){wac_(4309018,500,50,"Disconnecting the connection [{0}]",this.sY);a=(a=2===this.LQ||1===this.LQ)&&!this.XVa.f_a;var c=!0,d=0;b&&Object.getType(b)!==Object.getType(Sys.EventArgs.Empty)&&b.GRb&&""!==b.GRb&&(a=!0,this.sDa.Ojb=b.GRb,c=b.dzd,d=b.Suc);a&&this.O0(1,this.LQ);++this.Vwb;this.XVa.mU();wac__Tb(this,c);b=this.sDa;b.BM=null;wac_LTb(b);b.c8a+=3E3;b.c8a=Math.min(b.c8a,3E5);wac_YTb(this);a&&window.setTimeout(this.AVe,Math.min(d,3E4))},JIf:function(){var a=
null,b,c,d=(c=wac_QTb(this.sDa,b={val:a}),a=b.val,c);this.rY.qs=d;wac_(40768457,500,50,"Connection parameters refresh finished for client [{0}], CorrelationId:{1}",this.Yo,a)},u4e:function(a){this.$4c=(new Date).getTime();var b=null,c,d;this.rY.qs=(d=wac_QTb(this.sDa,c={val:b}),b=c.val,d);this.ad.vqc&&(this.rY.url=a,wac_qR&&(wac_qR.kud=wac_Ah(a)));var e=null;this.pc&&(e=this.pc.Je("WebServiceCall","ConnectToServer"));wac_(3290048,500,50,"Connecting to server for client [{0}]",this.Yo);a={};this.TIb&&
(a.transport=1===this.TIb.length?this.TIb[0]:this.TIb);a.pingInterval=null;wac_sR(1,0,!1);var f=this,g=this;this.rY.start(a,null).done(function(a){f.Mr.ANd();wac_sR(1,1,!0);wac_(3457857,500,50,"Successfully connected to server using connection [{0}], CorrelationId:{1}",a.id,b)}).fail(function(a){wac_(3457858,500,15,"Failed to connect to server : connection string: {0}, CorrelationId:{1}, callback parameter:{2} for [{3}]",g.sDa.BM,b,wac_tR(a),g.Yo);g.ELd(null);g.Mr.yNd(a);wac_sR(1,1,!1);a={CorrelationId:b,
ErrorDetails:a,ConnectionState:wac_g.RTb.toString(g.LQ)};g.uA.wa.Za("RCF",new wac_ITb(0,a),null)}).always(function(){e&&e.Zc();wac_qR&&(wac_qR.wPb=!1)})},o2a:function(){this.LQ?(this.Mr.BNd(),wac_qR&&(wac_qR.wPb=!0),wac_(36545633,500,50,"Starting explicit disconnect for [{0}]",this.Yo),this.XVa.f_a=!0,this.W6b.d0(),this.O0(0,this.LQ),this.rVb(null,null),this.XVa.f_a=!1):wac_(36545632,500,50,"Disconnect for [{0}] was called but the channel is already Disconnected",this.Yo)},Sla:function(){return this.LQ},
Ola:function(a){this.uA.Ola(a)},BMb:function(a){this.uA.BMb(a)},qPd:function(a){return this.Vsb(0,a)},Vsb:function(a,b){var c=new (wac_ab.$$(Object));this.uA.wa.Za("SP",new wac_0Tb(a,b,c),null);return c.Xc},YHa:function(a){this.uA.YHa(a)},MYa:function(a){this.uA.MYa(a)},kkc:function(a){this.uA.kkc(a)},Hmc:function(a){this.uA.Hmc(a)},jkc:function(a){this.uA.jkc(a)},Gmc:function(a){this.uA.Gmc(a)},cff:function(a){return this.jO.hb(a)&&this.jO.B(a).hb(0)?this.jO.B(a).B(0).MJa:null},I2a:function(){return this.bDc(0)},
bDc:function(a){for(var b={},c=this.jO.GetEnumerator();c.$$mn();){var d=c.$$cu();d.qa().hb(a)&&(b[d.re()]=d.qa().B(a).MJa)}return b},Fuf:function(a,b){for(a=b.yAd.GetEnumerator();a.$$mn();){var c=a.$$cu();this.jO.hb(c.re())||this.jO.Z(c.re(),new (wac_Ha.$$(wac_Hm.Mrb,wac_VTb)));var d=c.qa();this.jO.B(c.re()).Z(b.yc,new wac_VTb(d.Presence,new Date(d.TimeStamp)));c.re()!==this._clientId||b.yc||this.uA.wa.Za("MPU",new wac_ula(d.Presence),null)}},Euf:function(a,b){a=b.HZa;b=a.length;for(var c=0;c<b;++c)this.jO.zb(a[c])},
xI:function(a,b,c){var d=new (wac_ab.$$(Object));this.uA.wa.Za("SUN",new wac_1Tb(a,b,c,d),null);return d.Xc},z3:function(a){this.uA.z3(a)},CMb:function(a){this.uA.CMb(a)},fHd:function(a){var b,c,d,e,f,g;(e=this.jO.Tb(a,d={val:b},null),b=d.val,e)&&(g=b.Tb(0,f={val:c},null),c=f.val,g)?(a=(a=c)&&a.qSb?(new Date).getTime()-a.qSb.getTime()>(this.ad.Oqc?6E4:this.ad.Nqc)?2:1:1,c=new wac_xla(a,c.qSb)):c=null;return c},Lnb:function(){for(var a={},b=this.jO.GetEnumerator();b.$$mn();){var c=b.$$cu(),d,e,f;if(f=
c.qa().Tb(0,e={val:d},null),d=e.val,f)a[c.re()]=this.fHd(c.re())}return a},Th:function(){return this._clientId},tzd:!1,O0:function(a,b){if((1!==this.LQ||b||1!==a)&&this.LQ!==b){var c=String.format.apply(null,["Unexpected connection state change : Current state is '{0}' while the event indicates ('{1}'->'{2}') transition"].concat([this.LQ,b,a]));wac_(3290053,500,10,c)}if(this.LQ!==a){switch(a){case 2:wac_qR&&(wac_qR.N_c=!0);this.sY=this.rY.id;wac_(3249539,500,50,"Established connection [{0}] for client [{1}]",
this.sY,this.Yo);if((c=this.rY)&&c.transport&&c.transport.name){var c=c.transport.name,d=c.toLowerCase();"websockets"===d?wac_(4290723,500,50,"Transport name - {0} for [{1}]",c,this.Yo):"serversentevents"===d?wac_(4290752,500,50,"Transport name - {0} for [{1}]",c,this.Yo):"foreverframe"===d?wac_(4290753,500,50,"Transport name - {0} for [{1}]",c,this.Yo):"longpolling"===d?wac_(4290754,500,50,"Transport name - {0} for [{1}]",c,this.Yo):"mocktransport"!==d&&wac_(4290755,500,15,"Unknown transport protocol encountered - '{0}'",
c)}else wac_(4290722,500,10,"Transport protocol name is missing");wac_(4298369,500,50,"Retrieving complete session state");c=null;this.pc&&(c=this.pc.Je("WebServiceCall","Receive First Presence"));var d=this.uA,e=this.msd,f=this.Vwb,g=this.W6b,h=this.are;var k=new (wac_Ha.$$(wac_Hm.Mrb,Object));if(this.jO.hb(this._clientId))for(var l=this.jO.B(this._clientId).$$ge();l.$$mn();){var m=l.$$cu();k.Z(m.re(),m.qa().MJa)}d.wa.Za("RPS",new wac_2Tb(e,f,g,h,k,c),null);break;case 1:2===b&&wac_(4298644,500,50,
"Lost connection [{0}] to the server ...trying to re-establish it",this.sY);break;case 0:if(this.XVa.f_a)wac_(3249543,500,50,"Connection [{0}] has been explicitly closed",this.sY);else{1===b&&(wac_(7672737,500,50,"Signalr detected an unexpected disconnect event while attempting to re-establish connection [{0}]. Kicking off global reconnect logic ...",this.sY),this.Mr.CNd());2===b&&wac_(36574532,500,50,"Signalr detected a disconnect event triggered by a period of client inactivity for connection [{0}]. Kicking off global reconnect logic ...",
this.sY);this.rVb(null,null);return}}this.LQ=a;this.uA.wa.Za("CSC",new wac_tla(a,b),null)}},Mtf:function(){wac_(3249544,500,50,"Detected that the connection [{0}] is slow",this.sY)},Ftf:function(a){wac_(3249545,600,10,"SignalR ERROR for connection [{0}]: {1}",this.sY,wac_tR(a)||"<empty>")},Gtf:function(a){a=wac_tR(a);this.tzd&&2E3>this.Hge&&!a.startsWith("Invok")&&!a.startsWith("Trigger")&&(wac_(578950464,500,50,"SignalR lib: {0}",a),this.Hge++)},q3e:function(){var a,b=[],c,d;(d=this.jO.Tb(this._clientId,
c={val:a},null),a=c.val,d)&&this.jO.zb(this._clientId);for(d=this.jO.Xg().$$ge();d.$$mn();)c=d.$$cu(),Array.add(b,c);d=b.length;for(var e=0;e<d;++e)c=b[e],this.jO.zb(c);a&&this.jO.Z(this._clientId,a);this.uA.wa.Za("IPSC",new wac_ji(b),null)}};function wac_3Tb(a){switch(a){case 0:return 1;case 2:return 1;case 1:return 2;case 4:return 0;default:throw Error.argumentOutOfRange("state",a,"Unknown SignalR state");}}
function wac_4Tb(a){var b=0;a.rY.state||(b=a.$4c+15E3-(new Date).getTime(),0>b&&(b=0));return b}
function wac__Tb(a,b){function c(){if(a.$cd)wac_(591692192,500,15,"Stop connection was called twice, possibly on the same connection.");else try{a.$cd=!0,e.stop(!0,b)}catch(c){wac_(591692191,500,15,"Stopping connection failed: {0}",c.message)}}var d=wac_4Tb(a),e=a.rY,f=a.sY;0<d?(wac_(4309020,500,50,"Waiting to stop connection [{0}]: [{1}] ms.",f,d),window.setTimeout(c,d)):(wac_(36804372,500,50,"Stopping connection [{0}].",f),c())}
function wac_YTb(a){var b=++a.Vwb;a.$4c=(new Date(0)).getTime();a.rY=a.jXd();a.uA.wa.Za("RP",new wac_5Tb(a.rY),null);a.rY.stateChanged(function(c){a.LSd(b,"StateChangedSignalR")&&a.O0(wac_3Tb(c.newState),wac_3Tb(c.oldState))});a.rY.connectionSlow(a.qLe);a.rY.error(a.kLe);a.rY.log=a.lLe}function wac_6Tb(){return function(){return!1}}
function wac_ZTb(){try{var a=$.signalR;if(!a)throw Error.invalidOperation("Failed to retrieve Signalr object");var b=a.version;if(!b)throw Error.invalidOperation("Signalr object is missing version information");if("2.1.1"===b){var c=a.transports;if(!c)throw Error.invalidOperation("Failed to retrieve transports object");var d=c.longPolling;if(!d)throw Error.invalidOperation("Failed to retrieve longPolling object");if(!d.supportsKeepAlive)throw Error.invalidOperation("LongPolling object does not have a field called supportsKeepAlive");
d.supportsKeepAlive=wac_6Tb()}}catch(e){wac_(6432339,500,15,"Failed to disable longPolling KeepAlives: {0}",e.message)}}function wac_VTb(a,b){this.MJa=a;this.qSb=b}wac_VTb.prototype={MJa:null,qSb:null};
function wac_XTb(a,b,c,d,e,f,g,h){var k=null,l=null,m=wac_7Tb(),n=wac_q.ur?wac_q.ur:"1.0",p=wac_8Tb(a,b),q=m.orc?wac_9Tb(p):new wac_$Tb,r;wac_qR||(wac_qR=new wac_RTb(d));r=wac_qR;m.Xyd&&wac_TTb(r,m.Wyd);var t="",t=g&&""!==g?g:"/rtc2/";r.dvd=wac_Ah(t);var u=t+"signalr";g=t+"findsession";t=new wac_aUb;l=l||wac_bUb||(wac_bUb=new wac_cUb);r=new wac_dUb(m,new wac_eUb(t),a,p,function(a){return new wac_fUb(a.createHubProxy("realtimeChannelHub"))},f,l,q,r);k||(k=wac_ATb(b,d,g,f,n,a,p,l,e,h));k.TJa=m.TJa;
b=new wac_tTb(p);c=c?c.split(","):null;a=new wac_UTb(a,c,p,f,function(){return window.$.hubConnection(u)},k,r,b,l,q,m,d);a.wb();return a}function wac_8Tb(a,b){return String.format("ClientID={0}, App={1}, ClientType={2}, SessionId={3}",a,wac_gUb(wac_Hm.mPc.toString(1)),wac_gUb(wac_Hm.nPc.toString(1)),b)}function wac_gUb(a){return a?a.charAt(0).toLocaleUpperCase()+a.substring(1,a.length):a}function wac_hUb(){}
function wac_9Tb(a){wac_iUb||(wac_iUb=new wac_hUb,wac_(39321870,500,50,"RealtimeChannelMetrics initialized for client {0}",a));return wac_iUb}
wac_hUb.prototype={z7c:0,NDb:0,w$d:0,u$d:0,v$d:0,z$d:0,y$d:0,x$d:0,j9a:null,B9b:null,Y4c:null,V$a:null,cCb:null,GFa:null,Z4c:null,j5c:null,i5c:null,nCb:null,s5c:null,E9b:null,yWd:0,lfe:0,VCb:0,n6c:0,xNd:function(){this.z7c++;this.Y4c=new Date;this.j9a||(this.j9a=new Date)},ANd:function(){this.NDb++;this.GFa=new Date;this.B9b||(this.B9b=this.GFa);this.nCb=this.GFa;this.j9a&&1===this.NDb&&(this.VCb=Math.max(this.VCb,this.GFa.getTime()-this.j9a.getTime()));this.V$a&&1<this.NDb&&(this.VCb=Math.max(this.VCb,
this.GFa.getTime()-this.V$a.getTime()));this.cCb&&1<this.NDb&&(this.n6c=Math.max(this.n6c,this.GFa.getTime()-this.cCb.getTime()))},zNd:function(){this.w$d++;this.Z4c=new Date},CNd:function(){this.u$d++;this.V$a=new Date},BNd:function(){this.v$d++;this.cCb=new Date},UNc:function(){this.j5c=new Date;this.z$d++},dsb:function(){this.E9b||(this.E9b=new Date);this.y$d++},TOa:function(){this.i5c=new Date;this.x$d++},p9d:!1,FNd:function(){!this.p9d&&this.z7c&&(wac_(39321871,500,15,wac_lm({numberOfConnectionAttempts:this.z7c,
numberOfSuccessfulConnections:this.NDb,numberOfFailedConnections:this.w$d,numberOfDisconnectedConnections:this.u$d,numberOfExplicitDisconnectedConnections:this.v$d,numberOfSentMessages:this.z$d,numberOfReceivedMessages:this.y$d,numberOfLostMessages:this.x$d,firstConnectionAttempt:this.j9a?this.j9a:null,firstMessageReceived:this.E9b?this.E9b:null,firstConnectionSuccess:this.B9b?this.B9b:null,lastConnectionAttempt:this.Y4c?this.Y4c:null,lastConnectionSuccess:this.GFa?this.GFa:null,lastConnectionFailure:this.Z4c?
this.Z4c:null,lastMessageSent:this.j5c?this.j5c:null,lastMessageLost:this.i5c?this.i5c:null,lastDisconnect:this.V$a?this.V$a:null,lastExplicitDisconnect:this.cCb?this.cCb:null,lastTimeOnline:this.nCb?this.nCb:null,lastTimeOffline:this.s5c?this.s5c:null,maxDisconnectedTimeMs:this.VCb,maxExplicitDisconnectedTimeMs:this.n6c,clientConnectionErrors:this.yWd,serverConnectionErrors:this.lfe})),this.p9d=!0)},yNd:function(a){var b,c,d,e=b={val:b},f=c={val:c},g=d={val:d};e.val=0;f.val=null;g.val=null;if(a)try{var h=
a.source;h&&Object.getType(h)===String&&(g.val=h);var k=a.context;k&&(a=k,e.val=a.status?a.status:0,f.val=a.statusText?a.statusText:null)}catch(l){}b=b.val;c=c.val;d=d.val;b&&200!==b&&(wac_(40157596,500,15,wac_lm({HttpErrorCode:b,HttpErrorStatus:c,Exception:d})),400<=b&&499>=b&&this.yWd++,500<=b&&599>=b&&this.lfe++)},pqa:function(){this.s5c=new Date},qqa:function(){this.V$a=this.nCb=new Date}};function wac_$Tb(){}
wac_$Tb.prototype={xNd:function(){},ANd:function(){},zNd:function(){},CNd:function(){},BNd:function(){},UNc:function(){},dsb:function(){},TOa:function(){},FNd:function(){},yNd:function(){},pqa:function(){},qqa:function(){}};function wac_fUb(a){this.Hq=a}wac_fUb.prototype={Hq:null,xI:function(a,b){return this.Hq.invoke("SendUpdateNotification",a,b)}};function wac_jUb(){}
function wac_7Tb(){var a=wac_q.W;if(!a){var b;return b=new wac_jUb,b.wtd=!1,b.Oqc=!1,b.Nqc=9E5,b.vqc=!1,b.Ayd=5E3,b.Ttc=!0,b.Gvc=!1,b.orc=!1,b.TJa=9E4,b}var c;return c=new wac_jUb,c.wtd=a.ga("AwayStatusManagerIsEnabled"),c.Oqc=a.ga("AwayStatusOneMinuteTimeoutIsEnabled"),c.Nqc=a.ac("AwayCoauthorThresholdMs",9E5),c.vqc=a.ga("RtcAllowCrossDomainAccessEnabled"),c.Ayd=a.ac("RTCReconnectionSlowDurationMilliseconds",5E3),c.Ttc=a.ga("RTCLogUpdateNotificationHintOnDeserializationFailure"),c.Gvc=a.ga("ShouldLogOnContentNotification"),
c.orc=a.ga("RtcClientMetricsEnabled"),c.TJa=a.ac("RtcFindSessionRequestTimeoutInMS",6E4),c.Xyd=a.ga("RtcJsClientFrequentlyLogsMetrics"),c.pvc=a.ac("RtcJsClientFrequentMetricsLatencyThresholdInMS",1E3),c.Wyd=a.ac("RtcJsClientFrequentMetricsLogIntervalInMS",3E5),c}wac_jUb.prototype={wtd:!1,Oqc:!1,Nqc:0,vqc:!1,Ayd:0,Ttc:!1,Gvc:!1,orc:!1,TJa:0,Xyd:!1,pvc:0,Wyd:0};function wac_cUb(){this.wa=new wac_Xd}
wac_cUb.prototype={wa:null,Ola:function(a){this.wa.ob("CSC",a)},BMb:function(a){this.wa.fd("CSC",a)},YHa:function(a){this.wa.ob("PU",a)},MYa:function(a){this.wa.fd("PU",a)},z3:function(a){this.wa.ob("UNR",a)},CMb:function(a){this.wa.fd("UNR",a)},kkc:function(a){this.wa.ob("PSU",a)},Hmc:function(a){this.wa.fd("PSU",a)},jkc:function(a){this.wa.ob("PSC",a)},Gmc:function(a){this.wa.fd("PSC",a)}};function wac_sTb(a,b){a.wa.Za("RC",b,null)}
function wac_0Tb(a,b,c){wac_0Tb.initializeBase(this);this.yc=a;this.JM=b;this.fkb=c}wac_0Tb.prototype={yc:0,JM:null,fkb:null};function wac_1Tb(a,b,c,d){wac_1Tb.initializeBase(this);this.yc=a;this.xAd=b;this.Bud=c;this.fkb=d}wac_1Tb.prototype={yc:0,xAd:null,Bud:!1,fkb:null};function wac_5Tb(a){wac_5Tb.initializeBase(this);this.Mvd=a}wac_5Tb.prototype={Mvd:null};function wac_2Tb(a,b,c,d,e,f){wac_2Tb.initializeBase(this);this.Fwc=a;this.TOb=b;this.jud=c;this.isc=e;this.$td=d;this.H0a=f}
wac_2Tb.prototype={H0a:null,isc:null,$td:null,jud:null,TOb:0,Fwc:null};function wac_kUb(a,b){wac_kUb.initializeBase(this);this.yc=a;this.yAd=b}wac_kUb.prototype={yc:0,yAd:null};function wac_lUb(a){wac_lUb.initializeBase(this);this.HZa=a}wac_lUb.prototype={HZa:null};function wac_mUb(a,b,c,d){wac_mUb.initializeBase(this);this.GRb=a;this.Suc=b;this.zyd=c;this.dzd=d}wac_mUb.prototype={GRb:null,Suc:0,zyd:null,dzd:!1};function wac_CTb(a,b){wac_CTb.initializeBase(this);this.ZYe=a;this.UZe=b}
wac_CTb.prototype={ZYe:!1,UZe:!1};function wac_ITb(a,b){wac_ITb.initializeBase(this);this.nZe=a;this.cna=b}wac_ITb.prototype={nZe:0,cna:null};function wac_nUb(a){wac_nUb.initializeBase(this);this.o_e=a}wac_nUb.prototype={o_e:null};
function wac_dUb(a,b,c,d,e,f,g,h,k){this.b9=Function.createDelegate(this,this.oha);this.Ggb=Function.createDelegate(this,this.c0b);this.Hgb=Function.createDelegate(this,this.mrb);this.g_=Function.createDelegate(this,this.bba);this.ZSe=Function.createDelegate(this,this.Vsb);this.EIe=Function.createDelegate(this,this.tqf);this.FIe=Function.createDelegate(this,this.uqf);this.HIe=Function.createDelegate(this,this.wqf);this.GIe=Function.createDelegate(this,this.vqf);this.Tpc=Function.createDelegate(this,
this.xI);this.kKe=Function.createDelegate(this,this.psf);this.z9c=new (wac_Ha.$$(wac_Hm.Dub,Object));wac_dUb.initializeBase(this,[g]);this.ad=a;this.y7c=this.w7c=0;this.Adb=b;this.Adb.lkc(this.kMe);this._clientId=c;this.Ece=e;this.Ht.wa.ob("RP",this.nKe);this.Ht.wa.ob("RPS",this.kKe);this.Ht.wa.ob("SUN",this.Tpc);this.Ht.wa.ob("IPU",this.GIe);this.Ht.wa.ob("IUNR",this.HIe);this.Ht.wa.ob("IPSU",this.FIe);this.Ht.wa.ob("IPSC",this.EIe);this.Ht.wa.ob("SP",this.ZSe);this.pc=f;this.Yo=d;this.Mr=h;this.LL=
k}
wac_dUb.prototype={ad:null,Hq:null,w7c:0,y7c:0,C8d:!1,_clientId:null,Ece:null,pc:null,Occ:0,Yo:null,Mr:null,LL:null,rsf:function(a,b){this.Hq=this.Ece(b.Mvd);this.Adb.Tc();this.Hq.Hq.on("presenceUpdated",this.g_);this.Hq.Hq.on("persistentStateUpdated",this.Hgb);this.Hq.Hq.on("persistentStateCleared",this.Ggb);this.Hq.Hq.on("updateNotification",this.b9)},O0:function(a,b){this.Qfa=b.Rt;if(2===b.Rt){for(a=this.z9c.$$ge();a.$$mn();)b=a.$$cu(),this.xI(null,new wac_1Tb(b.re(),b.qa(),!1,new (wac_ab.$$(Object))));this.z9c=
new (wac_Ha.$$(wac_Hm.Dub,Object))}},psf:function(a,b){b.$td();for(a=0;2>a;++a)wac_oUb(this,a,b)},Vsb:function(a,b){a=b.JM;var c=wac_pUb(a),d=b.fkb,e=new (wac_La.$$(window.Common.PresenceDataEntryForClients)),f;e.Z(this._clientId,(f=new window.Common.PresenceDataEntryForClients,f.Presence=a,f.TimeStamp=(new Date).getTime(),f));this.Ht.wa.Za("UPSR",new wac_kUb(b.yc,e),null);wac_rR(this.LL,1,0);if(2!==this.Qfa)this.Mr.TOa(),wac_rR(this.LL,1,2),d.ig(null);else{var g=this.Occ.toString();++this.Occ;var h=
this;f=new wac_qUb(function(){return wac_rUb(h,b.yc,c,g)},g);f=wac_sUb(this.Adb,"0,"+b.yc).U(f);var k=this;wac_tUb(f,function(a){2===a&&wac_rR(k.LL,1,6);d.ig(null)});wac_uUb(f,function(){})}},xI:function(a,b){var c=b.yc;a=b.xAd;var d=b.Bud,e=b.fkb,f=wac_pUb(a);wac_rR(this.LL,0,0);if(2!==this.Qfa)d?this.z9c.Z(c,a):(this.Mr.TOa(),wac_rR(this.LL,0,2)),e.ig(null);else{var g=this.Occ.toString();++this.Occ;var h=this;b=new wac_qUb(function(){return wac_vUb(h,c,f,g)},g);b=wac_sUb(this.Adb,"1,"+c).U(b);var k=
this;wac_tUb(b,function(a){2===a&&wac_rR(k.LL,0,6);e.ig(null)});wac_uUb(b,function(){})}},mU:function(){this.Hq.Hq.off("presenceUpdated",this.g_);this.Hq.Hq.off("persistentStateUpdated",this.Hgb);this.Hq.Hq.off("persistentStateCleared",this.Ggb);this.Hq.Hq.off("updateNotification",this.b9)},vqf:function(a,b){this.bba(b.A$,b.Ohb)},bba:function(a){this.Mr.dsb();this.mrb(0,a)},uqf:function(a,b){this.mrb(b.yc,b.A$)},mrb:function(a,b){this.Mr.dsb();wac_wUb(this,a,b,null)},tqf:function(a,b){this.c0b(b.HZa)},
c0b:function(a){this.Mr.dsb();if(wac_ha.h6(500,100))for(var b=0;b<a.length;++b);a.length&&(this.Ht.wa.Za("UPSC",new wac_lUb(a),null),this.Ht.wa.Za("PSC",new wac_ji(a),null),this.Ht.wa.Za("PU",new wac_ii({},a),null))},wqf:function(a,b){this.oha(b.Zf,b.swa)},oha:function(a,b){this.ad.Gvc&&!a&&wac_(40128990,500,100,"Received ContentUpdate notification from the server");this.Mr.dsb();if(5===a){var c;try{if(b&&""!==b){var d=JSON.parse(b);c=new wac_mUb(d.rr,d.rbp,d.rd,d.sa)}else c=null}catch(e){wac_(593844380,
500,15,"Error when parsing reconnect hint: {0}",e.message),c=null}a=c?String.format("Received client reconnection request from the server. Reason: {0}, Backoff time: {1} ",c.zyd,c.Suc):"Received client reconnection request from the server without params.";wac_(18637071,500,50,a);wac_sTb(this.Ht,c)}else c=wac_KTb(b,String.format("UpdateNotification-{0}",wac_Hm.Dub.toString(a)),null,this.ad.Ttc),this.Ht.wa.Za("UNR",new wac_vla(a,c),null)}};
function wac_wUb(a,b,c,d){if(wac_ha.h6(500,100))for(var e in c);delete c[a._clientId];if(!wac_Sf(c)){for(var f in c){e={key:f,value:c[f]};var g=e.key;c[g]=wac_KTb(e.value,"Presence",g,!1)}f=new (wac_La.$$(window.Common.PresenceDataEntryForClients));var h=(new Date).getTime(),k;for(k in c){e={key:k,value:c[k]};var g=e.key,l;if(d)l=d[g],l.Presence=e.value;else{var m;l=(m=new window.Common.PresenceDataEntryForClients,m.Presence=e.value,m.TimeStamp=h,m)}f.Z(g,l)}a.Ht.wa.Za("UPSR",new wac_kUb(b,f),null);
b?a.Ht.wa.Za("PSU",new wac_wla(b,c),null):(a.C8d||(wac_(4539734,500,50,"Raising first presence update notification for [{0}]",a.Yo),a.C8d=!0,wac_q.Fm&&(wac_q.Fm.IsCoauthSession=!0)),a.Ht.wa.Za("PU",new wac_ii(c,[]),null))}}
function wac_vUb(a,b,c,d){var e=null,f=new wac_xUb,g=new wac_uR;wac_(3249505,500,50,"Sending update notification for [{0}]",a.Yo);if(2!==a.Qfa)return a.Mr.TOa(),wac_rR(a.LL,0,2),wac_(7934172,500,15,"Connection is lost - unable to send the message for [{0}]",a.Yo),wac_yUb(g),g;a.pc&&3===b&&20>a.y7c&&(e=a.pc.Je("WebServiceCall","Send WetContent Update"),a.y7c++);f.oe();wac_vR(g.rUa,1);a.Hq.xI(b,c).done(function(){a.Mr.UNc();wac_rR(a.LL,0,1);wac_(3249506,500,50,"Successfully delivered update notification message [{0}] for [{1}]",
d,a.Yo);wac_vR(g.vka,1);f&&(f.Zc(),f.Wg()>a.ad.pvc?wac_rR(a.LL,0,4):wac_rR(a.LL,0,5))}).fail(function(b){a.f_a||(a.Mr.TOa(),wac_rR(a.LL,0,3),wac_(3249507,500,15,"Server failed to process the update notification message [{0}] : [{1}] for [{2}]",d,wac_tR(b),a.Yo));wac_vR(g.vka,2)}).always(function(){e&&e.Zc()});return g}
function wac_rUb(a,b,c,d){var e=null,f=new wac_xUb,g=new wac_uR;wac_(3249501,500,50,"Sending presence update for [{0}]",a.Yo);if(2!==a.Qfa)return a.Mr.TOa(),wac_rR(a.LL,1,2),wac_(7934171,500,15,"Connection is lost - unable to send the message for [{0}]",a.Yo),wac_yUb(g),g;a.pc&&20>a.w7c&&(e=a.pc.Je("WebServiceCall","Send Presence Message"),a.w7c++);f.oe();wac_vR(g.rUa,1);try{a.Hq.Hq.invoke("UpdatePersistentState",b,c).done(function(){a.Mr.UNc();wac_rR(a.LL,1,1);wac_(3249502,500,50,"Successfully delivered presence update message [{0}] for [{1}]",
d,a.Yo);wac_vR(g.vka,1);f&&(f.Zc(),f.Wg()>a.ad.pvc?wac_rR(a.LL,1,4):wac_rR(a.LL,1,5))}).fail(function(b){a.f_a||(a.Mr.TOa(),wac_rR(a.LL,1,3),wac_(3249503,500,15,"Server failed to process the presence update message [{0}]: [{1}] for [{2}]",d,wac_tR(b),a.Yo));wac_vR(g.vka,2)}).always(function(){e&&e.Zc()})}catch(h){wac_(593072906,500,15,"Exception when invoking hub method UpdatePersistentState, error: {1}",h.message),wac_rR(a.LL,1,3),wac_vR(g.vka,2)}return g}
function wac_oUb(a,b,c){try{a.Hq.Hq.invoke("GetCompletePersistentStateWithMetadata",b).done(function(d){if(c.Fwc(c.TOb,"GetCompletePresenceSuccess")){wac_wTb(c.jud);wac_(3249540,500,50,"Successfully retrieved complete session state for [{0}]",a.Yo);a.Ht.wa.Za("RMID",null,null);var e={},f;for(f in d){var g={key:f,value:d[f]};e[g.key]=g.value.Presence}wac_wUb(a,b,e,d);a.Ht.wa.Za("CPSWM",new wac_nUb(d),null);c.isc.hb(b)&&(d=c.isc.B(b),e=new (wac_ab.$$(Object)),a.Ht.wa.Za("SP",new wac_0Tb(b,d,e),null))}}).fail(function(b){c.Fwc(c.TOb,
"GetCompletePresenceFail")&&(wac_(3249541,500,15,"Failed to retrieve complete session state : {0} for [{1}]",wac_tR(b),a.Yo),wac_sTb(a.Ht,null))}).always(function(){c.H0a&&c.H0a.Zc()})}catch(d){wac_(595132428,500,10,"Exception thrown while calling hub method GetCompletePersistentStateWithMetadata. Promise not even created. Current event token: {0}, Exception message: {1}",c.TOb,d.message)}}
function wac_pUb(a){var b;try{b=wac_wi(a)}catch(c){throw a=String.format("Failed to JSON-serialize payload : {0}",c),wac_(18637072,500,10,a),Error.argument("payload",a);}if(8E3<b.length)throw a=String.format("Payload exceeds maximum length: {0} > {1} : {2}",b.length,8E3,b),wac_(18637074,500,10,a),Error.argument("payload",a);return b}
function wac_KTb(a,b,c,d){if(!a)return null;if(Object.getType(a)!==String){var e;if(d)try{e=wac_pUb(a)}catch(f){e=String.format("Failed to JSON serialize the object with exception [{0}]",f)}else e="not allowed to log the object";a=String.format("Failed to deserialize [{0}] - object is not of type [String] and is instead of type [{1}]. ExtraInfo: [{2}]. Object: [{3}].",b,Object.getType(a).getName(),c,e);wac_(18637075,500,10,a);return null}e=null;try{e=wac_gi(a)}catch(f){a=String.format("Failed to deserialize [{0}]. Exception deserializing the object : [{1}]. ExtraInfo: [{2}]. Object: [{3}]",
b,f,c,d?a:"not allowed to log the object"),wac_(18637077,500,10,a)}return e}function wac_tR(a){if(!a)return"";if(String.isInstanceOfType(a))return a.toString();try{return wac_wi(a)}catch(b){return a.toString()}}function wac_xUb(){}wac_xUb.prototype={sh:null,cdd:null,Wg:function(){return this.sh?this.cdd?this.cdd.getTime()-this.sh.getTime():(new Date).getTime()-this.sh.getTime():0},oe:function(){this.sh=new Date},Zc:function(){this.cdd=new Date}};
function wac_uR(){this.rUa=new (wac_wR.$$(wac_g.bIc));this.vka=new (wac_wR.$$(wac_g.aIc))}wac_uR.prototype={rUa:null,vka:null};function wac_yUb(a){wac_vR(a.rUa,2);wac_vR(a.vka,2)}function wac_uUb(a,b){a.vka.bQ(b)}function wac_tUb(a,b){a.rUa.bQ(b)}function wac_wR(){this.fXd=this.Wb["AppRealtimeChannel.CompletionTask$1"].T===Number||Type.isEnum(this.Wb["AppRealtimeChannel.CompletionTask$1"].T)?0:this.Wb["AppRealtimeChannel.CompletionTask$1"].T===Boolean?!1:null}
wac_wR.$$=function(a){var b=wac_Hm.__tc=wac_Hm.__tc||{},c="CompletionTask$1$"+a.getName().replace(/\./g,"_");if(!b[c]){var d=b[c]=function(){for(var a=[],b=0;b<arguments.length;++b)a[b]=arguments[b];wac_wR.apply(this,a)};d.registerClass("AppRealtimeChannel.__tc."+c);d.prototype.Wb={"AppRealtimeChannel.CompletionTask$1":{T:a},ctor:wac_wR};a=wac_wR.prototype;for(var e in a){var f={key:e,value:a[e]};"constructor"!==f.key&&(d.prototype[f.key]=f.value)}}return b[c]};
wac_wR.prototype={bQ:function(a){this.CH=a;wac_zUb(this)},SWc:!1,aWd:!1,CH:null};function wac_zUb(a){a.SWc&&a.CH&&!a.aWd&&(a.aWd=!0,a.CH(a.fXd))}function wac_vR(a,b){a.SWc||(a.SWc=!0,a.fXd=b,wac_zUb(a))}function wac_qUb(a,b){this.$ee=a;this.XZe=b}wac_qUb.prototype={eN:function(){return this.$ee()},XZe:null,$ee:null};function wac_AUb(a,b){this.ubd=a;this.jwc=b;this.bLa=wac_BUb;this.DHa=this.zIb=this.ryb=0}function wac_BUb(a,b){return window.setTimeout(a,b)}
wac_AUb.prototype={DHa:0,zIb:0,ryb:0,ubd:null,uFa:!1,yic:null,zdb:null,K$a:!1,jwc:null,bLa:null};function wac_CUb(a,b){a.uFa=!1;a.zdb&&b&&(a.ryb++,wac_yUb(a.zdb));a.yic=null;a.zdb=null}function wac_DUb(a,b,c){a.zIb++;wac_CUb(a,!0);a.uFa=!0;a.yic=b;a.zdb=c}
function wac_EUb(a){0<a.DHa&&0<a.ryb&&wac_(36545635,500,50,"Throttler [{0}] dropped [{1}] messages out of [{2}]",a.jwc,a.ryb,a.DHa);0<a.DHa&&0<a.zIb&&wac_(36545634,500,50,"Throttler [{0}] throttled [{1}] messages out of [{2}]",a.jwc,a.zIb,a.DHa)}function wac_FUb(a,b){this.cTe=Function.createDelegate(this,this.XCf);wac_FUb.initializeBase(this,[a,b]);this.bab=(new Date(0)).getTime();this.Nrc=function(){return(new Date).getTime()}}
wac_FUb.prototype={duc:0,bab:0,Nrc:null,wb:function(a){this.K$a||(this.duc=a,this.K$a=!0)},U:function(a){this.K$a||this.wb(200);this.DHa++;var b=this.Nrc(),c=new wac_uR;this.bab>b&&(this.bab=b);this.uFa?(wac_CUb(this,!0),wac_DUb(this,a,c)):this.bab+this.duc<=b?this.Usb(a,c):(wac_DUb(this,a,c),this.bLa(this.cTe,this.bab+this.duc-b));return c},XCf:function(){if(this.uFa){var a=this.yic,b=this.zdb;wac_CUb(this,!1);this.Usb(a,b)}},Usb:function(a,b){this.bab=this.Nrc();a=this.ubd(a);wac_tUb(a,function(a){wac_vR(b.rUa,
a)});wac_uUb(a,function(a){wac_vR(b.vka,a)})}};function wac_GUb(a,b){this.dTe=Function.createDelegate(this,this.YCf);this.nJe=Function.createDelegate(this,this.arf);this.wa=new wac_Xd;wac_GUb.initializeBase(this,[a,b]);this.MDb=0;this.EIb=[];this.AJa=wac_HUb}function wac_HUb(a){window.clearTimeout(a)}
wac_GUb.prototype={DRd:0,$tc:0,AJa:null,MDb:0,EIb:null,J$a:!1,bed:0,X6b:0,s7b:0,U:function(a){this.K$a||this.wb(15E3,5);this.DHa++;var b=new wac_uR;this.uFa?wac_DUb(this,a,b):this.MDb<this.$tc?this.Usb(a,b):(wac_DUb(this,a,b),this.J$a=!1);return b},Usb:function(a,b){a=this.ubd(a);var c=this.bLa(this.nJe,this.DRd);++this.MDb;Array.add(this.EIb,c);var d=this.X6b;wac_tUb(a,function(a){wac_vR(b.rUa,a)});var e=this;wac_uUb(a,function(a){e.X6b===d&&(e.X6b===d&&(--e.MDb,e.AJa(c),Array.remove(e.EIb,c),e.uFa&&
e.uFa&&!e.J$a&&(e.bed=e.bLa(e.dTe,0),e.J$a=!0)),wac_vR(b.vka,a))})},YCf:function(){this.J$a=!1;if(this.uFa){var a=this.yic,b=this.zdb;wac_CUb(this,!1);this.Usb(a,b)}},arf:function(){++this.s7b;var a=Math.floor(this.$tc/2);this.s7b>a&&(this.s7b=-1E9,this.wa.Za("TMUDM",null,null))},lkc:function(a){this.wa.ob("TMUDM",a)},Tc:function(){this.DHa=this.zIb=this.ryb=this.s7b=0;++this.X6b;for(var a=this.EIb,b=a.length,c=0;c<b;++c)this.AJa(a[c]);this.MDb=0;this.EIb=[];wac_CUb(this,!0);this.J$a&&(this.AJa(this.bed),
this.bed=0,this.J$a=!1)},wb:function(a,b){this.K$a||(this.DRd=a,this.$tc=b,this.K$a=!0)}};function wac_aUb(){}wac_aUb.prototype={};function wac_IUb(a,b){return new wac_FUb(a,b)}function wac_JUb(a,b){return new wac_GUb(a,b)}function wac_eUb(a){this.wa=new wac_Xd;this.Fcc=new (wac_La.$$(wac_nTb));this.Dcc=new (wac_La.$$(wac_oTb));this.$Of=a;this.E9a=wac_JUb(function(a){return a.eN()},"GlobalMaxOustandingThrottler");var b=this;this.E9a.lkc(function(){b.wa.Za("TMUDM",null,null)})}
wac_eUb.prototype={$Of:null,Fcc:null,Dcc:null,E9a:null,ad:null,Mk:!1,wb:function(a){this.Mk||(this.ad=a,this.E9a.wb(this.ad.kwc,this.ad.rvd),this.Mk=!0)},Tc:function(){for(var a=this.Fcc.GetEnumerator();a.$$mn();){var b=a.$$cu();wac_EUb(b.qa())}for(a=this.Dcc.GetEnumerator();a.$$mn();)b=a.$$cu(),wac_EUb(b.qa()),b.qa().Tc();wac_EUb(this.E9a);this.E9a.Tc()},lkc:function(a){this.wa.ob("TMUDM",a)}};
function wac_sUb(a,b){a.Mk||a.wb(new wac_PTb(200,15E3,5,1E3));var c,d,e;if(e=a.Fcc.Tb(b,d={val:c},null),c=d.val,!e){var f,g,h;(h=a.Dcc.Tb(b,g={val:f},null),f=g.val,h)||(f="MaxOutstandingThrottler-"+b,c=a.E9a,f=wac_JUb(c.nnc||(c.nnc=Function.createDelegate(c,c.U)),f),f.wb(a.ad.kwc,a.ad.hxd),f.lkc(function(){a.wa.Za("TMUDM",null,null)}),a.Dcc.U(b,f));c="MaxRateThrottler-"+b;c=wac_IUb(f.nnc||(f.nnc=Function.createDelegate(f,f.U)),c);c.wb(a.ad.qxd);a.Fcc.U(b,c)}return c}
function wac_PTb(a,b,c,d){this.qxd=a;this.kwc=b;this.hxd=c;this.rvd=d}wac_PTb.prototype={qxd:0,kwc:0,hxd:0,rvd:0};function wac_KUb(){this.HXc=0;this.z9b=wac_LUb();this.Swb=wac_LUb();this.NDa=this.ASa=0;this.xsc=function(){return new Date}}function wac_STb(){wac_MUb||(wac_MUb=new wac_KUb);return wac_MUb}wac_KUb.prototype={Qzd:!1,b$c:null,z9b:null,Swb:null,ASa:0,NDa:0,HXc:0,xsc:null};function wac_NUb(a,b){var c=b.getTime()-a.b$c.getTime();a.b$c=b;return c}
function wac_sR(a,b,c){var d=wac_STb();d.Qzd||(c&&(d.Qzd=!0),c=d.xsc(),!a&&5<d.ASa||1===a&&5<d.NDa||(d.HXc<a?(1===d.ASa%2&&(d.z9b[d.ASa]=-1,d.ASa++),d.HXc=a,1===b&&(d.Swb[d.NDa]=-1,d.NDa++),d.Swb[d.NDa]=wac_NUb(d,c),d.NDa++):a?(d.Swb[d.NDa]=wac_NUb(d,c),d.NDa++):(d.z9b[d.ASa]=wac_NUb(d,c),d.ASa++)))}function wac_LUb(){for(var a=Array(6),b=0;b<a.length;b++)a[b]=0;return a}wac_rTb.registerClass("AppRealtimeChannel.ARtcMessageHandler");
wac_tTb.registerClass("AppRealtimeChannel.ConnectedUsageKpiLogger",null,wac_cTb);wac_yTb.registerClass("AppRealtimeChannel.FindSessionResponse");wac_zTb.registerClass("AppRealtimeChannel.FindSessionStrategy",null,wac_dTb);wac_RTb.registerClass("AppRealtimeChannel.FrequentLoggingMetrics");wac_UTb.registerClass("AppRealtimeChannel.RealtimeChannel",null,wac_eTb,wac_sc);wac_VTb.registerClass("AppRealtimeChannel.RealtimeChannel.PresenceData");(function(){}).registerClass("AppRealtimeChannel.RealtimeChannel.RealtimeChannelFactory");
wac_hUb.registerClass("AppRealtimeChannel.RealtimeChannelMetrics",null,wac_fTb,wac_Pc);wac_$Tb.registerClass("AppRealtimeChannel.NoopRealtimeChannelMetrics",null,wac_fTb,wac_Pc);wac_fUb.registerClass("AppRealtimeChannel.RealtimeChannelProxy",null,wac_gTb,wac_hTb);wac_jUb.registerClass("AppRealtimeChannel.RealtimeChannelSettings",null,wac_jTb);wac_cUb.registerClass("AppRealtimeChannel.RtcEventHub",null,wac_iTb);wac_0Tb.registerClass("AppRealtimeChannel.SendPersistentStateEventArgs",Sys.EventArgs);
wac_1Tb.registerClass("AppRealtimeChannel.SendUpdateNotificationEventArgs",Sys.EventArgs);wac_5Tb.registerClass("AppRealtimeChannel.RefreshProxyEventArgs",Sys.EventArgs);wac_2Tb.registerClass("AppRealtimeChannel.RefreshAllPersistentStateEventArgs",Sys.EventArgs);wac_kUb.registerClass("AppRealtimeChannel.UpdatePersistentStateRequestEventArgs",Sys.EventArgs);wac_lUb.registerClass("AppRealtimeChannel.UpdatePersistentStateClearedRequestEventArgs",Sys.EventArgs);
wac_mUb.registerClass("AppRealtimeChannel.RefreshConnectionReconnectArgs",Sys.EventArgs);wac_CTb.registerClass("AppRealtimeChannel.SessionPropertiesChangedEventArgs",Sys.EventArgs);wac_ITb.registerClass("AppRealtimeChannel.RtcConnectFailedEventArgs",Sys.EventArgs);wac_nUb.registerClass("AppRealtimeChannel.GotCompletePersistentStateWithMetadataEventArgs",Sys.EventArgs);wac_dUb.registerClass("AppRealtimeChannel.RtcMessageHandler",wac_rTb);(function(){}).registerClass("AppRealtimeChannel.RtcUtils");
wac_xUb.registerClass("AppRealtimeChannel.SimpleStopwatch");wac_uR.registerClass("AppRealtimeChannel.MessageStatus",null,wac_kTb);wac_qUb.registerClass("AppRealtimeChannel.MessageHandler",null,wac_lTb);wac_AUb.registerClass("AppRealtimeChannel.ThrottlerBase");wac_FUb.registerClass("AppRealtimeChannel.MaxRateThrottler",wac_AUb,wac_nTb,wac_mTb);wac_GUb.registerClass("AppRealtimeChannel.MaxOutstandingThrottler",wac_AUb,wac_oTb,wac_mTb);
wac_aUb.registerClass("AppRealtimeChannel.ThrottlerFactory",null,wac_pTb);wac_eUb.registerClass("AppRealtimeChannel.ThrottlerManager",null,wac_qTb);wac_PTb.registerClass("AppRealtimeChannel.ThrottlerManagerSettings");wac_KUb.registerClass("AppRealtimeChannel.LatencyMetrics");var wac_qR=null,wac_iUb=null,wac_bUb=null,wac_MUb=null;Type.registerNamespace("RealtimePresenceUI");
function wac_OUb(a,b,c,d){this.tNe=Function.createDelegate(this,this.fwf);this.QXe=Function.createDelegate(this,this.zJf);this.ENe=Function.createDelegate(this,this.uwf);this.ure=Function.createDelegate(this,this.W3e);this.vre=Function.createDelegate(this,this.X3e);this.nQe=Function.createDelegate(this,this.uzf);this.$Ce=Function.createDelegate(this,this.xif);this.RXe=Function.createDelegate(this,this.AJf);this.FNe=Function.createDelegate(this,this.vwf);this.oQe=Function.createDelegate(this,this.vzf);
wac_OUb.initializeBase(this,[a,c,d,null]);this.qja=function(){return!0};this.ha=b}
wac_OUb.prototype={qja:null,ha:null,vzf:function(a){if(this.ibc){this.yib||(a[wac_xR.Visible]=!0);var b,c,d,e,f,g=b={val:b},h=c={val:c},k=d={val:d},l=e={val:e},m=f={val:f},n,p,q,r;2<=this.s1.w6.la()?r=[String.format(CommonUIStrings.l_PeoplesWellStateNumberOfOtherPeopleEditingHere,this.s1.w6.la())]:1===this.s1.w6.la()?(n=wac_$Sb(this.s1)[0],r=(p=this.Ao.m_a(n.Th()))&&2===p.ld?[CommonUIStrings.l_PeoplesWellStateUserIsInactive,n.Yp]:[n.Bu?CommonUIStrings.l_PeoplesWellStateUserIsAlsoViewing:CommonUIStrings.l_PeoplesWellStateUserIsAlsoEditing,
n.Yp]):r=[CommonUIStrings.l_PeoplesWellStateYouAreAllByYourself];this.s1.w6.la()?1===this.s1.w6.la()?(n=!0,p=this.Ao.Ime().$Ob,q=wac_$Sb(this.s1)[0].$R()):(n=!0,p=this.Ao.kme().$Ob,q=""):(n=!1,q=p="");g.val=r[0];h.val=r.slice(1);k.val=n;l.val=p;m.val=q;b=b.val;c=c.val;d=d.val;e=e.val;f=f.val;a[wac_xR.LabelText]=b;c&&c.length&&(a[wac_xR.LabelTextUserGeneratedPlaceholderReplacements]=c);a.ImageIsVisible=d;a[wac_xR.Image16by16Class]=e;a.ImageBackColor=f;this.ibc=!1}return!0},vwf:function(a){if(0>=this.s1.w6.la())a=
!1;else{var b=wac_$Sb(this.s1),c=[];Array.addRange(c,b);c.sort(wac_WSb);for(var b=[],d=c.length,e=0;e<d;++e){var f=c[e],g=String.format("buttonPeoplesWellUser-{0}",f.Th()),h=f.Th(),k=wac_3Sb(this,f),l=f.Yp,m=f.$R(),n=void 0,g=(n=new wac_Zl,n.Id=g,n.Command=this.Ao.ad.mqc.toString(),n.LabelText="{0}",n.Image32by32=this.Ao.qid().cud,n.Image32by32Class=this.Ao.qid().$Ob,n.MenuItemId=h,n.CommandValueId=h,n.Alt=l,n.DisplayMode=wac_1Sb(),n.LabelCss="display:block; max-width:160px; padding:0px; white-space:normal; word-wrap:break-word",
n.Description=k,n.ImageBackColor=m,n.IsAnonymous=f.uw,n.LabelTextUserGeneratedPlaceholderReplacements=wac_PUb([l]),n.Upn=f.tw,n);wac_q.W.ga("PeoplesWellExtraButtonInfoIsEnabled")&&this.JOa&&(n=f,n=this.JOa.llc()?this.JOa.Cmb(n.tw,"O365",wac_q.Wk,0):void 0,h=this.Ao.m_a(f.Th()),h=!h||h&&1===h.ld?!0:!1,g.ImageUrl=n,g.ActiveStatus=h,g.JoinTimeInMS=f.R9,h=wac_XSb(this,f.Th(),this.Ao.FPb(f.Th()),!1),f=this.cRa?this.cRa.rZf(f.Th()):f.yu.v5(4),g.CanJump=h,g.ChatCapable=f,""===n&&wac_(40969413,302,50,"ImageURL collection failed"));
Array.add(b,g)}var p,c=(p=new wac_Of,p.Id="menuCoauthors",p.MaxWidth="220px",p.MenuSectionList=[],p),q;p=(q=new wac_Vf,q.Id="msCoauthors",q.ControlsId="msCoauthorsControls",q.DisplayMode=wac_1Sb(),q.ControlList=b,q);wac_q.W.ga("WordEditorDisplayPeoplesWellLabelIsEnabled")&&this.JOa&&(p.Title=CommonUIStrings.l_PeoplesWellFlyoutLabel,p.TitleId="menuCoauthorsTitle",p.Theme="Light");Array.add(c.MenuSectionList,p);if(wac_q.W.ga("DocChatIsEnabled")&&wac_q.W.ga("PeoplesWellExtraButtonInfoIsEnabled")&&wac_s()&&
wac_0g().LB()){q=[];Array.add(q,wac_2Sb());var r;q=(r=new wac_Vf,r.Id="msGroupChat",r.ControlsId="msGroupChatControl",r.ControlList=q,r);Array.add(c.MenuSectionList,q)}wac_s()&&wac_0g().LB()?a.MenuItems=c:a.PopulationXML=wac_bm(c);a=!0}return a},AJf:function(a){return this.MSc(a)},Hpa:function(a,b,c,d,e,f,g){a=!1;switch(c){case 1:a=f(e);break;case 2:a=g(e)}return a?32:8},xif:function(a,b,c,d,e){var f=this;return this.Hpa(a,b,c,d,e,function(){return f.mYb()},this.qja)},uzf:function(a,b,c,d,e){return this.Hpa(a,
b,c,d,e,this.oQe,this.qja)},uwf:function(a,b,c,d,e){return this.Hpa(a,b,c,d,e,this.qja,this.FNe)},X3e:function(a,b,c,d,e){return this.Hpa(a,b,c,d,e,this.qja,this.qja)},W3e:function(a,b,c,d,e){return this.Hpa(a,b,c,d,e,this.qja,this.qja)},zJf:function(a,b,c,d,e){return this.Hpa(a,b,c,d,e,this.qja,this.RXe)},fwf:function(a,b,c,d,e){var f=this;return this.Hpa(a,b,c,d,e,this.qja,function(){wac_USb(f);return!0})},na:function(){wac_TSb.prototype.na.call(this)}};
wac_OUb.registerClass("RealtimePresenceUI.ABox4PeoplesWell",wac_TSb);Type.registerNamespace("BPr");function wac_QUb(){}wac_QUb.registerInterface("BPr.IMyPresenceUser");window.BPr.SerializablePresenceData=function(a,b){this.ip=a;this.user=b};window.BPr.SerializablePresenceIpData=function(a,b,c,d,e){this.paragraphId=a;this.cp=b;this.length=c;this.shapeId=d;this.dryDeletion=e};
function wac_RUb(a,b,c,d,e,f,g,h){this.CLe=Function.createDelegate(this,this.Utf);this.uSe=Function.createDelegate(this,this.QBf);this.Vyd=a;this.b$b=b;this.NWd=c;this.Aie=e;this.LZd=f;this.v2c=g;this.yFa=d;this.bRd=h;this.Vyd.z3(this.uSe)}
wac_RUb.prototype={Vyd:null,bRd:null,b$b:null,NWd:null,Aie:!1,LZd:0,v2c:null,yFa:null,QBf:function(a,b){b.Zf||(this.v2c.ef("CU"),a=this.NWd,a=(a.zx?a.zx.Jz:0)>=this.LZd,this.Aie&&a?(a=this.b$b())?(a.iXc=!0,b=a.eM.Mfa,wac_T4a(a.eM,a.rde),b&&this.v2c.ef("PI")):wac_(19682513,500,15,"ActivePage ContentReplicator was null, we are abandoning the inbound attempt."):this.Dw())},Dw:function(){var a=this.b$b();if(!a)wac_(19682514,500,15,"ActivePage ContentReplicator was null, we are abandoning the inbound attempt.");
else if(!this.yFa()&&!a.tV.hP){var b=-1;wac_HC.isInstanceOfType(a)&&(b=a.Sg.Hha());var c=this.bRd.Je("Task","ShoulderTapInboundReplicationTimer");a.Dw(this.CLe,null,new wac_SUb(b,c,a.kq))}},Utf:function(a){var b=window.$$as(wac_SUb,a);if(b){a=b.gId.Wg().toString();var c=this.b$b(),d=c.kq,e="";if(d!==b.jHc)if(wac_(19964236,500,50,"Time saved due to force inbound on update notification message = {0} ms",b.WOd.toString()),b=b.jHc,e=new Sys.StringBuilder,c=wac_3t(wac_Gt(c.$f().jd()),d)){for(e.append(c.ja().jC);d!==
b;){e.append(", ");e.append(d.jC);c=c.ll;if(!c)break;d=c.ja()}e=e.toString()}else wac_(19964238,500,10,"The revision we got from the last replicator revisionId was null - {0}",{lastRevisionId:d}),e="";wac_(19964237,500,50,"Revisions: {0}, InboundDuration: {1}",e,a)}else wac_(19964235,500,10,"The callback data was null")}};function wac_TUb(a){this.dispose=this.na;this.xj=a;wac_UUb(this.xj,this)}
wac_TUb.prototype={_started:!1,xj:null,oe:function(){this._started||(this._started=!0,wac_q.W.ga("SendEditorsTableUpdateNotificationIsEnabled")&&this.xj.xI(1,null,!1))},Zc:function(){this._started&&(this._started=!1)},na:function(){wac_VUb(this.xj,this)}};function wac_yR(){wac_yR.initializeBase(this)}wac_yR.prototype={Stc:null,q0a:null};
function wac_WUb(a){var b=wac_q.Fz,c=wac_q.W.jb("UserPrincipalName"),d=a.Stc?a.Stc.nA:null,e=wac_q.iQa||wac_q.J0,f;a.q0a?(f=a.q0a,f=f.JG.Sk()&&f.JG.sc()?f.JG.sc().Kkc().toString():"0"):f=null;return new wac_zR(a.ml,b,a.Bs,a.yu,d,a.FZa,c,a.BJa,a.EZa,e,a.qya,a.Bu,f)}function wac_XUb(a,b,c,d){this.a9=Function.createDelegate(this,this.cba);this.wpd=Function.createDelegate(this,this.esf);this.dispose=this.na;this.xj=d;this.ta=b;this.P7b=a;this.ni=c;wac_UUb(this.xj,this)}
wac_XUb.prototype={ta:null,P7b:null,i8a:null,o3c:!1,ni:null,xj:null,_started:!1,vXa:null,oe:function(){this._started||(this._started=!0,this.vXa={},this.P7b.ob("PPC",this.wpd),wac_6y(this.ta,this.a9),wac_YUb(this,this.ta.kb()))},Zc:function(){this._started&&(this._started=!1,this.vXa=null,this.P7b.fd("PPC",this.wpd),wac_sC(this.ta,this.a9))},cba:function(a,b){if(!wac_q.wh&&(a=wac_YUb(this,b.Dl),this.i8a&&a)){a=wac_ZUb(this.P7b,this.i8a.toString(),-1,-1,!0);for(b=0;b<a.length;b++)this.vXa[a[b].qf.Th()]=
a[b];if(!(0>=a.length)){if(1===a.length)a=String.format(Box4Intl.Box4Strings.l_OtherUsersEditingParagraphSingle,a[0].qf.Yp);else{b=[];for(var c=a.length,d=0;d<c;d++)Array.add(b,a[d].qf.Yp);a=String.format(Box4Intl.Box4Strings.l_OtherUsersEditingParagraphMany,b.join(Box4Intl.Box4Strings.l_DisplayNameSeparator))}this.ni.Ox(a,!0)}}},esf:function(a,b){this.ta.kb()&&!wac_q.wh&&this.o3c&&this.i8a&&this.i8a.Ca(b.ww)&&(a=null,!b.WPb||b.JM.qf.Th()in this.vXa?b.WPb||(a=String.format(Box4Intl.Box4Strings.l_UserLeavingParagraph,
b.JM.qf.Yp),delete this.vXa[b.JM.qf.Th()]):(a=String.format(Box4Intl.Box4Strings.l_UserJoiningParagraph,b.JM.qf.Yp),this.vXa[b.JM.qf.Th()]=b.JM),a&&this.ni.Ox(a,!0))},na:function(){wac_VUb(this.xj,this);this.Zc()}};function wac_YUb(a,b){if(!b)return!1;b=b.lb();if(!b)return!1;b=b.Fa();if(!b)return!1;a.o3c=wac_iz(b);b=b.fa.ja();if(b.Ca(a.i8a)||!a.o3c)return!1;a.i8a=b;a.vXa={};return!0}function wac__Ub(a,b){wac__Ub.initializeBase(this);this.ww=a;this.Rwd=b}wac__Ub.prototype={ww:null,Rwd:!1};
function wac_AR(a,b,c,d,e,f,g){wac_AR.resolveInheritance();this.dispose=this.na;wac_AR.initializeBase(this,[null]);this.km=a;this.dXa=b;this.Xj=c;this.Se=d;this.FU=e;wac_BR=0;this.Agd=new (wac_La.$$(Boolean));this.Akd=new (wac_La.$$(Boolean));this.Ym=f;this.xa=g;this.ZQ=this.xa.ac("PresenceIpRenderedFloodgateTimeLapseSec",30);this.NR=this.xa.ac("PresenceIpRenderedFloodgateTriggerThreshold",3);this.Tia=0}
function wac_0Ub(){wac_1Ub||(wac_1Ub=!0,wac_(4006594,302,50,"First presence ip rendered on the page"))}wac_AR.prototype={dXa:null,Xj:null,Se:null,yj:null,W1c:null,FU:null,bYd:0,xa:null,ZQ:0,NR:0,Ym:null,Tia:0,Lib:!1,km:null,Agd:null,Akd:null,QW:0};function wac_2Ub(a){!a.Ym||a.Tia>=a.NR||a.Ym.CW(function(){a.Ym.sc().Kp("PresenceIpRendered","PresenceIpRenderedFloodgateEnabled",a.ZQ)&&a.Tia++})}
function wac_3Ub(a){if(wac_jR.isInstanceOfType(a.yj)){var b=window.$$as(wac_jR,a.yj);wac_BR=0<wac_BR?wac_BR+1:b.lfa+1;wac_hR(b,wac_BR);a._element.style.zIndex=wac_BR}}function wac_4Ub(a){a.Za("CR",new wac__Ub(a.km.qm().sF(),a.Lib),null)}function wac_CR(){return wac_q.W.ga("PeoplesWellExtraButtonInfoIsEnabled")}function wac_5Ub(a,b,c,d,e,f){this.f8a={};this.e8a={};this.BWd={};this.dXa=a;this.Xj=b;this.Lg=c;this.FU=d;this.Ym=e;this.xa=f}wac_5Ub.prototype={dXa:null,Xj:null,Lg:null,FU:null,Ym:null,xa:null};
function wac_DR(a,b,c){wac_DR.initializeBase(this);this.ww=a;this.JM=b;this.WPb=c}wac_DR.prototype={ww:null,JM:null,WPb:!1};function wac_ER(){this.LEb={};this.nsa={};wac_ER.initializeBase(this)}
wac_ER.prototype={Z_d:!1,Z2a:function(a){return a.qm().sF().toString()},wxc:function(a,b){this.Z_d||(this.Z_d=!0,wac_(4289312,302,50,"First presence added to data manager"));var c,d;c=d={val:!1};var e=this.nsa[a.qf.Th()],f=!e||0>=e.length?null:e[e.length-1],e=!!f&&this.Z2a(f)===this.Z2a(a);c.val=e&&f.qm().xK.Ca(a.qm().xK)&&f.qf.Ca(a.qf);wac_6Ub()&&c.val&&f.qm().xx&&a.qm().xx&&f.qm().xx!==a.qm().xx&&(c.val=!1);d=(c=d.val,e);c&&!b?(d=this.nsa[a.qf.Th()])&&0<=d.length&&d[d.length-1].qm().Coe(a.qm().KW):
(d||wac_7Ub(this,a.qf.Th()),wac_6Ub()&&d&&(b=this.nsa[a.qf.Th()],!(b=!b||0>=b.length?null:b[b.length-1])||!b.qm().xx||a.qm().xx&&a.qm().xx===b.qm().xx||(c=b.qm().sF(),this.Za("PPC",new wac_DR(c,b,!1),null))),b=this.Z2a(a),c=a.qf.Th(),e=this.LEb[b]||[],f=this.nsa[c]||[],f.length>=wac_8Ub&&(f=f.splice(-wac_9Ub,wac_8Ub)),d||Array.add(e,c),Array.add(f,a),this.LEb[b]=e,this.nsa[c]=f,a.qm().sF().Ca(wac_w())||(d=a.qm().sF(),this.Za("PPC",new wac_DR(d,a,!0),null)))},nDc:function(a){return this.LEb[a]},udf:function(a){if(!a||
!a.Fa()||!a.Fa().fa)return null;a=a.Fa().fa;a=wac_ZUb(this,a.ja().toString(),0,0,!0);a=wac_$Ub(a);a.sort(function(a,c){return a.Yp.localeCompare(c.Yp)-wac_5f});return a}};function wac_$Ub(a){if(!a||!a.length)return[];for(var b=[],c=new (wac_Ca.$$(String))(wac_qa()),d=0;d<a.length;d++){var e=a[d].qf;e.uw&&c.Fb(e.Th())||!e.uw&&e.tw&&c.Fb(e.tw)||(b.push(e),c.U(e.uw?e.Th():e.tw))}return b}
function wac_ZUb(a,b,c,d,e){var f=[],g=a.nDc(b);if(!g)return f;for(var h=0;h<g.length;h++){for(var k=g[h],l=a.nsa[k],m=!1,n=l.length-1;0<=n;n--){var p=l[n];if(e){if(p.zfa&&p.qm().sF().Ca(wac_7k(b))){m=!0;Array.add(f,p);break}}else if(wac_FR.isInstanceOfType(p)?p.qm().KW===c:p.qm().KW===d){m=!0;p.Aoe(!0);Array.add(f,p);a.nsa[k]=l.splice(n,l.length);break}}!m&&0<l.length&&l[0].fme()&&l[0].qm().sF().Ca(wac_7k(b))&&Array.add(f,l[0])}return f}
function wac_7Ub(a,b){var c=a.nsa[b];if(c&&0<c.length){var d=c[0].qm().sF(),e=a.Z2a(c[0]);delete a.nsa[b];Array.remove(a.LEb[e],b);d.Ca(wac_w())||a.Za("PPC",new wac_DR(d,c[0],!1),null)}}function wac_6Ub(){return!!wac_q.W&&wac_q.W.ga("PeoplesWellExtraButtonInfoIsEnabled")}function wac_FR(a,b){this.Sca=b;this.qf=a}
wac_FR.prototype={Sca:null,qm:function(){return this.Sca},OQb:!1,fme:function(){return this.OQb},Aoe:function(a){return this.OQb=a},zfa:!1,TMb:function(a){return this.zfa=a},Xna:!1,Wmc:function(a){return this.Xna=a},qf:null,Doe:function(a){return this.qf=a},gEc:function(){return new window.BPr.SerializablePresenceData(this.Sca?this.Sca.IA():null,this.qf.IA())},$nb:function(){return this.qf.Th()+(this.Sca?this.Sca.sF().toString():wac_w().toString())},qk:function(){var a=!!this.qf&&this.qf.qk(),b=!this.Sca||
this.Sca.qk();return a&&b},Lc:function(){var a=new wac_FR;a.qf=this.qf?this.qf.Lc():null;a.Sca=this.Sca?this.Sca.Lc():null;a.zfa=this.zfa;a.OQb=this.OQb;a.Xna=this.Xna;return a}};function wac_aVb(a){this.Pa=a}wac_aVb.prototype={Pa:0,lf:function(){return this.Pa},Ca:function(a){return a?this.Pa===a.Pa:!1},Lc:function(){return new wac_aVb(this.Pa)}};function wac_GR(a,b,c,d,e){a&&(this.ww=wac_7k(a));this.xK=new wac_aVb(b);this.KW=c;this.xx=d;this.tS=e}
wac_GR.prototype={ww:null,sF:function(){return this.ww},xK:null,KW:0,Coe:function(a){return this.KW=a},xx:0,tS:0,qk:function(){return 0<=this.xK.lf()&&!!this.ww&&!this.ww.Ca(wac_w())},IA:function(){return new window.BPr.SerializablePresenceIpData(this.ww.toString(),this.xK.lf(),this.KW,this.xx,this.tS)},Lc:function(){var a=new wac_GR;a.ww=this.ww;a.xK=this.xK?this.xK.Lc():null;a.KW=this.KW;a.xx=this.xx;a.tS=this.tS;return a}};
function wac_bVb(a,b,c,d,e,f,g){this.bOb=Function.createDelegate(this,this.nLc);this.kK=Function.createDelegate(this,this.aba);wac_bVb.initializeBase(this,[a,b,c,d,e,f,g])}
wac_bVb.prototype={ibe:null,Sqa:function(a){this.yj&&this.yj.Sqa(a)},Eld:function(a){if(this._element&&this._element.parentNode){var b=wac_cVb(this,a);if(b){var c,d,e,f,g=Sys.UI.DomElement.getBounds(this._element.parentNode),h=this._element.parentNode,k=this.Se.Ga(),l=c={val:c},m=d={val:d},n=e={val:e},p=f={val:f};m.val=b.y;l.val=b.x;n.val=b.height;p.val=b.width;(1<Math.abs(g.width-h.offsetWidth)||1<Math.abs(g.height-h.offsetHeight))&&k&&(m.val=Math.round(m.val/k.Yg),l.val=Math.round(l.val/k.Yg),n.val=
Math.round(n.val/k.Yg),p.val=Math.round(p.val/k.Yg));c=c.val;d=d.val;e=e.val;f=f.val;this._element.style.top=d+"px";this._element.style.left=c+"px";this._element.style.height=e+"px";this._element.style.width=f+"px";b=wac_dVb(this,a);wac_Lk(this._element,b);a=wac_eVb(this,a,this.km.qm().xx);wac_fVb(this,b,f,this.wr(a));this.EPa()}}},Qv:function(a){a&&this._element&&a===this.ibe&&(wac_td(this._element),this.yj.Sqa(this.km.qf.Th()),wac_4Ub(this))},SDd:function(a,b,c){var d=new wac_gVb;if(!c||!b)return d;
b=wac_cVb(this,a);if(!b)return d;d.ICa=b.y;d.iBa=b.x;d.Qn=b.height;d.Fo=b.width;a=this._element&&this._element.parentNode&&wac_hVb(wac_ORb(this._element.parentNode))?wac_hVb(wac_ORb(this._element)):wac_dVb(this,a);d.O1b=a;d.ttb=!0;return d},lOd:function(a,b,c,d){wac_0Ub();this.W1c=a;if(d){var e=wac_eVb(this,a,this.km.qm().xx);if(!e)return;var f=!this._element;f&&this.Ozc(b.ownerDocument);f||!this._element.parentNode?e.appendChild(this._element):this._element.parentNode!==e&&(this._element.parentNode.removeChild(this._element),
e.appendChild(this._element));this.yj.bX(this.km.qf);this.ibe=b;this.bYd=a.Kc();this._element.style.borderColor=this.km.qf.$R();this._element.id="ipId_"+this.km.$nb();c.ttb&&(this._element.style.height=c.Qn+"px",this._element.style.top=c.ICa+"px",this._element.style.left=c.iBa+"px",this._element.style.width=c.Fo+"px",wac_Lk(this._element,c.O1b),wac_Lk(this.yj.Hb(),-1*c.O1b),wac_fVb(this,c.O1b,c.Fo,this.wr(e)),this.EPa())}this.Lib=!d;wac_4Ub(this)},Roe:function(a){this._element.style.borderColor=this.km.qf.$R();
this._element.id="ipId_"+this.km.$nb();this.Eld(a)},Ozc:function(a){this._element=a.createElement("div");this._element.setAttribute("data-presence-control",!0);wac_Nj(this._element,"OverlayControlElementOwner",this);this._element.className="WACImgPresenceHighlight";this._element.dir=wac_ch?"rtl":"ltr";this.yj=this.dXa.Mzc(this.Cj("div"),!0);this.yj.bX(this.km.qf);this.yj.$d();this.Xj.Ra("msospPointerOut",this.yj.Hb(),this.kK);this.Xj.Ra("msospPointerDown",this.yj.Hb(),this.bOb);Sys.UI.DomElement.addCssClass(this.yj.Hb(),
"WacPresence");this._element.appendChild(this.yj.Hb())},wr:function(a){return Sys.UI.DomElement.containsCssClass(a,"Selected")},Qo:function(a,b){var c=this.CWb(a,b);return c?c.lh:(a=wac_iVb(a,b))?a.Na():null},CWb:function(a,b){a=wac_wH(a.Sa(),5);for(var c=a.length,d=0;d<c;++d){var e=a[d];if(e.lh.Ia(Number,wac_1s)===b)return e}return null},aba:function(){this.yj&&(this.yj.DPa(),this.QW=1);return!1},nLc:function(a){this.yj&&3===a.Pe&&(2!==this.QW?(wac_3Ub(this),this.EPa()):this.yj&&(this.yj.DPa(),this.QW=
1));return!1},EPa:function(){for(var a=this.yj.xlc(),b=a.length,c=0;c<b;++c){var d=a[c];if(d.ml===this.km.qf.Th()&&!d.Ca(this.km.qf)){this.yj.bX(this.km.qf);break}}if(this.km.Xna||2===this.QW)this.yj.Z2b(),this.km.Wmc(!1),this.km.TMb(!0),this.QW=2;this.km.zfa&&1!==this.QW||(this.yj.DPa(),this.km.TMb(!0),this.QW=1)}};
function wac_cVb(a,b){var c=a.km.qm();if(!c||!c.xx)return null;var d=a.Qo(b,c.xx);a=wac_eVb(a,b,c.xx);if(!d||!a)return null;var e,f;b=e={val:e};c=f={val:f};b.val=wac_ef(wac_0J(d),0,!0);c.val=wac_ef(wac_1J(d),1,!0);e=e.val;f=f.val;c=b=1;d.Da(wac_Yq)?(d=d.Ia(Array,wac_Yq),b+=wac_ef(d[0],0,!0),c+=wac_ef(d[2],1,!0)):(b+=0<a.offsetWidth?(a.offsetWidth-e)/2:2,c+=0<a.offsetHeight?(a.offsetHeight-f)/2:2);return new Sys.UI.Bounds(Math.round(b),Math.round(c),Math.round(e),Math.round(f))}
function wac_dVb(a,b){a=a.Qo(b,a.km.qm().xx);return wac_OA.v0(a)}function wac_iVb(a,b){a=wac_P(a.Sa());for(var c=a.ib(6);c;){var d=c.Na().Ia(Number,wac_1s);if(wac_Gz(c)&&d===b)return c;c=a.me(6)}return null}function wac_eVb(a,b,c){if(a=a.CWb(b,c))if(a=a.Sga(b.Jb))return a.Hb();return(c=wac_iVb(b,c))?wac_Ay(window.$$as(wac_BG,c),b.Kc()).tc():null}
function wac_fVb(a,b,c,d){var e=wac_ch;a.yj.Hb().style.left="auto";a.yj.Hb().style.top="auto";a.yj.Hb().style.right="auto";a.yj.Hb().style.bottom="auto";d=d?Math.round(10)+6:0;0<=b&&90>b||360===b?(a.yj.Hb().style.top=-10-d+"px",e?a.yj.Hb().style.right=c-10+"px":a.yj.Hb().style.left=c-10+"px"):90<=b&&180>b?(a.yj.Hb().style.left=-10-d+"px",e?a.yj.Hb().style.bottom="-10px":a.yj.Hb().style.top="-10px"):180<=b&&270>b?(a.yj.Hb().style.bottom=-10-d+"px",e?a.yj.Hb().style.left=c-10+"px":a.yj.Hb().style.right=
c-10+"px"):(a.yj.Hb().style.right=-10-d+"px",e?a.yj.Hb().style.top="-10px":a.yj.Hb().style.bottom="-10px")}function wac_hVb(a){return a&&-1<a.indexOf("deg")&&(a=window.parseInt(a.substring(a.indexOf("(")+1,a.indexOf("deg"))),!window.isNaN(a))?a:0}function wac_gVb(){}wac_gVb.prototype={iBa:0,ICa:0,Fo:0,Qn:0,O1b:0,ttb:!1};
function wac_jVb(a,b,c,d,e,f,g){this.bOb=Function.createDelegate(this,this.nLc);this.kK=Function.createDelegate(this,this.aba);this.dfa=Function.createDelegate(this,this.zOa);wac_jVb.initializeBase(this,[a,b,c,d,e,f,g])}
wac_jVb.prototype={Xcb:null,$ta:null,yHb:null,Ozc:function(a){this._element=a.createElement("div");this._element.setAttribute("data-presence-control",!0);wac_Nj(this._element,"OverlayControlElementOwner",this);this._element.className="PresenceIpPaddingDiv";this._element.dir=wac_ch?"rtl":"ltr";this.Xj.Ra("msospPointerOver",this._element,this.dfa);wac_CR()&&(this.Xj.Ra("msospPointerOut",this._element,this.kK),this.Xj.Ra("msospPointerDown",this._element,this.bOb));this.$ta=this.Cj("div");this.$ta.className=
"presenceIp";wac_CR()||(this.yHb=this.Cj("div"),this.yHb.className="PresenceSmallBox",this.$ta.appendChild(this.yHb));this.yj=this.dXa.Mzc(this.Cj("div"),wac_CR());this.yj.bX(this.km.qf);this.yj.$d();Sys.UI.DomElement.addCssClass(this.yj.Hb(),wac_CR()?"WacPresence":"WacPawn");this.$ta.appendChild(this.yj.Hb());this._element.appendChild(this.$ta)},zOa:function(a){!this.yj||wac_CR()&&!this.yj.RBc(a)||(wac_3Ub(this),wac_kVb(this,a));this.Roe(this.W1c);return!1},aba:function(){this.yj&&this.y0();return!1},
nLc:function(a){this.yj&&3===a.Pe&&(2!==this.QW?(wac_3Ub(this),wac_kVb(this,a)):this.y0());return!1},EPa:function(a){for(var b=this.yj.xlc(),c=b.length,d=0;d<c;++d){var e=b[d];if(e.ml===this.km.qf.Th()&&!e.Ca(this.km.qf)){this.yj.bX(this.km.qf);break}}b=!1;"0xcccccc"===this.km.qf.$R()?(c=this.Agd.Tb(this.km.qf.Th(),b={val:b},!1),b=b.val,c,b||(this.Agd.Z(this.km.qf.Th(),!0),wac_(17954772,302,50,'{ "ClientID" : "'+this.km.qf.Th()+'" , "Event" : "RenderGrayPawn"}'))):(c=this.Akd.Tb(this.km.qf.Th(),b=
{val:b},!1),b=b.val,c,b||(this.Akd.Z(this.km.qf.Th(),!0),wac_(17954773,302,50,'{ "ClientID" : "'+this.km.qf.Th()+'" , "Event" : "RenderColoredPawn"}')));return a||this.km.Xna||2===this.QW?(wac_2Ub(this),this.yj.Z2b(),this.km.Wmc(!1),this.km.TMb(!0),this.QW=2,2E3):this.km.zfa&&1!==this.QW?0:(wac_2Ub(this),this.yj.DPa(),this.km.TMb(!0),this.QW=1,7E3)},y0:function(){if(this.yj&&this.QW){if(wac_jR.isInstanceOfType(this.yj)){var a=window.$$as(wac_jR,this.yj);wac_BR=a.lfa;wac_hR(a,a.lfa);this._element.style.zIndex=
a.lfa}this.yj.$d();this.QW=0}return!1},Eld:function(a){if(this._element&&this._element.parentNode){var b=wac_lVb(this,a);if(b){a=Sys.UI.DomElement.getBounds(this._element.parentNode);var c,d,e,b=new Sys.UI.Bounds(b.x-a.x,b.y-a.y,2,b.height),f=this._element.parentNode,g=this.Se.Ga(),h=c={val:c},k=d={val:d},l=e={val:e};k.val=b.y;h.val=b.x;l.val=b.height;(1<Math.abs(a.width-f.offsetWidth)||1<Math.abs(a.height-f.offsetHeight))&&g&&(k.val=Math.round(k.val/g.Yg),h.val=Math.round(h.val/g.Yg),l.val=Math.round(l.val/
g.Yg));c=c.val;d=d.val;e=e.val;this._element.style.height=10+e+"px";this._element.style.top=d-5+"px";this._element.style.left=c-5+"px";this.$ta.style.height=Math.max(10,e)+"px";wac_kVb(this,null)}}},Qv:function(a){a&&this._element&&a===this._element.parentNode&&(wac_td(this._element),wac_4Ub(this))},SDd:function(a,b,c,d){var e=new wac_mVb;if(!c||!b)return e;a=wac_lVb(this,a);if(!a)return e;c=new Sys.UI.Bounds(a.x-b.x,a.y-b.y,2,a.height);b=c.y;a=c.x;c=c.height;var f=this.Se.Ga();d&&f&&(d=f.Yg,b=Math.round(b/
d),a=Math.round(a/d),c=Math.round(c/d));e.ICa=b-5;e.iBa=a-5;e.Qn=10+c;e.xId=Math.max(10,c);e.ttb=!0;return e},lOd:function(a,b,c,d){wac_0Ub();this.W1c=a;if(d){var e=!this._element;e&&this.Ozc(b.ownerDocument);e||!this._element.parentNode?b.appendChild(this._element):this._element.parentNode!==b&&(this._element.parentNode.removeChild(this._element),b.appendChild(this._element));this.bYd=a.Kc();a=this.km.qf.$R();this.$ta.style.borderColor=a;wac_CR()||(this.yHb.style.borderColor=a);this._element.id=
"ipId_"+this.km.$nb();c.ttb&&(this._element.style.height=c.Qn+"px",this._element.style.top=c.ICa+"px",this._element.style.left=c.iBa+"px",this.$ta.style.height=c.xId+"px",wac_kVb(this,null))}this.Lib=!d;wac_4Ub(this)},na:function(){this._element&&(this.Qv(this._element.parentNode),this.Xj.Lb("msospPointerOver",this._element,this.dfa),wac_CR()&&(this.Xj.Lb("msospPointerOut",this._element,this.kK),this.Xj.Lb("msospPointerDown",this._element,this.bOb)),wac_Zb(this.yj),this._element=this.yj=null)},Roe:function(a){var b=
this.km.qf.$R();this.$ta.style.borderColor=b;wac_CR()||(this.yHb.style.borderColor=b);this._element.id="ipId_"+this.km.$nb();this.Eld(a)}};function wac_lVb(a,b){a=a.km.qm();if(!a)return null;var c;try{var d=a.xK.lf();c=wac_7qb(d,b,0<d,!1,!1,!1)}catch(e){wac_(4301318,302,50,"Could not determine the bounds of IP: isYielding={0} message={1} stack={2}",wac_r().Lt(),e.message,e.stack),c=null}return c}
function wac_nVb(a,b){a.Xcb=new wac_B(2,1,b,function(){a.Xcb=null;a.y0()},56,null,!1,0);wac_r().nc(a.Xcb)}function wac_kVb(a,b){a.Xcb&&(wac_r().af(a.Xcb),a.Xcb=null);var c=a.EPa(!!b);wac_CR()&&b&&"msospPointerOver"===b.fo||wac_nVb(a,c)}function wac_mVb(){}wac_mVb.prototype={xId:0,iBa:0,ICa:0,Qn:0,ttb:!1};
function wac_oVb(a,b,c,d,e,f,g,h,k,l,m,n,p,q,r,t,u,v,w,x,y,z,A,B,C){this.Eod=Function.createDelegate(this,this.Qpf);this.Z3=Function.createDelegate(this,this.Aqa);this.Roc=Function.createDelegate(this,this.fsf);this.gNe=Function.createDelegate(this,this.Gvf);this.g_=Function.createDelegate(this,this.bba);this.Cqd=Function.createDelegate(this,this.Wwf);this.Dla=Array(5);this.mce=new (wac_Ca.$$(String))(wac_qa());this.XEb={};this.dispose=this.na;this.Hq=a;this.ta=d;this.gH=e;this.DGa=f;this.HEb=k;this.yZc=
l;this.eva=m;this.mu=c;this.a1c=n;this.Y9b=p;this.Z9b=q;this.xTd=g;this.MZd=h;this.dZ=r;this.Ci=t;this.vb=u;this.Va=v;this.yIb=z;this.NVa=B;this.Yce=C;this.Qec=x;this.xa=y;this.tEb=b;this.Yx=w;wac_pVb=new (wac_La.$$(Boolean));for(a=0;a<this.tEb.length;a++)b=this.tEb[a],b.pD.zb(this),b.pD.U(this);this.DGa.ob("PPC",this.Cqd);this.Hq.YHa(this.g_);A&&this.HEb.pea(this.gNe);wac_UUb(this.Hq,this)}function wac_qVb(a){return a?a?1===a?1:2===a?2:0:2:0}
wac_oVb.prototype={Hq:null,gH:null,ta:null,DGa:null,tEb:null,mu:null,xTd:null,MZd:null,eva:null,yZc:0,vbd:!1,Y9b:null,Z9b:null,a1c:null,_started:!1,dZ:null,Ci:null,vb:null,Va:null,yIb:!1,HEb:null,bfd:!1,NVa:null,Qec:null,Q9c:null,xa:null,Yx:null,Zac:!1,Y$c:!1,Yce:!1,Gvf:function(){if(!this.bfd){var a=this,b=new wac_B(0,1,20,function(){var b=new (wac_e.$$(wac_G)),d=a.eva.f8a,e;for(e in d){var f={key:e,value:d[e]},f=f.value;f.Lib&&b.U(f.km.qm().sF())}if(wac_rVb(a)){var d=a.eva.e8a,g;for(g in d)f={key:g,
value:d[g]},e=f.value,e.Lib&&!b.Fb(e.km.qm().sF())&&b.U(e.km.qm().sF())}wac_sVb(a,b,!0);a.bfd=!1},72,null,!1,0);this.Va.nc(b);this.bfd=!0}},Qpf:function(){this.vbd&&(wac_tVb(this),this.vbd=!1)},Aqa:function(a,b){a=b.Dl.lb();wac_uVb(this,a,!1)},Cyc:function(a){var b=a.Fa().ya,c=a.Fa().fa.ja();a=this.Y9b(a.Fa().fa);return new wac_GR(c.toString(),b,a,0,0)},bba:function(a,b){a=b.A$;for(var c in a){var d=a[c];this.xa.ga("CashTelemetryIsEnabled")&&this.inb(d,new Date,null);d.qm()?wac_vVb(this,d):this.tsb(d.qf.Th())}b=
b.Ohb;for(c=0;c<b.length;++c){a=b[c];this.tsb(a);if(d=this.eva.f8a[a])d.fd("CR",this.Roc),d.na();wac_rVb(this)&&(d=this.eva,a=d.e8a[d.BWd[a]],a=!a||a.yj&&a.yj.xlc().length?null:a)&&(a.fd("CR",this.Roc),a.na())}this.yIb||wac_wVb(this)},inb:function(a,b,c){if(this.Qec)if(a&&a.qf&&a.qf.Th()){var d=a.qf.Th();if(!this.mce.Fb(d))if(this.Q9c)this.Q9c.inb(d,b,null,wac_qVb(c||a.qf.BJa)),this.mce.U(d);else{var e=this;this.Qec.CW(function(){e.Q9c=e.Qec.sc();e.inb(a,b,c)})}}else wac_(42262876,302,15,"invalid presence")},
qHd:function(){},tsb:function(a){wac_7Ub(this.DGa,a)},OWb:function(a){if(12!==a.get_type())return new (wac_e.$$(wac_tv));a=wac_ZUb(this.DGa,a.ja().toString(),this.Y9b(a),this.Z9b(a),!1);if(0>=a.length)a=new (wac_e.$$(wac_tv));else{for(var b=new (wac_e.$$(wac_tv)),c=0;c<a.length;c++)b.U(wac_xVb(this,a[c]));a=b}return a},fsf:function(a,b){if(b.ww){a=b.ww.toString();var c=b.Rwd;b=this.XEb;var d=this.Zac,e=this.Y$c;c&&e||(c?this.NVa.ef("RendersSaved-OutOfView"):(this.NVa.ef("Renders"),e&&this.NVa.ef("RendersDueToScroll"),
(c=a in b)&&delete b[a],d&&c&&this.NVa.ef("RendersSaved-ContentUpdate")))}else wac_c(8758481,302,!1,"null paraid")},na:function(){this.Zc();this.DGa.fd("PPC",this.Cqd);this.Hq.MYa(this.g_);wac_VUb(this.Hq,this);for(var a=0;a<this.tEb.length;a++)this.tEb[a].pD.zb(this);wac_8ba([this.xTd,this.MZd,this.Hq]);var b=this.eva,c=b.f8a,d;for(d in c)a={key:d,value:c[d]},a.value.dispose();d=b.e8a;for(var e in d)a={key:e,value:d[e]},a.value.dispose()},Wwf:function(a,b){b.ww&&(a=this.mu.Qb(b.ww))&&((wac_FR.isInstanceOfType(b.JM)?
this.Y9b(a):this.Z9b(a))===b.JM.qm().KW?wac_yVb(this,b.ww):this.NVa.ef("RendersSaved-VersionCheck"),wac_rVb(this)&&b.JM.qm().xx&&!b.WPb&&(a=b.JM.qm().xx.toString(),(a=this.eva.e8a[a])&&a.Sqa(b.JM.qf.Th())))},Zc:function(){this._started&&(this._started=!1,wac_sC(this.ta,this.Z3),this.a1c.Emc(this.Eod))},oe:function(){if(!this._started){this._started=!0;wac_6y(this.ta,this.Z3);this.a1c.hkc(this.Eod);var a=this.Hq.I2a();delete a[this.dZ.Th()];this.bba(null,new wac_ii(a,[]));wac_tVb(this)}}};
function wac_yVb(a,b){b.toString()in a.XEb&&a.NVa.ef("RendersSavedByAlreadyPending");a.XEb[b.toString()]=null;a.yIb&&!a.Zac&&(b=new wac_B(0,1,200,function(){a.Zac=!1;wac_wVb(a)},70,null,!1,0),a.Va.nc(b),a.Zac=!0)}
function wac_sVb(a,b,c){if(b.la()){var d=new (wac_e.$$(wac_zB));for(b=b.$$lge();b.$$mn();){var e=b.$$cu(),f=wac_zVb(a,e);f?d.U(f):wac_AVb(a,e)}if(d.la()){b=a.vb.Rc(2,0);try{b.Set(a.Ci);for(var g=d.$$lge();g.$$mn();)f=g.$$cu(),d=a,e=f,e.MA(d.HEb.Kc(),32,!0),e.MA(d.yZc,32,!0);c&&(a.Y$c=!0)}finally{b&&b.dispose()}c&&(a.Y$c=!1)}}}
function wac_AVb(a,b){b=wac_ZUb(a.DGa,b.toString(),-1,-1,!0);if(!wac_em(b)){for(var c=[],d=b.length,e=0;e<d;++e){var f=a.eva.f8a[b[e].qf.Th()];f&&Array.add(c,f)}c.length&&a.Yx.qa().M0(function(){for(var a=c.length,b=0;b<a;++b){var d=c[b];d._element&&d.Qv(d._element.parentNode)}})}}
function wac_zVb(a,b){b=a.mu.Qb(b);if(!b)return a.Dla[0]||(wac_(4281420,302,50,"Could not find the node in object space"),a.Dla[0]=!0),null;if(!wac_V(b))return a.Dla[1]||(wac_(4281421,302,50,"Not a paragraph node"),a.Dla[1]=!0),null;if(!wac_Ay(b,a.HEb.Kc()))return a.Dla[2]||(wac_(4281422,302,50,"No ViewElement found for this node"),a.Dla[2]=!0),null;if(!b.Db)return a.Dla[3]||(wac_(4281423,302,50,"node is not anchored"),a.Dla[3]=!0),null;a.Dla[4]||(wac_(4564931,302,50,"Valid paragraph node found for rendering ip"),
a.Dla[4]=!0);return b}function wac_xVb(a,b){var c,d,e=a.eva,f=c={val:!1},g=!!e.xa&&e.xa.ga("PeoplesWellExtraButtonInfoIsEnabled");if(b.qm().xx&&g){g=b.qm().xx.toString();e.BWd[b.qf.Th()]=g;var h=e.e8a[g];h?(h.km=b,f.val=!0,b=h):(f.val=!1,b=e.e8a[g]=new wac_bVb(b,e.dXa,e.Xj,e.Lg,e.FU,e.Ym,e.xa))}else g=b.qf.Th(),(h=e.f8a[g])&&h.km.qf.Ca(b.qf)?(h.km=b,f.val=!0,b=h):(f.val=!1,b=e.f8a[g]=new wac_jVb(b,e.dXa,e.Xj,e.Lg,e.FU,e.Ym,e.xa));b=(d=b,c=c.val,d);c||b.ob("CR",a.Roc);return b}
function wac_vVb(a,b){var c=null;b&&b.qf&&(c=b.qf.BJa);b=b.Lc();b.Doe(wac_GRb(a.gH,b.qf.Th())||b.qf);a.xa.ga("CashTelemetryIsEnabled")&&a.inb(b,new Date,c);if(b.qk()&&!b.qf.DX()){c=b.qf.Th();wac_pVb.hb(c)||a.qHd(c);var d,e;e=wac_pVb.Tb(c,d={val:!1},!1);d=d.val;e;d||(wac_pVb.Z(c,!0),wac_(17954774,302,50,'{ "ClientID" : "'+c+'" , "Event" : "CreateAnonymousGrayPawn"}'));wac_Xta(b.qf,CommonUIStrings.l_AnonymousUserName)}a.DGa.wxc(b,!1)}
function wac_uVb(a,b,c){if(!a.Yce)if(wac_Yt(a.mu.rh)||c)if(b){a:{if(wac_rVb(a)&&wac_t2a(b))c=b;else if(c=wac_By(b,!0,!1,!0),!wac_Vy(c)){c=null;break a}c=a.Cyc(c)}c?wac_BVb(a.Hq,c):(wac_BVb(a.Hq,null),wac_(4281418,302,50,"Not supported selection context {0}",b.Fa().Ea))}else wac_BVb(a.Hq,null);else a.vbd=!0}function wac_tVb(a){if(a.ta.kb()){var b=a.ta.kb().lb();wac_uVb(a,b,!0)}}function wac_wVb(a){var b=new (wac_e.$$(wac_G)),c=a.XEb,d;for(d in c)b.U(wac_7k(d));wac_sVb(a,b,!1);a.XEb={}}
function wac_rVb(a){return!!a.xa&&a.xa.ga("PeoplesWellExtraButtonInfoIsEnabled")}function wac_zR(a,b,c,d,e,f,g,h,k,l,m,n,p){wac_zR.initializeBase(this,[a,b,c,d,f,g,h,k,l,m,n,0,null,0]);this.nA=e;this.h$=p}
wac_zR.prototype={nA:null,IA:function(){return new window.Box4.Presence.SerializablePresenceUserData(this.ml,this.nA,this.FZa,this.EZa,this.qya,this.yu.yu,this.tw,this.Bu,this.Yp,this.uw,this.h$)},aEc:function(a){return(a=a.value)?a.qf:null},Lc:function(){return new wac_zR(this.ml,this.Yp,this.Bs,this.yu.Lc(),this.nA,this.FZa,this.tw,this.BJa,this.EZa,this.uw,this.qya,this.Bu,this.h$)}};
function wac_CVb(a,b,c,d,e,f,g){this.b9=Function.createDelegate(this,this.oha);this.Ggb=Function.createDelegate(this,this.c0b);this.Hgb=Function.createDelegate(this,this.mrb);this.g_=Function.createDelegate(this,this.bba);this.gZa=Function.createDelegate(this,this.O0);this.And=Function.createDelegate(this,this.Imf);this.wa=new wac_Xd;this.dispose=this.na;this.dZ=f;this.dZ.ml=a.Th();this.vl=a;this.KQ=b;this.Sz=d;this.q0d=e;this.Va=c;this.Psa=new (wac_h.$$(wac_xt))(null);this.Wo=g;if(this.KQ){var h=
this;this.KQ.CW(function(){wac_3a(h.KQ)||wac_2a(h.KQ)||wac_wZa(h.KQ.sc(),h.And)})}}
wac_CVb.prototype={Psa:null,q0d:null,Sz:null,B8d:!1,Va:null,I4c:!1,dZ:null,Wo:null,p6d:!1,K4d:!1,KQ:null,qjc:0,efd:0,aeb:null,vl:null,Sla:function(){return this.vl.Sla()},YHa:function(a){this.wa.ob("PU",a)},MYa:function(a){this.wa.fd("PU",a)},Ola:function(a){this.wa.ob("CSC",a)},BMb:function(a){this.wa.fd("CSC",a)},kkc:function(a){this.wa.ob("PSU",a)},Hmc:function(a){this.wa.fd("PSU",a)},jkc:function(a){this.wa.ob("PSC",a)},Gmc:function(a){this.wa.fd("PSC",a)},qPd:function(){return null},Th:function(){return this.vl.Th()},
z3:function(a){this.wa.ob("UN",a)},CMb:function(a){this.wa.fd("UN",a)},wb:function(){this.vl.Ola(this.gZa);this.vl.YHa(this.g_);this.vl.kkc(this.Hgb);this.vl.jkc(this.Ggb);this.vl.z3(this.b9);wac_DVb(this);wac_EVb(this)},zUb:function(){this.I4c||this.vl.zUb()},o2a:function(){this.vl.o2a()},HEd:function(a){var b;a?(b=a.user,b=b.clientId?new wac_zR(b.clientId,b.userName,null,new wac_Fl(wac_Ab(b.capabilities)?0:b.capabilities),b.localColbaltSessionId,b.SkypeChatThreadId,b.email,null,b.chatThreadDiscoveryUri,
b.isAnonymous,b.inChat,b.isReadOnly,b.presenceStatus):null,a.ip?(a=a.ip,a=!a.paragraphId||wac_i(a.cp)||wac_i(a.length)?null:new wac_GR(a.paragraphId,a.cp,a.length,0,a.dryDeletion)):a=null,b=new wac_FR(b,a)):b=null;return b},CPc:function(a,b){return(new wac_FR(a,b)).gEc()},Vsb:function(a,b){return this.vl.Vsb(a,b)},bDc:function(a){return this.vl.bDc(a)},Lnb:function(){return this.vl.Lnb()},xI:function(a,b,c){return this.vl.xI(a,b,c)},I2a:function(){return wac_FVb(this,this.vl.I2a())},hLb:function(){return this.vl.hLb()},
O0:function(a,b){2===b.Rt&&this.Psa.Wd(function(a){a.oe();return!0});b.Rt||this.Wo.ga("SendRTCMessagesWhileDisconnectedIsEnabled")&&!this.I4c||this.Psa.Wd(function(a){a.Zc();return!0});this.wa.Za("CSC",b,null)},bba:function(a,b){if(!this.Sz()){a=wac_FVb(this,b.A$);b=wac_GVb(b.Ohb);var c=new wac_ii(a,b),d=this;b=new wac_B(0,1,0,function(){d.wa.Za("PU",c,null)},57,null,!1,0);this.Va.nc(b)}},mrb:function(a,b){if(!this.Sz()){var c={};a=b.A$;for(var d in a){var e={key:d,value:a[d]};c[e.key.toLowerCase()]=
e.value}var f=this;d=new wac_B(0,1,0,function(){f.wa.Za("PSU",new wac_wla(b.yc,c),null)},80,null,!1,0);this.Va.nc(d)}},c0b:function(a,b){if(!this.Sz()){a=wac_GVb(b.HZa);var c=new wac_ji(a),d=this;a=new wac_B(0,1,0,function(){d.wa.Za("PSC",c,null)},81,null,!1,0);this.Va.nc(a)}},oha:function(a,b){if(this.p6d)wac_HVb(this,b);else{var c=this;a=new wac_B(0,1,0,function(){wac_HVb(c,b)},58,null,!1,0);this.Va.nc(a)}},na:function(){this.Psa=new (wac_h.$$(wac_xt))(null);this.vl.BMb(this.gZa);this.vl.MYa(this.g_);
this.vl.Hmc(this.Hgb);this.vl.Gmc(this.Ggb);this.vl.CMb(this.b9);if(this.KQ){var a=this;this.KQ.CW(function(){wac_3a(a.KQ)||wac_2a(a.KQ)||a.KQ.sc().wa.fd("AmIAloneChanged",a.And)})}this.vl.o2a();wac_(4564935,302,50,"Disposing of rtcProxyCompleted")},Imf:function(){wac_DVb(this)},Rmb:function(){this.I4c=!0;this.o2a();wac_(4564938,302,50,"DisconnectForever")}};
function wac_DVb(a){var b=!1;a.KQ?a.KQ.CW(function(){wac_3a(a.KQ)||wac_2a(a.KQ)||(b=!a.KQ.sc().Vo);a.vl.Sla()||!b&&!a.q0d()?2!==a.vl.Sla()||b||(a.o2a(),wac_(4564937,302,50,"Disconnecting because there are no other users in the doc")):(a.zUb(),wac_(4564936,302,15,"Connecting because there are other authors in the doc"));!a.B8d&&b&&(wac_(4203466,302,50,"There are other real-time authors in this session"),a.B8d=!0)}):(a.zUb(),wac_(589321547,302,50,"Connecting to rtc because Rtc Always On is enabled"))}
function wac_HVb(a,b){var c=Date.now();a.wa.Za("UN",b,null);c=Date.now()-c;500<=c&&(a.qjc++,wac_(42563487,302,15,"Update Notification Heuristics: UpdateNotification Type {0} took {1} ms",b.Zf,c),0>b.Zf||13<=b.Zf?wac_(42541602,302,15,"Update Notification Heuristics: UpdateNotification Type out of range {0}",b.Zf):a.aeb[b.Zf]++);a.efd++}function wac_GVb(a){for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=a[c].toLowerCase();return b}
function wac_FVb(a,b){var c={},d;for(d in b){var e={key:d,value:b[d]},f=a.HEd(e.value);f&&f.qk()?c[e.key.toLowerCase()]=f:wac_(4564932,302,50,"No Valid User {0}",wac_wi(e.value))}return c}function wac_BVb(a,b){b&&b.qk()&&!a.Sz()?a.vl.qPd(a.CPc(wac_WUb(a.dZ),b)):wac_0a(Object,null)}function wac_VUb(a,b){for(var c=0;c<a.Psa.ka();c++)if(a.Psa.B(c)===b){wac_yb(a.Psa,c);break}}function wac_UUb(a,b){a.Psa.Fb(b,function(a,b){return a===b})||(a.Psa.U(b),2===a.Sla()&&b.oe())}
function wac_EVb(a){a.aeb=Array(12);for(var b=0;12>b;b++)a.aeb[b]=0;a.p6d=a.Wo?a.Wo.ga("UpdateNotificationTaskExperimentIsEnabled"):!0;wac_vh(function(){if(!a.K4d){var b={};b.TC=a.efd;b.HRC=a.qjc;a.aeb&&0<a.qjc&&(b.TBC=a.aeb);a.efd=0;a.qjc=0;a.aeb=null;wac_(42541603,302,50,"UpdateNotificationHeuristics: {0}",b);a.K4d=!0}})}function wac_SUb(a,b,c){this.WOd=a;this.gId=b;this.jHc=c}wac_SUb.prototype={WOd:0,gId:null,jHc:null};window.BPr.SerializablePresenceData.registerClass("BPr.SerializablePresenceData");
window.BPr.SerializablePresenceIpData.registerClass("BPr.SerializablePresenceIpData");wac_RUb.registerClass("BPr.ContentNotificationManager");wac_TUb.registerClass("BPr.EditorsTableNotifier",null,Sys.IDisposable,wac_xt);wac_zR.registerClass("BPr.PresenceUser",wac_El,wac_Bc,wac_KOa,wac_Dc);wac_zR.prototype.toString=wac_El.prototype.toString;wac_yR.registerClass("BPr.MyPresenceUser",wac_zR,wac_QUb,wac_Dc);wac_yR.prototype.toString=wac_El.prototype.toString;
wac_XUb.registerClass("BPr.PresenceAccessibilityManager",null,Sys.IDisposable,wac_xt);wac__Ub.registerClass("BPr.PresenceControlRenderedEventArgs",Sys.EventArgs);wac_AR.registerClass("BPr.APresenceControl",wac_gR,wac_tv,Sys.IDisposable);wac_5Ub.registerClass("BPr.PresenceControlProvider");wac_DR.registerClass("BPr.ParagraphChangedEventArg",Sys.EventArgs);wac_ER.registerClass("BPr.PresenceDataManager",wac_Xd,wac_nSa);wac_FR.registerClass("BPr.PresenceInfo",null,wac_GOa,wac_5b.$$(wac_GOa));
wac_aVb.registerClass("BPr.PresenceCp",null,wac_HOa,wac_5b.$$(wac_HOa));wac_GR.registerClass("BPr.PresenceIp",null,wac_IOa,wac_5b.$$(wac_IOa));wac_bVb.registerClass("BPr.PresenceImageControl",wac_AR);wac_gVb.registerClass("BPr.PresenceImageControl.PresenceImageControlStyle",null,wac_STa);wac_jVb.registerClass("BPr.PresenceIpControl",wac_AR);wac_mVb.registerClass("BPr.PresenceIpControl.PresenceIpControlStyle",null,wac_STa);
wac_oVb.registerClass("BPr.PresenceManager",null,wac_TTa,Sys.IDisposable,wac_xt,wac_Cc,wac_Hca);wac_CVb.registerClass("BPr.RtcProxy",null,wac_JOa,Sys.IDisposable,wac_sc,wac_Agb);wac_SUb.registerClass("BPr.SuccessfulInboundReplicationCallbackData");var wac_1Ub=!1,wac_BR=0,wac_8Ub=10,wac_9Ub=2,wac_pVb=null;Type.registerNamespace("Box4.Presence");wac_J=window.Box4||{};wac_J.WBa=wac_J.WBa||{};function wac_HR(a,b){wac_HR.initializeBase(this);this.Ww=a;this.Ya=b}
wac_HR.prototype={N$d:!1,Ya:null,Ww:null,R9c:!1,wxc:function(a,b){this.Ya.ub(166)&&this.Ya.ub(138)&&wac_FR.isInstanceOfType(a)?this.N$d||(this.N$d=!0,wac_(7866380,302,15,"Presence packet received in old format")):(wac_FR.isInstanceOfType(a)&&(this.R9c=!0),wac_ER.prototype.wxc.call(this,a,b))},Z2a:function(a){return this.R9c?wac_ER.prototype.Z2a.call(this,a):a.qm().rq().toString()},nDc:function(a){return this.R9c?wac_ER.prototype.nDc.call(this,a):(a=this.Ww.Qb(wac_7k(a)))?this.LEb[a.pa(Number,wac_oq,
0).toString()]:null}};Type.registerNamespace("WordEditor.Presence");wac_K=window.WordEditor||{};wac_K.WBa=wac_K.WBa||{};function wac_IVb(a,b,c,d,e,f,g,h,k){this.LocalCobaltSessionId=a;this.SkypeChatThreadId=b;this.ChatThreadDiscoveryUri=c;this.InChat=d;this.Capabilities=e;this.Email=f;this.UserName=g;this.IsAnonymous=h;this.PresenceStatus=k}function wac_JVb(){}wac_JVb.registerInterface("WordEditor.Presence.IWordPresenceIp");function wac_KVb(){}wac_KVb.registerInterface("WordEditor.Presence.IWordPresenceCp");
function wac_LVb(){}wac_LVb.registerInterface("WordEditor.Presence.IPacketIdGenerator");function wac_MVb(){}function wac_NVb(a,b,c){null!=a&&(this.TFA=a);null!=b&&(this.PN=b);null!=c&&(this.TN=c)}function wac_OVb(a,b){null!=a&&(this.PM=a);null!=b&&(this.TM=b)}function wac_PVb(a,b,c,d){null!=a&&(this.PA=a);null!=b&&(this.TA=b);null!=c&&(this.PB=c);null!=d&&(this.TBS=d)}function wac_QVb(a,b){a&&(this.SF=a);null!=b&&(this.SL=b)}function wac_RVb(){}wac_RVb.registerInterface("WordEditor.Presence.ISequentialIdGenerator");
function wac_IR(){}wac_IR.registerInterface("WordEditor.Presence.IWordPresenceCpFactory");function wac_JR(a,b,c,d,e,f,g,h,k,l,m,n,p,q){this.V5=a;this.Tlb=c;this.bN=d;this.HK=b.toLowerCase();this.RH=e;this.YCa=p;f&&(this.u1=f);null!=g&&(this.XPa=g);wac_i(h)||(this.Text=h);k&&(this.j1a=k);l&&(this.EZb=l);m&&(this.MPa=m);n&&(this.Xtb=n);this.k6=q}wac_JR.prototype={V5:0,YCa:0,Tlb:0,bN:0,HK:null,RH:null,u1:null,j1a:null,EZb:null,MPa:null,XPa:null,Text:null,Xtb:null,k6:null};
function wac_SVb(a,b,c){null!=a&&(this.CRc=a);null!=b&&(this.VLc=b);null!=c&&(this.b6a=c)}wac_SVb.prototype={CRc:null,VLc:null,b6a:null};function wac_TVb(a,b){null!=a&&(this.tMd=a);null!=b&&(this.a6a=b)}wac_TVb.prototype={tMd:null,a6a:null};function wac_UVb(a,b,c,d){null!=a&&(this.TLc=a);null!=b&&(this.ARc=b);null!=c&&(this.ULc=c);null!=d&&(this.BRc=d)}wac_UVb.prototype={TLc:null,ARc:null,ULc:null,BRc:null};function wac_VVb(a,b){a&&(this.qRc=a);null!=b&&(this.rRc=b)}wac_VVb.prototype={qRc:null,rRc:null};
function wac_WVb(){}function wac_XVb(){}wac_XVb.prototype={V:0};function wac_YVb(){this.Lka=0}wac_YVb.prototype={Lka:0};function wac_ZVb(a){a.Lka++;4294967295===a.Lka&&(a.Lka=1);return a.Lka}
function wac__Vb(a,b){b.val="";if("number"!==typeof a.I)return b.val="Invalid PacketId Type",!1;if("number"!==typeof a.O)return b.val="Invalid Operation Type",!1;if("string"!==typeof a.A)return b.val="Invalid ClientId Type",!1;if("object"!==typeof a.AN)return b.val="Invalid Anchor Object Type",!1;if(!a.AN)return b.val="Null AnchorObject",!1;if(!wac_MRb(a.AN)){var c;try{c=wac_wi(a.AN)}catch(d){c=String.format("Failed to JSON-serialize payload : {0}",d)}8E3<c.length&&(c=String.format("Payload exceeds maximum length: {0} > {1}, not logging",
c.length,8E3));b.val="Invalid AnchorObject: "+c+", Client: "+a.C;return!1}return!a.O&&a.AN.RK?(b.val="Invalid RangeKind:"+a.AN.RK+" for Caret",!1):2===a.O&&("number"!==typeof a.TF||"undefined"!==typeof a.TX&&"string"!==typeof a.TX||1!==a.AN.RK&&a.AN.RK)?(b.val="Invalid TypingData",!1):3!==a.O||"object"===typeof a.AP&&a.AP&&"number"===typeof a.AP.TFA&&"number"===typeof a.AP.PN&&"number"===typeof a.AP.TN&&2===a.AN.RK?6!==a.O||"object"===typeof a.MP&&a.MP&&"number"===typeof a.MP.PM&&"number"===typeof a.MP.TM&&
5===a.AN.RK?4!==a.O||"object"===typeof a.SP&&a.SP&&"number"===typeof a.SP.PA&&"number"===typeof a.SP.TA&&"number"===typeof a.SP.PB&&"number"===typeof a.SP.TBS&&3===a.AN.RK&&(a.AN.PS===a.SP.PA||a.AN.PS===a.SP.PB)?7!==a.O||"object"===typeof a.SPS&&a.SPS&&"string"===typeof a.SPS.SF&&"boolean"===typeof a.SPS.SL?null!=a.ISS&&"number"!==typeof a.ISS?(b.val="invalid StrictlySequentialId",!1):!0:(b.val="Invalid SymbolData",!1):(b.val="Invalid SplitParaData",!1):(b.val="Invalid RemoveParaData",!1):(b.val=
"Invalid AddParaData",!1)}function wac_0Vb(a){var b=a;if("number"===typeof b.V){if(1===b.V)return wac_1Vb(a);wac_(9188758,302,15,"Unsupported Version");return null}for(var c=0,d=null,e=0;e<a.length;e++){var b=a[e],f;a:{for(f=0;f<wac_WVb.hRd.length;f++)if(b.V===wac_WVb.hRd[f]){f=!0;break a}f=!1}f&&b.V>c&&(c=b.V,d=a[e])}return 1===c?wac_1Vb(d):null}
function wac_2Vb(a){if(a){var b=new wac_MVb;b.I=a.V5;b.V=1;b.A=a.HK;b.C=a.Tlb;b.O=a.bN;b.AN=wac_wRb(a.RH);a.u1&&(b.WD=a.u1);null!=a.XPa&&(b.TF=a.XPa);!wac_i(a.Text)&&0<a.Text.length&&(b.TX=a.Text);a.j1a&&(b.AP=new wac_NVb(a.j1a.CRc,a.j1a.VLc,a.j1a.b6a));a.EZb&&(b.MP=new wac_OVb(a.EZb.tMd,a.EZb.a6a));a.MPa&&(b.SP=new wac_PVb(a.MPa.TLc,a.MPa.ARc,a.MPa.ULc,a.MPa.BRc));a.Xtb&&(b.SPS=new wac_QVb(a.Xtb.qRc,a.Xtb.rRc));b.ISS=a.k6;a=b}else a=null;return a}
function wac_1Vb(a){var b,c,d;if(d=wac__Vb(a,c={val:b}),b=c.val,!d)return wac_(9188759,302,15,"Failed to parse RTT packet, InvalidFieldInfo {0}",b),null;var e=d=c=b=null,f=null,g=null,h=null,k=null;a.WD&&(b=a.WD);null!=a.TF&&(c=a.TF);wac_i(a.TX)||(d=a.TX);a.AP&&(e=new wac_SVb(a.AP.TFA,a.AP.PN,a.AP.TN));a.MP&&(f=new wac_TVb(a.MP.PM,a.MP.TM));a.SP&&(g=new wac_UVb(a.SP.PA,a.SP.TA,a.SP.PB,a.SP.TBS));a.SPS&&(h=new wac_VVb(a.SPS.SF,a.SPS.SL));null!=a.ISS&&(k=a.ISS);return new wac_JR(a.I,a.A,a.C,a.O,wac_uRb(a.AN),
b,c,d,e,f,g,h,1,k)}function wac_3Vb(){this.CHb=this.BHb=0}wac_3Vb.prototype={CHb:0,BHb:0};function wac_4Vb(a,b,c,d,e,f,g,h){wac_4Vb.initializeBase(this,[a,b,c,d,e,f,g,h])}function wac_5Vb(){if(window.Box4.App.za()){var a=window.Box4.App.za().Ma;a&&(a.y3(wac_6Vb),(a=a.Cc())&&(wac_7Vb=a.Be)&&window.Box4.App.P3().CW(wac_8Vb))}}function wac_8Vb(){(wac_9Vb=window.Box4.App.P3().sc())&&wac_9Vb.rm()&&(wac_$Vb||(wac_$Vb=wac_k().J(wac_wt,null))).XK().CW(wac_aWb)}
function wac_aWb(){if(wac_bWb=(wac_$Vb||(wac_$Vb=wac_k().J(wac_wt,null))).XK().sc()){var a=wac_q.W,b=a.ga("Box4ThrottleInboundRequests"),a=a.ac("Box4ThrottleInboundsAtUserCount",20),c=new wac_0ya(11,1);wac_7Vb.Izb=function(){return wac_bWb.hLb()};wac_cWb=wac_cWb||new wac_4Vb(wac_bWb,function(){return wac_7Vb},wac_9Vb,function(){return wac_q.wh},b,a,c,wac_2g(window.Box4.App.za()));wac_cWb.Dw()}}function wac_6Vb(a){wac_cWb||(a.LYa(wac_6Vb),wac_5Vb())}
function wac_dWb(a,b,c){this.Lka=a;this.u4=c;this.qf=b}
function wac_eWb(a,b,c,d,e){if(!a||!wac_l(wac_k(),wac_M).ub(166)||!b)return null;if(a.bN)return wac_(7685324,302,15,"Presence packet is of unexpected operationType {0}",a.bN),null;var f;if(wac_i(a.u1)){var g=a.HK;f=g?new wac_zR(g,null,null,new wac_Fl(0),null,null,null,a.Tlb,null,!1,!1,!1,null):null}else g=a.HK,f=a.u1.Capabilities,f=g?new wac_zR(g,a.u1.UserName,null,new wac_Fl(wac_Ab(f)?0:f),a.u1.LocalCobaltSessionId,a.u1.SkypeChatThreadId,a.u1.Email,a.Tlb,a.u1.ChatThreadDiscoveryUri,a.u1.IsAnonymous,
a.u1.InChat,!1,a.u1.PresenceStatus):null;g=a.V5;a=a.RH;if(b){var h=window.parseInt(a.Hqa);b=new wac_KR(b,h,a.DCa,a.BBa,c,d,e,a.hQc)}else b=null;return new wac_dWb(g,f,b)}
wac_dWb.prototype={Lka:0,RCb:!1,u4:null,qm:function(){return this.u4},fme:function(){return this.RCb},Aoe:function(a){(this.RCb=a)&&this.u4.GKc();return a},zfa:!1,TMb:function(a){return this.zfa=a},Xna:!1,Wmc:function(a){return this.Xna=a},qf:null,Doe:function(a){return this.qf=a},gEc:function(){var a;a=wac_fWb;4294967295===a.BHb&&(a.BHb=0);a.BHb++;a=a.BHb;return new wac_JR(this.Lka,this.qf.Th(),1,0,this.u4?this.u4.IA():null,new wac_IVb(this.qf.nA,this.qf.FZa,this.qf.EZa,this.qf.qya,this.qf.yu.yu,
this.qf.tw,this.qf.Yp,this.qf.uw,this.qf.h$),null,null,null,null,null,null,0,a)},$nb:function(){return this.qf.Th()+(this.u4?this.u4.sF().toString():wac_w().toString())},qk:function(){var a=!!this.qf&&this.qf.qk(),b=!this.u4||this.u4.qk();return a&&b},Lc:function(){var a=new wac_dWb;a.Lka=this.Lka;a.RCb=this.RCb;a.qf=this.qf?this.qf.Lc():null;a.u4=this.u4?this.u4.Lc():null;a.zfa=this.zfa;a.Xna=this.Xna;return a}};
function wac_gWb(a,b,c,d,e,f){this.T9c=a;this.je=c;this.nV=d;this.ju=e;this.Bi=f;this.pza=b}
wac_gWb.prototype={T9c:null,Pa:null,je:null,nV:null,ju:null,Bi:null,Lc:function(){return new wac_gWb(this.T9c,this.pza.Lc(),this.je,this.nV,this.ju,this.Bi)},pza:null,lf:function(){if(null!=this.Pa)return this.Pa;var a=this.T9c.sF();if(a.Ca(wac_w()))return 0;var b=this.nV();if(!b)return 0;a=b.Qb(a);if(!a)return wac_(7685326,302,15,"Paragraph Node is null so returning a CP with value 0"),0;b=wac_cR(wac_eR(a.Ib,a.va),this.pza);if(this.ju&&this.Bi&&wac_AA(a)){var c=wac_U(a,b);c.kc=wac_53a(this.Bi,a,
b,this.pza.q9);b=wac_ty(0,c,!0)}return b},GKc:function(){null==this.Pa&&(this.Pa=this.lf())},Ca:function(a){return a?this.pza.Gx(a.pza,!1):!1}};function wac_hWb(a,b){this.ju=a;this.Bi=b}wac_hWb.prototype={ju:null,Bi:null,La:function(a,b,c,d){return new wac_gWb(a,b,c,d,this.ju,this.Bi)}};function wac_KR(a,b,c,d,e,f,g,h){this.ir=a;this.nV=f;this.je=e;this.mea=g;this.Af=b;this.xx=h;this.KW=c;this.xK=g.La(this,d,e,f)}
wac_KR.prototype={nV:null,ir:null,fec:null,je:null,mea:null,Lc:function(){return new wac_KR(this.ir,this.Af,this.KW,this.xK.pza,this.je,this.nV,this.mea,this.xx)},Af:0,rq:function(){return this.Af},sF:function(){return this.fec?this.fec:wac_uP(this.ir,this.Af)},xx:0,GKc:function(){this.fec||(this.fec=this.sF(),this.xK.GKc())},xK:null,KW:0,Coe:function(a){return this.KW=a},qk:function(){return 0<=this.xK.lf()},IA:function(){var a=this.xK.pza;return a?new wac_dR(0,this.Af,this.KW,a,null,null,null,0,
this.xx):null}};
function wac_LR(a,b,c,d,e,f,g,h,k,l,m,n,p,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I){this.Nxe=Function.createDelegate(this,this.Daf);this.Oxe=Function.createDelegate(this,this.Eaf);wac_LR.initializeBase(this,[a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,w,x,y,z,A,B,C,D,E,H]);wac_A(n,1177859183,1,wac_iWb,64);wac_A(n,3460066539,1,wac_jWb,64);wac_A(n,477883041,1,wac_kWb,96);wac_A(n,761503246,1,wac_lWb,64);this.ir=u;this.je=v;this.mea=F;this.dZ.q0a=G;this.dZ.q0a.wa.ob("X",wac_mWb);var J=this;I.CW(function(){J.jg=I.sc()});
this.kge=B.ga("ShouldPollEditorsTableOnFirstAnonymousPresenceIsEnabled");wac_(4006600,302,50,"WordPresenceManager Initialized")}function wac_nWb(){return wac_oWb||(wac_oWb=wac_k().J(wac_wt,null))}
function wac_pWb(){wac_qWb||(wac_qWb=new (wac_ab.$$(wac_Cc)));wac_rWb&&(wac_(4256585,302,50,"WordPresenceManager Init"),wac_rWb=!1);if(window.Box4.App.za()){var a=window.Box4.App.za().Ma;a?(a.y3(wac_sWb),(wac_MR=a.od)&&wac_MR.tj()?(wac_tWb=a.Cc().Be)?(wac_uWb=a.Cc().jd())?wac_nWb().XK().CW(wac_vWb):wac_(4006599,302,15,"Can't initialize the WordPresenceManager because we can't get a reference to content ObjectSpace of the app"):wac_(4252228,302,15,"Can't initialize the WordPresenceManager because we can't get a reference to the GraphSpaceReplicator object"):
wac_(4006598,302,50,"PageView doesn't seem to have been initialized yet. Will try again once we know it's initialized")):wac_(4006597,302,15,"Can't initialize the WordPresenceManager because workspace is not initialized")}else wac_(4006596,302,15,"Can't initialize the WordPresenceManager because active AppFrame is not initialized")}
function wac_vWb(){if(wac_wWb=wac_nWb().XK().sc()){var a=[];Array.add(a,wac_MR.vuc);Array.add(a,wac_MR.Qe().fid());var b=wac_rw(),c=wac_k().J(wac_HR,null),d=new wac_XUb(c,b,wac_k().J(wac_Cb,null),wac_wWb),e=new wac_TUb(wac_wWb),f=wac_Eb(wac_k(),wac_LO),g=wac_k().J(wac_UP,null),h=new wac_0ya(8,5),k=wac_k().J(wac_qc,null);wac_NR=new wac_LR(wac_wWb,a,wac_uWb,b,k,c,d,e,wac_MR,wac_MR.Qe().Kc(),wac_k().J(wac_5Ub,null),wac_x(),wac_tWb,wac_T,wac_NRb,wac_k().J(wac_yR,null),f,g,window.Box4.App.Hi.Nl,new wac_Hw,
wac_r(),wac_Aj(),wac_Fb(wac_1m,wac_m(wac_k(),wac_1m)),wac_q.W,wac_q.W.ga("Box4ThrottleAndBatchPresenceRendering"),wac_q.W.ga("Box4DoNotRenderPresenceOutOfView"),h,wac_k().J(wac_IR,null),wac_k().J(wac_Ica,null),!window.Box4.App.pv()&&!window.Box4.App.Pn,window.Box4.App.P3());wac_(23196878,302,50,"WordPresenceManager instance created");wac_qWb.ig(wac_NR);wac_OR.ig(wac_NR);wac_xWb.ig(wac_NR);a=wac_k();wac_n(wac_o(wac_p(wac_p(a.oa(wac_LR,null),wac_Hca),wac_Cc)),function(){return wac_NR});a.J(wac_LR,null)}else wac_(4203468,
302,15,"Can't initialize the WordPresenceManager because can't get a handle to RtcProxy")}function wac_sWb(a){wac_NR||(wac_(4006601,302,50,"WordPresenceManager.OnAppIsInteractive: Trying to initialize again"),(a=window.$$as(wac_Fu,a))&&a.LYa(wac_sWb),wac_pWb())}function wac_mWb(){wac_tVb(wac_NR)}
function wac_iWb(a,b,c,d,e){c=e.split(",");if(!c||3!==c.length)return 8;a=c[0].trim();b=c[1].trim();c=Number.parseInvariant(c[2].trim());a=new wac_FR(new wac_zR(a),new wac_GR(b,c,-1,0,0));if(!wac_OR.Xc.Sk())return 8;b=wac_OR.Xc.sc();wac_vVb(b,a);b.yIb||wac_wVb(b);return 32}function wac_jWb(a,b,c,d,e){if(!wac_OR.Xc.Sk())return 8;a=wac_OR.Xc.sc();a.tsb(e);a.yIb||wac_wVb(a);return 32}
function wac_lWb(a,b,c,d,e){if(!wac_OR.Xc.Sk())return 8;a=wac_OR.Xc.sc();if(!a)return 8;if(e&&e.qk()&&e.qm()){b=wac_ZUb(a.DGa,e.qm().sF().toString(),-1,-1,!1);c=!1;d=null;for(var f=0;f<b.length;f++)if(d=b[f],d.qf.Th()===e.qf.Th()){d.Wmc(!0);c=!0;break}if(c)if(b=d.qm().sF(),e=wac_zVb(a,b)){b=a.vb.Rc(2,0);try{wac_Q(b,e),e.MA(a.HEb.Kc(),32,!0),e.MA(a.yZc,32,!0)}finally{b&&b.dispose()}}else wac_AVb(a,b)}return 32}
function wac_kWb(a,b,c,d,e){if(1===c)return 32;if(!wac_nWb().XK().Sk())return 8;a=wac_nWb().XK().sc();if(!a)return wac_(4301136,302,10,"rtcProxy is null when trying to display RTC connection status"),8;e.Value=2===a.Sla()?WordEditorIntl.WordEditorStrings.L_RtcConnected:1===a.Sla()?WordEditorIntl.WordEditorStrings.L_RtcConnecting:"";return 32}
wac_LR.prototype={Oe:function(){return wac_k().J(wac_M,null)},mea:null,jg:null,ir:null,je:null,kge:!1,a3a:function(a){if(!a||!a.Db)return null;for(a=a.Db.vm;a;a=a.Es)if(wac_zJ(a))return a.mn.fa;return null},Cyc:function(a){var b=null,b=wac_q.W.ga("PeoplesWellExtraButtonInfoIsEnabled");if(this.Oe().ub(166)&&this.Oe().ub(138)){var c=a.Fa().ya,d=a.Fa().fa;b&&wac_Gz(d)&&(d=this.a3a(d));if(!d)return wac_(51242309,302,15,"selectedNode is null"),null;var d=this.Z9b(d),e=a.Fa().fa.pa(Number,wac_oq,0);if(!this.ir)return wac_(35997152,
302,15,"paragraphWordIdMapping is null"),null;var f=wac_uP(this.ir.qa(),e),g=wac_uWb.Qb(f);if(!g)return wac_(16791249,302,15,"Can't find pid "+f),null;c=wac_aR(wac_eR(g.Ib,g.va),c);c.q9=-1===wac_gA(a.Fa())?0:wac_gA(a.Fa());f=0;b&&wac_t2a(a)&&(f=wac_yWb(a));b=new wac_KR(this.ir.qa(),e,d,c,this.je,function(){return wac_uWb},this.mea,f)}else b=wac_oVb.prototype.Cyc.call(this,a);return b},qHd:function(a){wac_Ch("Microsoft.Office.Web.SessionSettings.IWacWordShouldPollEditorsTableOnFirstAnonymousPresenceSettings");
this.kge&&this.jg.AW.Dw(this.Oxe,this.Nxe,a)},Eaf:function(a){var b=!!wac_2Da(this.jg.zx,a);wac_(579179741,302,50,"ClientId:{0} isPresentAfterPoll:{1}",a,b)},Daf:function(a,b){wac_(579179742,302,15,"EditorsReplicator failed with {0} when looking for ClientId {1}",b,a)}};function wac_yWb(a){var b=wac_vE(a.Fa());return b?b.lh.pa(Number,wac_1s,0):a.Fa().fa.Na().pa(Number,wac_1s,0)}function wac_zWb(){}
function wac_AWb(){!wac_BWb&&window.Box4.App.za()&&window.Box4.App.za().Fv&&(wac_BWb=window.WordEditor.App.Zj().Fv.getElementsByClassName("OutlineContainerDisplayWrapper")[0]);return wac_BWb}function wac_CWb(){return wac_AWb()?wac_mk(wac_AWb()):null}
wac_zWb.prototype={ea:null,Tg:!1,Yb:function(){return"WordEditor.Presence"},wb:function(){wac_(50995799,302,15,"PresencePackage Init");window.Box4.App.hTd&&(this.ea.J(wac_PR,null).XK(),wac_pWb(),this.ea.J(wac_DWb,null));window.Box4.App.Bzc&&wac_5Vb();this.ea.J(wac_uo,null);this.ea.J(wac_qc,null)},na:function(){if(!this.Tg){this.Tg=!0;wac_OR.Xc.CW(function(){wac_Zb(wac_OR.Xc.sc())});var a=this.ea.J(wac_yR,null);a&&a.q0a&&a.q0a.wa.fd("X",wac_mWb)}},Zb:function(a){this.ea=a;wac_n(wac_o(wac_p(wac_p(wac_p(this.ea.oa(wac_yR,
null),wac_QUb),wac_Dc),wac_Bc)),function(){return new wac_yR});wac_n(wac_o(a.oa(wac_IR,null)),function(){return new wac_hWb(a.J(wac_PB,null),a.J(wac_Uv,null))});wac_n(wac_o(a.oa(wac_DWb,null)),function(){return new wac_DWb(new (wac_d.$$(wac_su))(function(){return window.Box4.App.wc}),wac_ky(),a.J(wac_PR,null).job(),a.J(wac_QUb,null))});wac_n(wac_p(wac_p(wac_o(a.oa(wac_PR,null)),wac_wt),wac_2wa),function(){return new wac_PR(wac_q.ur,wac_2g(window.Box4.App.za()),wac_r(),function(){return wac_q.wh},
wac_k().J(wac_QUb,null),wac_l(wac_k(),wac_QC),wac_k().J(wac_UP,null),function(){return wac_s()&&window.Box4.App.za().Ma&&window.Box4.App.za().Ma.Cc()?window.Box4.App.za().Ma.Cc().jd():null},wac_EWb,function(){return wac_l(wac_k(),wac_JO)},wac_m(wac_k(),wac_tc),wac_k().J(wac_IR,null),wac_q.W)});wac_n(wac_o(a.oa(wac_5Ub,null)),function(){var a;a=wac_q.W.ga("PeoplesWellExtraButtonInfoIsEnabled");var c=new wac_RSb;c.U(String,0,wac_ui(wac_si,"MoreUsersGlyph16"));c.U(String,5,wac_ti);c.U(String,1,wac_ui(wac_si,
a?"DoughboyWhiteGlyph_20x20x32":"SingleCollabUserGlyph16"));c.U(String,4,wac_ti);c.U(Number,12,1);c.U(Boolean,8,wac_ch);c.U(Function,16,wac_CWb);a=a?new wac_mSb(c):new wac_OSb(c);return new wac_5Ub(a,wac_Kg(),wac_m(wac_k(),wac_Ac),wac_k().J(wac_Nu,null),wac_Fb(wac_yc,wac_m(wac_k(),wac_yc)),wac_q.W)});wac_n(wac_o(a.oa(wac_uo,null)),function(){return new wac_uo(wac_k().J(wac_Dc,null),wac_k().J(wac_PR,null).job(),wac_xWb.Xc,wac_k().J(wac_Bc,null),wac_r(),wac_q.W.ga("AwayStatusOneMinuteTimeoutIsEnabled")?
6E4:wac_q.W.ac("AwayCoauthorThresholdMs",9E5),wac_x().cOe,window.Box4.App.za().qy,wac_q.W.ga("PeoplesWellExtraButtonInfoIsEnabled"))});wac_n(wac_p(wac_o(a.oa(wac_FWb,null)),wac_Ica),function(){return new wac_FWb(wac_Fb(wac_ac,wac_m(wac_k(),wac_ac)))});wac_n(wac_p(wac_o(a.oa(wac_XDa,null)),wac_qc),function(){return new wac_XDa(a.J(wac_PR,null).job(),window.Box4.App.P3().CWR(wac_pca,function(){return window.Box4.App.P3().sc().zx}),a.J(wac_fb,null),a.J(wac_Bc,null),wac_Fb(wac_uo,wac_m(a,wac_uo)))});
wac_n(wac_p(wac_o(a.oa(wac_HR,null)),wac_nSa),function(){return new wac_HR(window.Box4.App.za().Ma.Cc().jd(),wac_k().J(wac_M,null))})}};function wac_FWb(a){this.wa=new wac_Xd;this.JG=a;var b=this;this.JG.CWR(Function,function(){return b.JG.sc().LPf(function(){b.wa.Za("X",null,null)})})}wac_FWb.prototype={JG:null};
function wac_DWb(a,b,c,d){this.g_=Function.createDelegate(this,this.bba);this.LKe=Function.createDelegate(this,this.btf);this.jg=a;this.iD=b;this.fM=c;c.CW(this.LKe);this.G9d=d;this.G9d.Stc=this.iD}
wac_DWb.prototype={iD:null,fM:null,xj:null,G9d:null,$5c:!1,O_c:!1,jg:null,qZe:!1,btf:function(){this.fM.Sk()&&this.fM.sc()?(this.xj=this.fM.sc(),this.xj.YHa(this.g_),wac_(5604372,302,50,"Presence Update Monitor is ready.")):wac_(5604373,302,15,"RtcTask did not complete successfully. No monitoring")},bba:function(a,b){a=b.A$;for(var c in a){b=a[c];if(!this.O_c&&this.jg&&this.jg.qa()){var d=b.qf.BJa;d&&1===d||(this.qZe=!0)}if(!this.$5c&&b.qf.nA&&b.qf.nA!==this.iD.nA){wac_(5604375,302,15,"Presence received from different local cobalt session Mine:{0} Theirs:{1}",
this.iD.nA,b.qf.nA);this.$5c=!0;break}}this.$5c&&this.xj.MYa(this.g_);this.O_c||(wac_(5604374,302,50,"First presence received"),this.O_c=!0)}};function wac_GWb(a,b,c,d,e,f,g,h,k,l,m,n,p){wac_GWb.initializeBase(this,[a,b,c,d,e,f,p]);this.ir=g;this.je=h;this.nV=k;this.wEb=l;this.PHb=m;this.mea=n}
wac_GWb.prototype={wB:null,ir:null,je:null,nV:null,wEb:null,PHb:null,mea:null,jS:function(){return this.wB||(this.wB=this.PHb())},O0:function(a,b){2===b.Rt&&wac_(4315102,302,50,"RTC Connected");this.jS()&&this.jS().PX("RtcConnectionStatusLabel");wac_CVb.prototype.O0.call(this,a,b)},HEd:function(a){return wac_eWb(wac_0Vb(a),this.ir,this.je,this.nV,this.mea)},CPc:function(a,b){return wac_KR.isInstanceOfType(b)?(a=new wac_dWb(wac_ZVb(this.wEb),a,b),wac_2Vb(a.gEc())):wac_CVb.prototype.CPc.call(this,a,
b)}};function wac_PR(a,b,c,d,e,f,g,h,k,l,m,n,p){this.Gk=new (wac_ab.$$(wac_JOa));this.b6b=a;this.pc=b;this.Va=c;this.Sz=d;this.dZ=e;this.ir=f;this.Fwa=g;this.nV=h;this.wEb=k;this.PHb=l;this.mWa=m;this.mea=n;this.xa=p}function wac_HWb(){return!1}wac_PR.prototype={b6b:null,pc:null,Va:null,Sz:null,dZ:null,ir:null,Fwa:null,nV:null,wEb:null,PHb:null,mWa:null,mea:null,xa:null,uge:!0,XK:function(){wac_IWb(this);return this.Gk.Xc},job:function(){return new wac_QR(this)}};
function wac_IWb(a){if(a.uge)if(a.uge=!1,window.Box4.App.UGc()&&window.Box4.App.CGc()){var b=wac_q.Ne;if(b){var b=wac_WTb("{"+wac_q.eg+"}",wac_q.eg,wac_q.MOd,b,a.mWa,a.pc,a.xa.jb("RtcEndpointUrl"),a.xa.ga("FindSessionOnBootIsEnabled")?wac_k().J(wac_9c,null):null),c=a.xa.ga("RtcAlwaysOnEnabled"),d=new wac_GWb(b,c?null:window.Box4.App.P3(),a.Va,a.Sz,wac_HWb,a.dZ,a.ir,a.Fwa,a.nV,a.wEb,a.PHb,a.mea,wac_q.W);window.Box4.App.HDf(d);d.wb();window.WordEditor.App.Yqa=d;a.mWa.rb(function(a){a.IXa(function(){d.Rmb()})});
a.Gk.ig(d)}else wac_(8206365,302,15,"Can't initialize the RtcProxy because ClientRequestManager is null")}else wac_(8206362,302,10,"Can't initialize the RtcProxy because dependent scripts are not loaded")}function wac_QR(a){this.ny=Function.createDelegate(this,this.moveNext);this.dispose=this.na;this.xf=a;wac_QR.initializeBase(this);this.jh=this.Zp;this.moveNext()}
wac_QR.prototype={xf:null,bBd:null,Vi:null,jh:null,_state:0,Zp:function(){this.Vi=this.xf.XK().G();this.Vi.Sk()||(this._state=2,this.Vi.bQ(this.ny));return this.vA},vA:function(){this.bBd=this.Vi.xz();wac_$a(this,this.bBd);this.na();this._state=3;this.xm(!0)},na:function(){}};wac_QR.prototype.moveNext=function(){try{for(this._state=1;1===this._state;)this.jh=this.jh()}catch(a){this.na(),wac_4a(this,a),this._state=3}};wac_QR.prototype.moveNext=wac_QR.prototype.moveNext;
wac_HR.registerClass("Box4.Presence.WordPresenceDataManager",wac_ER);wac_IVb.registerClass("WordEditor.Presence.SerializableWacData");wac_MVb.registerClass("WordEditor.Presence.SerializableRTTDataV1");wac_NVb.registerClass("WordEditor.Presence.SerializableAddParaDataV1");wac_OVb.registerClass("WordEditor.Presence.SerializableMergeRemoveParaDataV1");wac_PVb.registerClass("WordEditor.Presence.SerializableSplitParaDataV1");wac_QVb.registerClass("WordEditor.Presence.SerializableSymbolDataV1");wac_JR.registerClass("WordEditor.Presence.RTTData");
wac_SVb.registerClass("WordEditor.Presence.AddParaData");wac_TVb.registerClass("WordEditor.Presence.MergeRemoveParaData");wac_UVb.registerClass("WordEditor.Presence.SplitParaData");wac_VVb.registerClass("WordEditor.Presence.SymbolData");wac_WVb.registerClass("WordEditor.Presence.RTTDataVersion");wac_XVb.registerClass("WordEditor.Presence.SerializableObjectWithVersion");(function(){}).registerClass("WordEditor.Presence.Program");wac_YVb.registerClass("WordEditor.Presence.PacketIdGenerator",null,wac_LVb);
(function(){}).registerClass("WordEditor.Presence.RTTDataHelper");(function(){}).registerClass("WordEditor.Presence.RTTDataMethods");(function(){}).registerClass("WordEditor.Presence.SerializableRTTDataV1Methods");wac_3Vb.registerClass("WordEditor.Presence.StrictlySequentialIdGenerator",null,wac_RVb);wac_4Vb.registerClass("WordEditor.Presence.WordContentNotificationManager",wac_RUb);wac_dWb.registerClass("WordEditor.Presence.WordPresenceInfo",null,wac_GOa,wac_5b.$$(wac_GOa));
wac_gWb.registerClass("WordEditor.Presence.WordPresenceCp",null,wac_HOa,wac_5b.$$(wac_HOa),wac_KVb);wac_hWb.registerClass("WordEditor.Presence.WordPresenceCp.Factory",null,wac_IR);wac_KR.registerClass("WordEditor.Presence.WordPresenceIp",null,wac_IOa,wac_5b.$$(wac_IOa),wac_JVb);wac_LR.registerClass("WordEditor.Presence.WordPresenceManager",wac_oVb);wac_zWb.registerClass("WordEditor.Presence.WordPresencePackage",null,wac_H,wac_j);
wac_FWb.registerClass("WordEditor.Presence.WordPresenceStatusProvider",null,wac_Ica);wac_DWb.registerClass("WordEditor.Presence.WordPresenceUpdateMonitor");wac_GWb.registerClass("WordEditor.Presence.WordRtcProxy",wac_CVb);wac_PR.registerClass("WordEditor.Presence.WordRtcProxyProvider",null,wac_wt,wac_2wa);wac_QR.registerClass("WordEditor.Presence.WordRtcProxyProvider.$$sm_WordEditor$Presence$WordRtcProxyProvider$GetInstanceAsRealtimeChannelBasicAsync",wac_9a.$$(wac_sc),Sys.IDisposable);
wac_WVb.hRd=[1];var wac_EWb=new wac_YVb,wac_fWb=new wac_3Vb,wac_cWb=null,wac_$Vb=null,wac_bWb=null,wac_7Vb=null,wac_9Vb=null,wac_NR=null,wac_rWb=!0,wac_qWb=new (wac_ab.$$(wac_Cc)),wac_OR=new (wac_ab.$$(wac_LR)),wac_xWb=new (wac_ab.$$(wac_Hca)),wac_uWb=null,wac_MR=null,wac_tWb=null,wac_wWb=null,wac_oWb=null,wac_BWb=null;wac_I(wac_C(),new wac_zWb,0,!1);Type.registerNamespace("WERTT");function wac_RR(){}wac_RR.registerInterface("WERTT.IParagraphAnchoredOp");function wac_JWb(){}wac_JWb.registerInterface("WERTT.IRttDataStore");
function wac_KWb(){}wac_KWb.registerInterface("WERTT.IRttEditor");function wac_LWb(){}wac_LWb.prototype={unknown:0,replaceTextRangeOp:1,addParagraphOp:2,deleteParagraphOp:3,splitParagraphOp:4,mergeParagraphOp:5,replaceSymbolRangeOp:6};wac_LWb.registerEnum("WERTT.RttOpType",!1);function wac_SR(){}wac_SR.registerInterface("WERTT.IRttOp");function wac_TR(){}wac_TR.registerInterface("WERTT.IRttAppliedOp");function wac_MWb(){}wac_MWb.registerInterface("WERTT.IRttAppliedOpTracker");
function wac_NWb(){}wac_NWb.registerInterface("WERTT.IRttOpValidator");function wac_OWb(){}wac_OWb.registerInterface("WERTT.IRttSendDataStore");function wac_PWb(a,b){this.Fod=Function.createDelegate(this,this.Rpf);this.Dod=Function.createDelegate(this,this.$qb);this.Cod=Function.createDelegate(this,this.IJc);this.dispose=this.na;this.ep=a;if(this.xn=b)a=wac_vz(this.xn,12),wac_PG(a,this.Cod),wac_zz(a,this.Dod),wac_QG(a,this.Fod)}
wac_PWb.prototype={ep:null,xn:null,na:function(){if(this.xn){var a=wac_vz(this.xn,12);wac_NJ(a,this.Cod);wac_Cz(a,this.Dod);wac_OJ(a,this.Fod)}},IJc:function(a,b){4===this.ep.xH()?wac_c(9204866,355,12===b.fa.get_type()||11===b.fa.get_type(),"Unexpected graph modification detected during RTT edit"):wac_c(9204867,355,!1,"Unexpected graph modification detected during RTT edit")},$qb:function(){wac_c(9204868,355,!1,"Unexpected graph modification detected during RTT edit")},Rpf:function(){wac_c(9204869,
355,!1,"Unexpected graph modification detected during RTT edit")}};function wac_UR(a,b){this.quc=a;this.jz=b}wac_UR.prototype={quc:0,xH:function(){return this.quc},jz:null,Ima:null,Y0a:null,k_:null,nEc:function(){return""},kL:function(){return null}};function wac_QWb(a,b){a.k_=b}function wac_RWb(){this.Vze=Function.createDelegate(this,this.fef)}
wac_RWb.prototype={ea:null,Yb:function(){return"WordEditor.RealTimeTyping"},fef:function(){return window.Box4.App.wc&&window.Box4.App.wc.Bl?window.Box4.App.wc.Bl:(wac_(7866377,304,15,"Unable to get the lock manager"),null)},Zb:function(a){var b=wac_Fb(wac_Zu,wac_m(a,wac_Zu)),c=wac_Fb(wac_M,wac_m(a,wac_M)),d=wac_Fb(wac_Lc,wac_m(a,wac_Lc)),e=wac_Fb(wac_UP,wac_m(a,wac_UP));this.ea=a;var f=new wac_Hw,g=this;wac_Xa.WAA.call(null,b,c,d,e).CW(function(){wac_n(wac_o(a.oa(wac_KWb,null)),function(){return new wac_SWb(a.J(wac_8u,
null),a.J(wac_Zu,null),f,a.J(wac_UP,null))});wac_n(wac_o(wac_p(a.oa(wac_TWb,null),wac_RGb)),function(){return new wac_TWb(a.J(wac_KWb,null),new wac_UWb(wac_D()),new (wac_d.$$(wac_hZa))(g.Vze),new (wac_d.$$(wac_nTa))(function(){return window.Box4.App.pN}),a.J(wac_M,null),a.J(wac_QC,null),a.J(wac_wt,null).XK(),new (wac_d.$$(wac_Ht))(function(){return window.Box4.App.za().Ma.Cc().jd()}),wac_r(),function(){return Date.now()},a.J(wac_UP,null),wac_D(),wac_m(a,wac_Lc),wac_OR.Xc,f,wac_q.W.ga("WordEditorThrottleAndBatchRTTRendering"),
new wac_VWb,wac_m(a,wac_IR))});wac_n(wac_o(a.oa(wac_WWb,null)),function(){return new wac_WWb(a.J(wac_wt,null).XK(),new wac_XWb,new (wac_d.$$(wac_su))(function(){return window.Box4.App.wc}),window.Box4.App.za().Ma,a.J(wac_UP,null),a.J(wac_M,null))});g.zFc()})},zFc:function(){this.ea.J(wac_TWb,null).wb();this.ea.J(wac_WWb,null).wb()},wb:function(){},na:function(){}};function wac_YWb(){this.ovb=new (wac_e.$$(wac_VR))}
wac_YWb.prototype={ovb:null,U:function(a){this.ovb.U(a);return!0},NWb:function(a){for(var b=new (wac_e.$$(wac_VR)),c=this.ovb.$$lge();c.$$mn();){var d=c.$$cu();a(d)&&b.U(d)}return b},vOc:function(a){wac_ZWb(a.Ima,wac__Wb.toString(1));this.ovb.zb(a)},wOc:function(a){wac_ZWb(a.Ima,wac__Wb.toString(0));this.ovb.zb(a)}};function wac_VR(a,b,c,d,e,f,g,h){wac_VR.initializeBase(this,[2,h]);this.$Ca=a;this.tRd=b;this.b6a=c;this.E4b=d;this.TZb=e;this.SZb=f;this.aI=g}
wac_VR.prototype={$Ca:0,tRd:0,b6a:0,E4b:null,TZb:0,SZb:0,aI:0,kL:function(){return new wac_JR(this.jz.V5,this.jz.HK,1,3,new wac_dR(2,this.$Ca,this.tRd,null,this.E4b,null,null,this.aI,0),null,null,null,new wac_SVb(this.b6a,this.TZb,this.SZb),null,null,null,0,this.jz.k6)}};function wac_0Wb(a,b){this.qOd=a;this.jQ=b}wac_0Wb.prototype={xH:function(){return 1},ifb:function(){return this.qOd},qOd:null,jQ:null};function wac_1Wb(a,b){this.pOd=a;this.jQ=b}
wac_1Wb.prototype={xH:function(){return 6},ifb:function(){return this.pOd},pOd:null,jQ:null};function wac_WR(a,b,c){this.TQc=a;this.Jtb=b;this.d2a=c}wac_WR.prototype={xH:function(){return 4},ifb:function(){return this.TQc},TQc:null,Jtb:null,d2a:null};function wac_2Wb(a,b){this.USb=a;this.jQ=b}wac_2Wb.prototype={xH:function(){return 2},ifb:function(){return this.USb},USb:null,jQ:null};function wac_VWb(){this.Zra=new (wac_La.$$(wac_e.$$(wac_TR)))}
wac_VWb.prototype={Zra:null,$qb:function(a){var b=a.toString();if(!this.Zra.hb(b))return new (wac_e.$$(wac_TR));a=this.Zra.B(b);this.Zra.zb(b);for(b=a.$$lge();b.$$mn();){var c=b.$$cu();c.ifb()&&wac_QWb(c.ifb(),null)}return a}};function wac_3Wb(a,b){for(a=a.Zra.wk().$$ge();a.$$mn();){var c=a.$$cu();if(c.la()&&2===c.B(0).xH()&&(c=c.B(0),c.USb.TZb===b))return c}return null}function wac_4Wb(a,b){return a.$qb(b)}
function wac_5Wb(a,b){switch(b.xH()){case 1:var c=window.$$as(wac_0Wb,b);wac_6Wb(a,c.jQ,b);break;case 6:c=window.$$as(wac_1Wb,b);wac_6Wb(a,c.jQ,b);break;case 4:c=window.$$as(wac_WR,b);wac_6Wb(a,c.Jtb,b);wac_6Wb(a,c.d2a,b);break;case 2:c=window.$$as(wac_2Wb,b),wac_6Wb(a,c.jQ,b)}}function wac_6Wb(a,b,c){b=b.toString();a.Zra.hb(b)||a.Zra.Z(b,new (wac_e.$$(wac_TR)));a.Zra.B(b).U(c)}function wac_UWb(a){this._changes=new (wac_Ea.$$(wac_Ea.$$(wac_RR)));this.Mb=a}
wac_UWb.prototype={_changes:null,Mb:null,NWb:function(a){for(var b=new (wac_e.$$(wac_RR)),c=this._changes.Xg().$$ge();c.$$mn();)for(var d=c.$$cu(),d=this._changes.B(d),e=d.Xg().$$ge();e.$$mn();){var f=e.$$cu(),f=d.B(f);a(f)&&b.U(f)}return b},vOc:function(a){wac_7Wb(this,a,1)},wOc:function(a){wac_7Wb(this,a,0)}};
function wac_7Wb(a,b,c){var d=null,e,f;(f=a._changes.Tb(b.rq(),e={val:d},null),d=e.val,f)?(wac_ZWb(b.Ima,wac__Wb.toString(c)),d.zb(b.eK()),d.la()||a._changes.zb(b.rq())):wac_(50938848,355,15,"Cannot remove an op that not exist in _changes. WordId: {0}; Reason: {1}",b.rq(),c)}function wac_8Wb(a,b,c){if(!a._changes.hb(b))return null;a=a._changes.B(b);return a.hb(c)?a.B(c):null}function wac__Wb(){}wac__Wb.prototype={expired:0,dried:1};wac__Wb.registerEnum("WERTT.RttDataStore.RemoveChangeReason",!1);
function wac_9Wb(a,b,c,d){wac_9Wb.initializeBase(this,[3,d]);this.Af=a;this.Tt=b;this.aI=c}wac_9Wb.prototype={Af:0,rq:function(){return this.Af},Tt:0,eK:function(){return this.Tt},ufb:function(){return 0},aI:0,kL:function(){return new wac_JR(this.jz.V5,this.jz.HK,1,5,new wac_dR(4,this.Af,this.Tt,null,null,null,null,this.aI,0),null,null,null,null,null,null,null,0,this.jz.k6)}};function wac_SWb(a,b,c,d){this.AU=a;this.KUa=b;this.h7=c;this.tic=d}
wac_SWb.prototype={AU:null,KUa:null,h7:null,tic:null,Z3a:function(a){var b=new wac_R;b.uc(a);wac_iy(b,11);return wac_Uz(b)?(wac_(16868566,355,50,"Blocked RTT para operation: in a list"),!0):!1}};
function wac_$Wb(a){var b=a.fa.va,c=a.ya;a=a.Ua;for(var d=0;d<b.ka();d++){var e=b.B(d);if(e.Pa>=a)break;if(e.Pa>=c){if(e.Ze)return wac_(8242647,355,15,"Rejected unsafe wet change: range contains comment"),!1;if(e.Ad)return wac_(8242648,355,15,"Rejected unsafe wet change: range contains blob"),!1;if(e.kg||e.Xo&32||e.Xo&64)return wac_(8242649,355,15,"Rejected unsafe wet change: range contains field"),!1}}return!0}
function wac_aXb(a,b,c,d){for(var e=c.la()-1;0<=e;e--){var f=c.B(e);switch(f.xH()){case 4:f=window.$$as(wac_WR,f);if(!b.ja().Ca(f.Jtb)){wac_c(9204885,355,b.ja().Ca(f.d2a),null);continue}f=d.Qb(f.d2a);if(!f)break;if(!f||!wac_V(f)){wac_c(9204886,355,!1,null);break}if(!f.Db)continue;var g,h,k,f=(k=wac_bXb(f,h={val:g}),g=h.val,k);wac_c(9204887,355,f,null);f&&wac_cXb(a,g);break;case 2:if(f=window.$$as(wac_2Wb,f),!b.ja().Ca(f.jQ))wac_c(16820001,355,!1,null);else if(b.Db){var l,m,f=(m=wac_bXb(b,l={val:g}),
g=l.val,m);wac_c(16820002,355,f,null);f&&wac_cXb(a,g)}}}}function wac_dXb(a,b){if(b.Db){var c,d,e;if(e=wac_bXb(b,d={val:c}),c=d.val,e)wac_cXb(a,c);else{c=wac_sx(b).rh;a=a.h7.Rc(3,0);try{wac_Q(a,b),b.ij(c.Qb(b.ja())),wac_Mz(b.Db,4)}finally{a&&a.dispose()}}}}function wac_cXb(a,b){var c=new wac_R;c.uc(b);wac_X(c);a=a.h7.Rc(3,0);try{wac_Q(a,c.ia()),wac_Fx(b)}finally{a&&a.dispose()}}function wac_bXb(a,b){b.val=wac_P(a);wac_S(b.val,23);wac_X(b.val);return 89===b.val.lk()}
function wac_eXb(a,b,c){return b===c?wac_U(a,b):wac_W(a,b,c)}function wac_fXb(a,b,c,d){var e=wac_uP(c,b.$Ca);if(e.Ca(wac_w()))return null;e=d.Qb(e);if(!e||!wac_V(e)||!e.Db)return null;var f=wac_P(e);if(!wac_S(f,23))return null;if(b.E4b){b=wac_uP(c,b.E4b);if(b.Ca(wac_w()))return null;d=d.Qb(b);if(!d||!wac_V(d)||!d.Db)return null;d=wac_P(d);if(!wac_S(d,23))return null;wac_iy(d,11);wac_rF(d);wac_qx(d);if(d.ia()!==e)return null}return a.Z3a(f)?null:f}
function wac_TWb(a,b,c,d,e,f,g,h,k,l,m,n,p,q,r,t,u,v){this.b9=Function.createDelegate(this,this.oha);this.Zoc=Function.createDelegate(this,this.QKc);this.iye=Function.createDelegate(this,this.qbf);this.WGa=a;this.hEa=b;this.Aab=c;this.tua=d;this.Ya=e;this.ir=f;this.fM=g;this.ah=h;this.Va=k;this.$x=l;this.tic=m;this.Mb=n;this.Rec=q;this.vb=r;this.aed=t;this.oDa=u;this.NJb=v;this.ybb=new (wac_Ca.$$(String))(wac_qa());this.P6a=new wac_YWb;p.rb(wac_gXb)}
function wac_gXb(a){for(var b=[3959281607,1157520733],c=b.length,d=0;d<c;++d){var e=b[d];a.oQ(e,"WetChangeCount",wac_dj);a.oQ(e,"NoChangesToApply",wac_dj);a.oQ(e,"NodeNotConnected",wac_dj);a.oQ(e,"CouldNotGetLock",wac_dj);a.oQ(e,"WetChangeBlocked",wac_dj);a.oQ(e,"ParagraphAlreadyDirty",wac_dj);a.oQ(e,"UnsafeWetChange",wac_dj)}a.oQ(1839802051,"FailedToFindInitialParaID",wac_QRb);a.oQ(1839802051,"FailedToFindInitialTextID",wac_QRb);a.oQ(1839802051,"MsecUntilApplied",wac_PRb);a.oQ(1839802051,"RemovedBecause",
wac_dj);a.oQ(1839802051,"PacketVersions",wac_dj);a.oQ(1839802051,"OperationType",wac_dj)}
wac_TWb.prototype={WGa:null,hEa:null,P6a:null,Aab:null,tua:null,Ya:null,ir:null,fM:null,vl:null,ah:null,$x:null,Va:null,xke:!1,tic:null,Mb:null,Rec:null,vb:null,oDa:null,NJb:null,ybb:null,i4c:!1,aed:!1,wb:function(){return this.fM?this.fM.CW(this.Zoc):wac_0a(Boolean,!1)},QKc:function(){wac_(7685328,355,50,"All prerequisite ready for RttManager");this.vl=this.fM.sc();wac_(7685330,355,50,"Subscribing to presence updates");this.vl.z3(this.b9)},oha:function(a,b){if(3===b.Zf&&wac_hXb(this))if(this.tua.qa()&&
this.tua.qa().Bd&4)wac_(8454939,355,15,"RTT channel did not get disconnected on lock release");else if(b.swa){if(this.gfe||(wac_(8704354,355,50,"Received a wet change"),this.gfe=!0),(a=wac_iXb(this,b.swa))&&1!==a.jz.GDd)switch(this.efe||(wac_(8185606,355,50,"Received a wet change that we could deserialize"),this.efe=!0),this.xke||(b=new wac_B(3,2,6E4,this.iye,0,null,!1,0),this.Va.nc(b),this.xke=!0),a.xH()){case 1:case 6:case 4:var c,d,e;if(e=wac_jXb(this,a,d={val:c}),c=d.val,!e)break;this.aed?wac_kXb(this,
c):wac_lXb(this,c);break;case 2:this.P6a.U(a),wac_mXb(this,a),this.aed?wac_kXb(this,wac_w()):wac_nXb(this,a)}}else wac_(7685331,355,15,"RTT packet was empty")},qbf:function(){var a=this.ah.qa();if(a){var b=this.$x()-18E4,c=this.hEa.NWb(function(a){return a.jz.JRc<b});0<c.la()&&!this.wbd&&!this.ffe&&(wac_(8185608,355,15,"Failed to apply any wet changes so far"),this.ffe=!0);for(var d=new wac_Na,e=c.$$lge();e.$$mn();)if(c=e.$$cu(),this.hEa.wOc(c),c.k_)switch(c.k_.xH()){case 1:d.U(c.k_.jQ.toString());
break;case 6:d.U(c.k_.jQ.toString());break;case 4:d.U(c.k_.Jtb.toString()),d.U(c.k_.d2a.toString())}for(e=this.P6a.NWb(function(a){return a.jz.JRc<b}).$$lge();e.$$mn();)c=e.$$cu(),this.P6a.wOc(c),c.k_&&d.U(c.k_.jQ.toString());for(d=d.GetEnumerator();d.$$mn();)c=d.$$cu(),(c=a.Qb(wac_7k(c)))?c.ZI?(wac_dXb(this.WGa,c),c.ZI||wac_ERb(this.Aab.qa(),c)):wac_(8765829,355,15,"Expiring wet change from paragraph with no applied changes"):wac_(8765828,355,15,"Expiring wet change with invalid object ID")}else!this.ah.heb&&
wac_(7685332,355,10,"Failed to find the IObjectSpace! Wet changes will never expire")},gCd:function(a,b){wac_oXb(this,a,b)},x1b:function(a){if(wac_hXb(this)&&a.Da(wac_oq)&&a.Da(wac_yr)){var b=a.Ia(Number,wac_oq),c=a.pa(Number,wac_yr,0),d=this.Mb.Vj(1157520733,-1),e=wac_4Wb(this.oDa,a.ja());0<e.la()&&(wac_aXb(this.WGa,a,e,this.ah.qa()),wac_pXb(this,a,e,c));var f=wac_3Wb(this.oDa,b);if(f&&!a.ja().Ca(f.jQ)){var g=this.ah.qa(),h=this;wac_qXb(this,function(){var a=h.oDa.$qb(f.jQ),b=g.Qb(f.jQ);wac_c(16820032,
355,!!b,"Could not find added graph node");b&&(wac_aXb(h.WGa,b,a,g),h.P6a.vOc(f.USb))})}wac_8Wb(this.hEa,b,c)||wac_ERb(this.Aab.qa(),a);this.gCd(a,d);d.Dd()}},wKc:function(a){var b=this.oDa.$qb(a.ja());0<b.la()&&(2===b.B(0).xH()&&b.ae(0),wac_aXb(this.WGa,a,b,this.ah.qa()))},L5a:function(a){for(var b=a.ja(),c,d,e,b=((e=this.oDa.Zra.Tb(b.toString(),d={val:c},null),c=d.val,e)?c:new (wac_e.$$(wac_TR))).$$lge();b.$$mn();)if(c=b.$$cu(),4===c.xH()&&(c=window.$$as(wac_WR,c),a.ja().Ca(wac_XR(c.TQc)?c.d2a:
c.Jtb)))return!0;return!1},gfe:!1,efe:!1,ife:!1,wbd:!1,ffe:!1};function wac_rXb(a){a.wbd||(wac_(8185607,355,50,"Successfully applied a wet change"),a.wbd=!0)}function wac_sXb(a){a.ife||(wac_(17147533,355,50,"Received a usable wet change"),a.ife=!0)}
function wac_pXb(a,b,c,d){for(var e=!1,f=c.la()-1;0<=f;f--){var g=c.B(f);switch(g.xH()){case 1:case 6:case 4:g=window.$$as(wac_RR,g.ifb());break;default:continue}if(g.ufb()===d){var e=!0,h;if(h=g.Y0a){h=g.Y0a;var k=b,l=h.Bb===k.ja();l&&(l=h.Utd.replace("\u00a0"," "),h=k.Ib.substr(h.ya,h.nl-h.ya).replace("\u00a0"," "),l=l===h);h=!l}h&&wac_(8765831,355,15,"Validating wet change location failed. Type {0} OffsetInfo {1} NodeId {2} ValidatorNodeId {3} ValidatorNodeCpBegin {4} ValidatorNodeCpEnd {5}",g.xH(),
g.nEc(),b.ja(),g.Y0a.ja(),g.Y0a.ya,g.Y0a.nl)}e&&a.hEa.vOc(g)}e&&wac_rXb(a)}
function wac_oXb(a,b,c){if(!b)return null;if(!b.Db)return c&&c.Na().Z("NodeNotConnected","1"),null;if(!b.Da(wac_oq))return wac_(7619922,355,15,"Paragraph is missing the WordId property"),null;if(!b.Da(wac_yr))return wac_(8197722,355,15,"Paragraph is missing the TextId property"),null;if(b.Da(wac_vKa)&&b.Ia(Boolean,wac_vKa))return wac_(16815506,355,50,"RTT edit disabled in paragraph"),null;var d=b.Ia(Number,wac_oq),e=wac_Q8a(b);c&&(c.Na().Z("NodeTextId",e.toString()),c.Na().Z("NodeWordId",d.toString()));
e=wac_8Wb(a.hEa,d,e);if(!e)return c&&c.Na().Z("NoChangesToApply","1"),null;if(!wac_tXb(a,b,e))return c&&c.Na().Z("CouldNotGetLock","1"),null;for(var f=0,g=null;e;){var h;a:{var k=a.WGa,l=e,m=b,n=a.oDa,p=c;if(m.F3())p&&p.Na().Z("ParagraphAlreadyDirty","1"),h=!1;else{var q=new wac_PWb(l,m.wi());try{if(1===l.xH()||6===l.xH()){var r=window.$$as(wac_YR,l),t,u=r,v=m,w=wac_eR(v.Ib,v.va),x=wac_cR(w,u.Lya),y=wac_cR(w,u.h0a);t=x===y?wac_U(v,x):wac_W(v,x,y);var z,A=t.fa.Ib,B=10<=t.ya?t.ya-10:0,C=t.Ua+10<=A.length?
t.Ua+10:A.length,D=A.substr(B,t.ya-B),E=A.substr(t.Ua,C-t.Ua),C=C+r.boa.length-(t.Ua-t.ya),F=D+r.boa+E;z=new wac_uXb(t.fa.ja(),B,C,F);var G=6===r.quc,H="";G&&(H=r.jya);var I;var u=t,J=r.boa,v=G,K=u.fa;if(u.ya===u.Ua||wac_$Wb(u)){var L=k.h7.Rc(3,0);try{wac_Q(L,K);var M=wac_ZE(K);try{K.ZI=!0,wac_FRb(k.AU,u,J,v,H)}finally{M&&M.dispose()}L.FZ=-1}finally{L&&L.dispose()}I=!0}else p&&p.Na().Z("UnsafeWetChange","1"),I=!1;if(!I){h=!1;break a}p=void 0;p=1===l.xH()?new wac_0Wb(r,m.ja()):new wac_1Wb(r,m.ja());
m.gSa=l.ufb();r.Y0a=z;wac_QWb(l,p);wac_5Wb(n,p)}else{var O;if(4===l.xH()){var p=k,P=window.$$as(wac_ZR,l),N=wac_cR(wac_eR(m.Ib,m.va),P.Dy);if(wac_$Wb(wac_W(m,0,wac_T(m)))){var R=wac_P(m);wac_S(R,10);if(p.Z3a(R))O=!1;else{var k=void 0,Q=p.h7.Rc(3,0);try{wac_Q(Q,m);var ba=wac_ZE(m);try{var T=wac_P(m);wac_S(T,10);wac_iy(T,11);var S=T.ia();wac_XR(P)&&(T.vT(-1)?S=null:(wac_rF(T),S=T.ia()));wac_X(T);var X=p.KUa.fMa();T.Cy(X,S,89);T.qg(X);var k=m.Lc(),ca=wac_ZE(k);try{k.ma(wac_oq,wac_XR(P)?P.F4b:P.Yub);
k.ma(wac_yr,wac_XR(P)?P.cub:P.dub);k.rx(!1);T.ge(k,2);T.qg(k);u=m;v=k;v.C0=!0;wac_ND(v,u.Ib);v.gSa=wac_Q8a(u);v.va.te();for(H=0;H<u.va.ka();H++){var aa=wac_uF(u.va.B(H),v,null);v.va.U(aa)}v.gk();if(v.Md.ka())for(H=0;H<v.va.ka();H++){var Y=v.va.B(H).fb;if(Y&&-1!==Y.qn)for(;v.Md.ka()<=Y.qn;)wac_uD(v.Md,v.Md.ka()-1,256,1)}else wac_(9204881,355,15,"Cannot update WordRunProperties after splitting paragraph");v.C0=!1;var ja=wac_XR(P)?k:m,ea=wac_XR(P)?m:k;ja.ZI=!0;ea.ZI=!0;wac_FRb(p.AU,wac_eXb(ja,N,wac_T(ja)),
"",!1,"");wac_FRb(p.AU,wac_eXb(ea,0,N),"",!1,"");m.gSa=P.aga;k.gSa=wac_XR(P)?P.cub:P.dub}finally{ca&&ca.dispose()}}finally{ba&&ba.dispose()}Q.FZ=-1}finally{Q&&Q.dispose()}var na=new wac_WR(P,m.ja(),k.ja());wac_QWb(l,na);wac_5Wb(n,na);O=!0}}else O=!1}else O=!1;h=O;break a}}finally{q&&q.dispose()}h=!0}}if(!h){c&&c.Na().Z("WetChangeBlocked","1");break}f++;g=e.Ima;q=a.$x();g.vG&&(g.vG.Na().hb("MsecUntilApplied")||g.vG.Na().Z("MsecUntilApplied",(q-g.vG.kW()).toString()));g=e;e=wac_Q8a(b);e=wac_8Wb(a.hEa,
d,e)}0<f&&wac_rXb(a);c&&c.Na().U("WetChangeCount",f.toString());return g}function wac_tXb(a,b,c){if(!a.Aab.qa())return wac_c(7866378,355,!!a.Aab.qa(),"Unable to apply wet changes as LockManager unavailable"),!1;var d;a=a.Aab.qa();c=wac_DRb(a,b,c.jz.HK);var e=b.pa(Number,wac_qt,0);e&&a.wa.Za("WLA",new wac_zKb(e),a);c&&c.LockId!==e&&wac_rZa(c,b);return(d=!!c,d)?!0:(wac_(7866379,355,15,"Unable to apply a wet change lock"),!1)}
function wac_vXb(a,b){var c=b.kL();if(2!==c.bN||c.RH.rha&&c.RH.Hqa!==c.RH.rha)return null;var d=b.Lya.Lc();0<b.boa.length&&(wac_kGb(d),d.wg+=b.boa.length);c.bN=0;c.Text=null;c.RH.bsb=0;c.RH.BBa=d;c.RH.DCa=c.XPa;c.RH.rha=null;c.RH.eub=null;c.RH.C4a=null;c.XPa=null;return wac_eWb(c,a.ir,a.tic,function(){return a.ah.qa()},a.NJb.Ga())}function wac_wXb(a,b){a.Rec.CW(function(){if(1===b.xH()){var c=wac_vXb(a,b);c&&(wac_vVb(a.Rec.sc(),c),c=a.Rec.sc(),wac_wVb(c))}})}
function wac_nXb(a,b){var c=wac_fXb(a.WGa,b,a.ir,a.ah.qa());if(c){wac_sXb(a);var d=a.WGa,e=a.oDa,f=wac_k().J(wac_dv,null),g=c.ia(),h=d.h7.Rc(3,0);try{wac_Q(h,g);wac_iy(c,11);var k=c.ia();wac_X(c);var l=d.KUa.fMa();c.Cy(l,k,89);c.qg(l);var m=wac_yt.gg.kp(393230),n=wac_ZE(m);try{m.ma(wac_1o,""),m.C0=!0,f.YOa(m),d=[0],m.ma(wac_nq,d),m.ma(wac_2q,d),m.C0=!1,m.ma(wac_oq,b.TZb),m.ma(wac_yr,b.SZb),m.rx(!1),c.ge(m,2),m.ZI=!0,m.gSa=b.SZb}finally{n&&n.dispose()}h.FZ=-1;b.k_=new wac_2Wb(b,m.ja());wac_5Wb(e,b.k_)}finally{h&&
h.dispose()}c=b.k_.jQ;c=a.ah.qa().Qb(c);wac_tXb(a,c,b)}}function wac_lXb(a,b){b=a.ah.qa().Qb(b);var c,d=a.vb.Rc(3,0);try{wac_Q(d,b);c=a.Mb.Vj(3959281607,-1);var e=wac_oXb(a,b,c);c.Dd();e&&wac_wXb(a,e)}finally{d&&d.dispose()}}
function wac_xXb(a){for(var b=a.P6a.NWb(function(a){return!a.k_}).$$lge();b.$$mn();){var c=b.$$cu();wac_nXb(a,c)}if(a.ybb.la()){b=null;for(c=a.ybb.GetEnumerator();c.$$mn();){var d=c.$$cu(),b=wac_7k(d),b=a.ah.qa().Qb(b);break}c=a.vb.Rc(3,0);try{wac_Q(c,b);for(var e=a.ybb.GetEnumerator();e.$$mn();)d=e.$$cu(),wac_lXb(a,wac_7k(d))}finally{c&&c.dispose()}a.ybb.te()}}
function wac_mXb(a,b){(a=a.Mb)?(a=a.Vj(1839802051,48E4),a=new wac_yXb(a)):a=null;b.Ima=a;a=b.Ima;a.vG&&a.vG.Na().Z("PacketVersions",b.jz.qMd.toString());a=b.Ima;b=wac_LWb.toString(b.xH());a.vG&&a.vG.Na().Z("OperationType",b)}function wac_qXb(a,b){b=new wac_B(0,1,0,b,71,null,!1,0);a.Va.nc(b)}function wac_kXb(a,b){b.Ca(wac_w())||a.ybb.U(b.toString());a.i4c||(b=new wac_B(0,1,200,function(){wac_xXb(a);a.i4c=!1},71,null,!1,0),a.Va.nc(b),a.i4c=!0)}
function wac_jXb(a,b,c){c.val=wac_w();var d;d=a.hEa;if(b){var e=b.rq(),f=b.eK();d._changes.hb(e)||d._changes.U(e,new (wac_Ea.$$(wac_RR)));d._changes.B(e).Z(f,b);var g;b:{if(d._changes.hb(e)&&(g=d._changes.B(e),g.hb(f)))for(var h=g.B(f);h;){h=h.ufb();if(h===f){g=!0;break b}if(!g.hb(h))break;h=g.B(h)}g=!1}g?(wac_(7619921,355,15,"Detected an infinite loop in paragraph {0}, dropping the last packet!",e),d._changes.B(e).zb(f),d=!1):d=!0}else wac_(7685333,355,15,"Cannot add a null change to RTTStore"),
d=!1;if(!d)return!1;wac_mXb(a,b);if(!a.ir)return!1;d=wac_uP(a.ir,b.rq());if(d.Ca(wac_w())||!a.ah.qa().Qb(d))return wac_zXb(b.Ima),!1;wac_sXb(a);c.val=d;return!0}
function wac_iXb(a,b){b=wac_0Vb(b);if(!b)return null;switch(b.bN){case 2:var c,d,e,f,g,h,k,l,m;(m=wac_AXb(b,g={val:c},h={val:d},k={val:e},l={val:f}),c=g.val,d=h.val,e=k.val,f=l.val,m)?(a="",b.Text&&(a=b.Text),g=wac_BXb(b),b=new wac_CXb(e,f,c,d,b.XPa,a,b.RH.aI,g)):b=null;return b;case 7:return wac_DXb(b);case 4:return wac_EXb(a)?(c=b.RH,d=b.MPa,b=new wac_ZR(c.Hqa,c.DCa,c.BBa,c.aI,d.TLc,d.ARc,d.ULc,d.BRc,wac_BXb(b))):b=null,b;case 3:return wac_EXb(a)?(c=b.RH,d=b.j1a,e=null,null!=b.RH.rha&&(e=b.RH.rha),
b=new wac_VR(c.Hqa,c.DCa,d.CRc,e,d.VLc,d.b6a,c.aI,wac_BXb(b))):b=null,b;default:return wac_(8459668,355,50,"RTT packet is of unexpected operationType {0}",b.bN),null}}function wac_EXb(a){return wac_hXb(a)&&a.Ya.ub(125)}function wac_hXb(a){return a.Ya.ub(166)&&a.Ya.ub(132)}function wac_FXb(a,b,c,d,e,f,g,h){wac_FXb.initializeBase(this,[5,h]);this.D4b=a;this.zRc=b;this.iTd=c;this.uRd=d;this.aI=e;this.uTc=f;this.a6a=g}
wac_FXb.prototype={D4b:0,zRc:0,iTd:0,uRd:0,aI:0,uTc:0,a6a:0,rq:function(){return this.D4b},eK:function(){return this.zRc},ufb:function(){return this.D4b===this.uTc?this.a6a:0},kL:function(){return new wac_JR(this.jz.V5,this.jz.HK,1,6,new wac_dR(5,this.D4b,this.zRc,null,this.iTd,this.uRd,null,this.aI,0),null,null,null,null,new wac_TVb(this.uTc,this.a6a),null,null,0,this.jz.k6)}};function wac_yXb(a){this.vG=a}wac_yXb.prototype={vG:null};
function wac_ZWb(a,b){a.vG&&(a.vG.Na().Z("RemovedBecause",b),a.vG.Dd())}function wac_zXb(a){a.vG&&a.vG.Na().Z("FailedToFindInitialParaID","1")}function wac_uXb(a,b,c,d){this.Bb=a;this.ya=b;this.nl=c;this.Utd=d}wac_uXb.prototype={Bb:null,ja:function(){return this.Bb},ya:0,nl:0,Utd:null};function wac_GXb(a,b,c,d,e,f){this.V5=a;this.HK=b;this.GDd=c;this.JRc=d;this.qMd=e;this.k6=f}function wac_BXb(a){var b=null;null!=a.k6&&(b=a.k6);return new wac_GXb(a.V5,a.HK,a.Tlb,Date.now(),a.YCa,b)}
wac_GXb.prototype={V5:0,HK:null,GDd:0,JRc:0,qMd:0,k6:null};function wac_CXb(a,b,c,d,e,f,g,h){wac_CXb.initializeBase(this,[a,b,c,d,e,f,g,h,1])}wac_CXb.prototype={nEc:function(){return"OffsetStart: "+this.Lya+"OffsetEnd: "+this.h0a+"TextAddedLength: "+this.boa.length},kL:function(){var a=wac_HXb(this);return new wac_JR(this.jz.V5,this.jz.HK,1,2,a,null,this.aga,this.boa,null,null,null,null,0,this.jz.k6)}};
function wac_IXb(a,b,c,d,e,f,g,h,k,l,m){wac_IXb.initializeBase(this,[d,e,f,g,h,k,l,m,6]);this.jya=a;this.RZe=b;this.H_e=c}
function wac_DXb(a){var b,c,d,e,f,g,h,k,l;if(l=wac_AXb(a,f={val:b},g={val:c},h={val:d},k={val:e}),b=f.val,c=g.val,d=h.val,e=k.val,!l)return null;if(1===a.Text.length)f=!1,g="\ufffc";else if(2===a.Text.length)if(f=a.Text,55296<=f.charCodeAt(0)&&56319>=f.charCodeAt(0)&&wac_jg(a.Text,1))f=!0,g=a.Text;else return wac_(8914772,355,15,"RTT symbol packet has text length 2 but is not a valid surrogate pair",a.bN),null;else return wac_(8914773,355,15,"RTT symbol packet text is of unsupported length (length must be 1 or 2)",
a.bN),null;h=a.Xtb;k=wac_BXb(a);return new wac_IXb(h.qRc,h.rRc,f,d,e,b,c,a.XPa,g,a.RH.aI,k)}wac_IXb.prototype={jya:null,RZe:!1,H_e:!1,nEc:function(){return"OffsetStart: "+this.Lya+"OffsetEnd: "+this.h0a},kL:function(){var a=wac_HXb(this);return new wac_JR(this.jz.V5,this.jz.HK,1,7,a,null,this.aga,this.boa,null,null,null,null,0,this.jz.k6)}};function wac_YR(a,b,c,d,e,f,g,h,k){wac_YR.initializeBase(this,[k,h]);this.Af=a;this.Tt=b;this.Lya=c;this.h0a=d;this.aga=e;this.boa=f;this.z9=g}
function wac_AXb(a,b,c,d,e){a=a.RH;if(1===a.bsb&&(a.Hqa!==a.rha||a.DCa!==a.eub))return wac_(8914769,355,15,"We received a ReplaceRange operation spanning multiple paragraphs"),b.val=c.val=null,d.val=e.val=-1,!1;if(a.aI)return b.val=c.val=null,d.val=e.val=-1,!1;b.val=a.BBa;c.val=b.val;1===a.bsb&&(c.val=a.C4a);d.val=a.Hqa;e.val=a.DCa;return!0}wac_YR.prototype={Af:0,rq:function(){return this.Af},Tt:0,eK:function(){return this.Tt},Lya:null,h0a:null,aga:0,ufb:function(){return this.aga},boa:null,z9:0};
function wac_HXb(a){return a.Lya.Gx(a.h0a,!0)?new wac_dR(0,a.Af,a.Tt,a.Lya,null,null,null,a.z9,0):new wac_dR(1,a.Af,a.Tt,a.Lya,a.Af,a.Tt,a.h0a,a.z9,0)}function wac_XWb(){this.tcb=new (wac__R.$$(wac_QTa))}wac_XWb.prototype={tcb:null};function wac_JXb(a){return a.tcb.an()?null:a.tcb.l2a()}function wac_WWb(a,b,c,d,e,f){this.ppd=Function.createDelegate(this,this.Xrf);this.Zoc=Function.createDelegate(this,this.QKc);this.fM=a;this.Yad=b;this.VL=c;this.uk=d;this.Fwa=e;this.Ya=f}
wac_WWb.prototype={fM:null,xj:null,Yad:null,VL:null,uk:null,Fwa:null,Ya:null,fHb:null,jua:!1,Vie:0,wed:0,Oje:!1,Ohc:!1,Xad:0,Rla:function(){return this.VL.qa()},wb:function(){return this.fM?this.fM.CW(this.Zoc):wac_0a(Boolean,!1)},QKc:function(){wac_(8245954,355,50,"All prerequisites ready for RttSendManager");this.xj=this.fM.sc();wac_UUb(this.xj,this)},oe:function(){this.jua||(wac_KXb(this)&&this.uk.Cc().Ot.wa.ob("PTC",this.ppd),this.jua=!0)},Zc:function(){this.jua=!1;wac_KXb(this)&&this.uk.Cc().Ot.wa.fd("PTC",
this.ppd)},Xrf:function(a,b){if(this.xj&&2===this.xj.Sla()&&(a=b.Ot,a.length))if(b.Ctd)100>this.wed&&(this.wed++,wac_(8270467,355,50,"Blocking send. Reason: {0} OverallSends: {1} OverallBlocked: {2}",b.Dtd,this.Vie,this.wed));else{for(b=0;b<a.length;b++){var c=a[b],d=c;if(!d||-1===d.z9||d.hf()&&(!wac_KXb(this)||!this.Ya.ub(126)||3!==d.hf()&&1!==d.hf()))return}for(b=0;b<a.length;b++){var c=a[b],e=!c.hf()&&!b,d=this.Yad;d.tcb.ACd()&&e&&d.tcb.ACd().XLa(c)||d.tcb.Aga(c)}this.fHb||wac_LXb(this,this.fHb,
this.xj)}}};
function wac_MXb(a,b){if(!b)return null;if(!a.Rla())return wac_(8245957,355,15,"GetParagraphAnchoredOpFromGraphTransactionOperation: CoAuth manager is null"),null;var c=wac_ZVb(wac_EWb);a=a.Rla().D_;var d=wac_fWb;4294967295===d.CHb&&(d.CHb=0);d.CHb++;c=new wac_GXb(c,a,1,0,0,d.CHb);a=null;switch(b.hf()){case 0:b.hf()?a=null:(a=wac_eR(b.ND.Kt(),b.ND.irc),a=new wac_CXb(b.ND.rq(),b.ND.eK(),wac_aR(a,b.ya),wac_aR(a,b.nl),b.rP.eK(),b.E_,b.z9,c));break;case 4:a=4!==b.hf()?null:new wac_9Wb(b.PJa.rq(),b.PJa.eK(),
b.z9,c);break;case 3:a=3!==b.hf()?null:new wac_VR(b.z4.rq(),b.z4.eK(),b.vxd.eK(),b.Lna?b.Lna.rq():null,b.rP.rq(),b.rP.eK(),b.z9,c);break;case 2:a=2!==b.hf()?null:new wac_FXb(b.z4.rq(),b.z4.eK(),b.Lna.rq(),b.Lna.eK(),b.z9,b.Vib.rq(),b.Vib.eK(),c);break;case 1:a=1!==b.hf()?null:new wac_ZR(b.ND.rq(),b.ND.eK(),wac_aR(wac_eR(b.ND.Kt(),b.ND.irc),b.XRb),b.z9,b.e9.rq(),b.e9.eK(),b.vJa.rq(),b.vJa.eK(),c)}return a}
function wac_LXb(a,b,c){wac_NXb(a);b&&(wac_2a(b)||wac_3a(b))&&wac_(8245956,355,15,"Task is faulted or cancelled with exception {0}",b.Ek);(b=wac_MXb(a,wac_JXb(a.Yad)))?(a.Vie++,a.fHb=c.xI(3,wac_2Vb(b.kL()),!1),wac_OXb(a),a.fHb.CW(function(b){wac_LXb(a,b,c)})):a.fHb=null}function wac_OXb(a){!a.Ohc&&5>=a.Xad&&(wac_(8270469,355,50,"Sent Rtt Message"),a.Ohc=!0)}function wac_NXb(a){a.Ohc||(a.Oje||(wac_(8270468,355,50,"Preparing to send RTT change"),a.Oje=!0),!a.Ohc&&5>=a.Xad&&a.Xad++)}
function wac_KXb(a){return a.Ya.ub(166)&&a.Ya.ub(137)}function wac_ZR(a,b,c,d,e,f,g,h,k){wac_ZR.initializeBase(this,[4,k]);this.Af=a;this.Tt=b;this.Dy=c;this.aI=d;this.F4b=e;this.cub=f;this.Yub=g;this.dub=h;this.F4b===this.Af?this.aga=this.cub:this.Yub===this.Af?this.aga=this.dub:(wac_(8397766,355,10,"Bad data passed to RttSplitParagraphOp"),this.aga=0)}
wac_ZR.prototype={Af:0,rq:function(){return this.Af},Tt:0,eK:function(){return this.Tt},aga:0,ufb:function(){return this.aga},Dy:null,aI:0,F4b:0,cub:0,Yub:0,dub:0,kL:function(){return new wac_JR(this.jz.V5,this.jz.HK,1,4,new wac_dR(3,this.Af,this.Tt,this.Dy,null,null,null,this.aI,0),null,null,null,null,null,new wac_UVb(this.F4b,this.cub,this.Yub,this.dub),null,0,this.jz.k6)}};function wac_XR(a){return a.Af===a.Yub}wac_PWb.registerClass("WERTT.GraphChangeValidator",null,Sys.IDisposable);
wac_UR.registerClass("WERTT.RttOp",null,wac_SR);wac_RWb.registerClass("WERTT.WordEditorRealTimeTypingPackage",null,wac_H,wac_j);wac_YWb.registerClass("WERTT.RttAddParagraphDataStore");wac_VR.registerClass("WERTT.RttAddParagraphOp",wac_UR);wac_0Wb.registerClass("WERTT.RttAppliedReplaceTextRangeOp",null,wac_TR);wac_1Wb.registerClass("WERTT.RttAppliedReplaceSymbolRangeOp",null,wac_TR);wac_WR.registerClass("WERTT.RttAppliedSplitParagraphOp",null,wac_TR);
wac_2Wb.registerClass("WERTT.RttAppliedAddParagraphOp",null,wac_TR);wac_VWb.registerClass("WERTT.RttAppliedOpTracker",null,wac_MWb);wac_UWb.registerClass("WERTT.RttDataStore",null,wac_JWb);wac_9Wb.registerClass("WERTT.RttDeleteParagraphOp",wac_UR,wac_RR,wac_SR);wac_SWb.registerClass("WERTT.RttEditor",null,wac_KWb);wac_TWb.registerClass("WERTT.RttManager",null,wac_RGb);wac_FXb.registerClass("WERTT.RttMergeParagraphOp",wac_UR,wac_RR,wac_SR);wac_yXb.registerClass("WERTT.RttOpActivity");
wac_uXb.registerClass("WERTT.RttOpValidator",null,wac_NWb);(function(){}).registerClass("WERTT.RttOpValidatorFactory");wac_GXb.registerClass("WERTT.RttOpMetadata");wac_YR.registerClass("WERTT.RttReplaceRangeOp",wac_UR);wac_CXb.registerClass("WERTT.RttReplaceTextRangeOp",wac_YR,wac_RR,wac_SR);wac_IXb.registerClass("WERTT.RttReplaceSymbolRangeOp",wac_YR,wac_RR,wac_SR);wac_XWb.registerClass("WERTT.RttSendDataStore",null,wac_OWb);wac_WWb.registerClass("WERTT.RttSendManager",null,wac_xt);
wac_ZR.registerClass("WERTT.RttSplitParagraphOp",wac_UR,wac_RR,wac_SR);wac_I(wac_C(),new wac_RWb,0,!1);Type.registerNamespace("RealtimePresenceUI");function wac_PXb(a,b,c,d,e,f,g,h,k,l,m,n,p,q,r){wac_PXb.initializeBase(this,[a,f,r,b]);this.gWd=c;this.zee=d;this.fde=e;this.ta=g;wac_QXb=h;this.ir=k;this.je=l;this.nV=m;this.NJb=n;this.FU=q}
function wac_RXb(a,b,c,d,e,f){var g=wac_0R.J(wac_gb,null),h=window.Box4.App.za().Ma,k=wac_x(),l=wac_rw(),m=wac_k().J(wac_Nu,null);return new wac_PXb(a,b,function(a,b){return h.od.tj()?h.od.HTb(a,b,!0):!1},function(a,b){h.od.tj()&&h.od.kPa(a,b,!0,!0)},function(){wac_pw().r6a()},k,l,h,c,d,e,f,0,m,g)}
function wac_SXb(a){var b=wac_QXb.Cc().jd().Qb(a.qm().sF());if(wac_i(b))return wac_(20764576,325,15,"The node could not be obtained"),null;if(!wac_V(b))return wac_(20764577,325,15,"The obtained node is not a paragraph node"),null;a=wac_U(b,a.qm().xK.lf());return new wac_7x([a],!0,null)}wac_PXb.prototype={gWd:null,zee:null,fde:null,ta:null,ir:null,je:null,nV:null,NJb:null,FU:null,MSc:function(a){this.FU.$Yb(a.CommandValueId);return wac_TSb.prototype.MSc.call(this,a)},na:function(){wac_OUb.prototype.na.call(this)}};
function wac_4Sb(a,b,c){c.val=wac_5Sb(a,b);return!!c.val}function wac_5Sb(a,b){return b?(a=wac_eWb(wac_0Vb(b),a.ir,a.je,a.nV,a.NJb.Ga()))&&a.qk()&&a.qm()?a:null:null}
function wac_YSb(a,b){var c,d,e;if(e=wac_4Sb(a,b,d={val:c}),c=d.val,e)a.zee(c.qm().sF(),c.qm().xK.lf()),wac_q.W.ga("WordEditorMoveIpToUserLocationIsEnabled")&&(b=wac_SXb(c),wac_i(b)?wac_(20764575,325,50,"IP will not be moved since the selection is either null or undefined"):(wac_(20764574,325,50,"Attempting to move IP to the editing location of the selected user"),a.ta.qc(b,null,!1,!1,0),wac_di()&&wac_ek(wac_y(),"document"))),b=new wac_B(2,1,0,function(){a.ha.fc(761503246,2,c,null)},0,null,!1,0),
wac_r().nc(b)}Type.registerNamespace("WordEditor.PeoplesWellControl");wac_K=window.WordEditor||{};wac_K.ewf=wac_K.ewf||{};function wac_TXb(){this.apc=Function.createDelegate(this,this.SKc);this.wu=Function.createDelegate(this,this.fu)}
wac_TXb.prototype={Yb:function(){return"WordEditor.PeoplesWellControl"},Zb:function(a){wac_0R=a},wb:function(){wac_9h(wac_q.W,this.wu)},fu:function(){wac_q.LMd?(wac_UXb||(wac_UXb=wac_k().J(wac_wt,null))).XK().CW(this.apc):wac_(23196872,325,50,"PeoplesWell control is explicitly disabled. Skipping initialization attempt")},SKc:function(){if(wac_VXb=(wac_UXb||(wac_UXb=wac_k().J(wac_wt,null))).XK().sc()){var a=function(){var a=window.Box4.App.za().Ma;return a?a.Cc()?a.Cc().jd():(wac_(23196876,325,15,
"ActivePage is null"),null):(wac_(23196875,325,15,"Workspace is null"),null)};window.Box4.App.P3().CW(function(){var b=window.Box4.App.P3().sc().D_,c=wac_VXb.vl,d=wac_VXb.vl,e=wac_7Sb(wac_WXb(),b,c.DAe||(c.DAe=Function.createDelegate(c,c.cff)),d.FAe||(d.FAe=Function.createDelegate(d,d.fHd))),f=wac_q.W.ga("ResolveStandaloneRootControllerFutureInstead");wac_n(wac_o(wac_p(wac_k().oa(wac_PXb,null),wac_rc)),function(){return wac_RXb(e,wac_Fb(wac_qc,wac_m(wac_0R,wac_qc)),wac_l(wac_0R,wac_QC),wac_l(wac_0R,
wac_UP),a,wac_m(wac_0R,wac_IR),f?wac_m(wac_0R,wac_0c).Ga().Mh:wac_0R.J(wac_0c,null).Mh)});wac_0Sb=wac_k().J(wac_rc,null);wac__Sb();wac_(23196877,325,50,"PeoplesWellControl is fully initialized")})}else wac_(23196873,325,15,"Can't initialize the PeoplesWell control because can't get a handle to RtcProxy")},na:function(){wac_0Sb&&(wac_0Sb.dispose(),wac_0Sb=null)}};wac_PXb.registerClass("RealtimePresenceUI.WordEditorPeoplesWell",wac_OUb);
wac_TXb.registerClass("WordEditor.PeoplesWellControl.WordEditorPeoplesWellControlPackage",null,wac_H,wac_j);(function(){}).registerClass("WordEditor.PeoplesWellControl.Program");var wac_QXb=null,wac_0Sb=null,wac_0R=null,wac_VXb=null,wac_UXb=null;wac_I(wac_C(),new wac_TXb,0,!1);
